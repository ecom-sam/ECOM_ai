[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------< com.ecom.ai:ecom-assistant-api >-------------------
[INFO] Building ecom-assistant-api 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.4.5:run (default-cli) > test-compile @ ecom-assistant-api >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ ecom-assistant-api ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ ecom-assistant-api ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ ecom-assistant-api ---
[INFO] skip non existing resourceDirectory /mnt/e/work/Couchbase/ecom_ai/ecom-assistant/ecom-assistant-api/src/test/resources
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ ecom-assistant-api ---
[INFO] No sources to compile
[INFO] 
[INFO] <<< spring-boot:3.4.5:run (default-cli) < test-compile @ ecom-assistant-api <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.4.5:run (default-cli) @ ecom-assistant-api ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.5)

2025-07-31T00:11:04.828+08:00  INFO 7736 --- [ecom-assistant] [           main] c.e.a.e.EcomAssistantApplication         : Starting EcomAssistantApplication using Java 21.0.8 with PID 7736 (/mnt/e/work/Couchbase/ecom_ai/ecom-assistant/ecom-assistant-api/target/classes started by sam in /mnt/e/work/Couchbase/ecom_ai/ecom-assistant/ecom-assistant-api)
2025-07-31T00:11:04.836+08:00  INFO 7736 --- [ecom-assistant] [           main] c.e.a.e.EcomAssistantApplication         : No active profile set, falling back to 1 default profile: "default"
2025-07-31T00:11:10.240+08:00  INFO 7736 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Couchbase repositories in DEFAULT mode.
2025-07-31T00:11:10.283+08:00  INFO 7736 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Couchbase repository interfaces.
2025-07-31T00:11:12.146+08:00  INFO 7736 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Couchbase repositories in DEFAULT mode.
2025-07-31T00:11:13.700+08:00  INFO 7736 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1550 ms. Found 0 Couchbase repository interfaces.
2025-07-31T00:11:13.713+08:00  INFO 7736 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Couchbase repositories in DEFAULT mode.
2025-07-31T00:11:12.208+08:00  INFO 7736 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 781 ms. Found 11 Couchbase repository interfaces.
2025-07-31T00:11:12.961+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'shiroConfig' of type [com.ecom.ai.ecomassistant.auth.config.ShiroConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lifecycleBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-07-31T00:11:13.317+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseConfig' of type [com.ecom.ai.ecomassistant.db.config.CouchbaseConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:15.346+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseClusterEnvironment' of type [com.couchbase.client.java.env.ClusterEnvironment] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:15.348+08:00  INFO 7736 --- [ecom-assistant] [           main] c.e.a.e.db.config.CouchbaseConfig        : Connecting to Couchbase cluster at 127.0.0.1
2025-07-31T00:11:15.822+08:00  INFO 7736 --- [ecom-assistant] [oundedElastic-1] c.c.c.c.c.DefaultConfigurationProvider   : Resolved seed nodes: [SeedNode{address='127.0.0.1'}]
2025-07-31T00:11:16.997+08:00  INFO 7736 --- [ecom-assistant] [   cb-io-kv-9-1] c.c.c.c.compression.snappy.SnappyHelper  : Using fast Snappy compression codec because this is little-endian hardware and `sun.misc.Unsafe` is accessible.
2025-07-31T00:11:17.053+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.core                       : [com.couchbase.core][CoreCreatedEvent] {"clientVersion":"3.7.9","clientGitHash":"b5ce2184","coreVersion":"3.7.9","coreGitHash":"b5ce2184","userAgent":"couchbase-java/3.7.9 (Linux 6.6.87.2-microsoft-standard-WSL2 amd64; OpenJDK 64-Bit Server VM 21.0.8+9-Ubuntu-0ubuntu124.04.1)","maxNumRequestsInRetry":32768,"ioEnvironment":{"nativeIoEnabled":true,"eventLoopThreadCount":8,"eventLoopGroups":["EpollEventLoopGroup"]},"ioConfig":{"captureTraffic":[],"mutationTokensEnabled":true,"networkResolution":"auto","dnsSrvEnabled":true,"tcpKeepAlivesEnabled":true,"tcpKeepAliveTimeMs":60000,"configPollIntervalMs":2500,"kvCircuitBreakerConfig":"disabled","queryCircuitBreakerConfig":"disabled","viewCircuitBreakerConfig":"disabled","searchCircuitBreakerConfig":"disabled","analyticsCircuitBreakerConfig":"disabled","managerCircuitBreakerConfig":"disabled","eventingCircuitBreakerConfig":"disabled","backupCircuitBreakerConfig":"disabled","numKvConnections":1,"maxHttpConnections":12,"idleHttpConnectionTimeoutMs":1000,"configIdleRedialTimeoutMs":300000,"memcachedHashingStrategy":"StandardMemcachedHashingStrategy","timerConfig":{"numTimers":1,"tickDurationMs":10,"numBuckets":512},"lowWaterMark":"32 KiB","highWaterMark":"64 KiB","sendBuffer":null,"receiveBuffer":null},"compressionConfig":{"enabled":true,"minRatio":0.83,"minSize":32},"securityConfig":{"tlsEnabled":false,"nativeTlsEnabled":true,"hostnameVerificationEnabled":true,"trustCertificates":null,"trustManagerFactory":null,"ciphers":[]},"timeoutConfig":{"kvMs":2500,"kvDurableMs":10000,"kvScanMs":75000,"managementMs":75000,"queryMs":75000,"viewMs":75000,"searchMs":75000,"analyticsMs":75000,"connectMs":10000,"disconnectMs":10000,"eventingMs":75000,"backupMs":75000},"loggerConfig":{"diagnosticContextEnabled":false},"orphanReporterConfig":{"emitIntervalMs":10000,"sampleSize":10,"queueLength":1024,"enabled":true},"thresholdLoggingTracerConfig":{"enabled":true,"emitIntervalMs":10000,"sampleSize":10,"queueLength":1024,"kvThresholdMs":500,"queryThresholdMs":1000,"searchThresholdMs":1000,"analyticsThresholdMs":1000,"viewThresholdMs":1000,"transactionsThresholdMs":5000},"loggingMeterConfig":{"enabled":true,"emitIntervalMs":600000},"retryStrategy":"BestEffortRetryStrategy","requestTracer":"ThresholdLoggingTracer","meter":"LoggingMeter","numRequestCallbacks":0,"scheduler":"ParallelScheduler","schedulerThreadCount":16,"transactionsConfig":{"durabilityLevel":"MAJORITY","timeoutMs":15000,"cleanupConfig":{"runLostAttemptsCleanupThread":true,"runRegularAttemptsCleanupThread":true,"cleanupWindowMs":60000,"cleanupSet":""},"numAtrs":1024,"metadataCollection":"none","scanConsistency":"none"},"preferredServerGroup":"null"} {"connectionString":"couchbase://127.0.0.1","coreId":"0xb07ba55200000001","numCoreInstances":1}
2025-07-31T00:11:17.053+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.transactions               : [com.couchbase.transactions][TransactionsStartedEvent] Transactions successfully initialised, regular cleanup enabled=true, lost cleanup enabled=true
2025-07-31T00:11:17.054+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.node                       : [com.couchbase.node][NodeCreatedEvent] Node created {"coreId":"0xb07ba55200000001","managerPort":"8091","remote":"127.0.0.1"}
2025-07-31T00:11:18.513+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseCluster' of type [com.couchbase.client.java.Cluster] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:18.602+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseClientFactory' of type [org.springframework.data.couchbase.SimpleCouchbaseClientFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:18.749+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseCustomConversions' of type [org.springframework.data.couchbase.core.convert.CouchbaseCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:18.769+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.core                       : [com.couchbase.core][BucketOpenedEvent][163ms] Opened bucket "ECOM" {"coreId":"0xb07ba55200000001"}
2025-07-31T00:11:18.835+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseMappingContext' of type [org.springframework.data.couchbase.core.mapping.CouchbaseMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:18.920+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#143413cd' of type [org.springframework.beans.factory.config.ObjectFactoryCreatingFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:18.921+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#143413cd' of type [org.springframework.beans.factory.config.ObjectFactoryCreatingFactoryBean$TargetBeanObjectFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:18.949+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingCouchbaseConverter' of type [org.springframework.data.couchbase.core.convert.MappingCouchbaseConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:19.048+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseTranslationService' of type [org.springframework.data.couchbase.core.convert.translation.JacksonTranslationService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:19.444+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseTemplate' of type [org.springframework.data.couchbase.core.CouchbaseTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:19.447+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseRepositoryOperationsMapping' of type [org.springframework.data.couchbase.repository.config.RepositoryOperationsMapping] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:19.458+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#3' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:19.459+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#3' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.131+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.132+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userRepository' of type [jdk.proxy2.$Proxy104] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.133+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userService' of type [com.ecom.ai.ecomassistant.db.service.auth.UserService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.168+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#2' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.169+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#2' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.175+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.176+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRepository' of type [jdk.proxy2.$Proxy106] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.176+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamService' of type [com.ecom.ai.ecomassistant.db.service.auth.TeamService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.182+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#1' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.182+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#1' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.212+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamMembershipRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.213+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamMembershipRepository' of type [jdk.proxy2.$Proxy107] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.213+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamMembershipService' of type [com.ecom.ai.ecomassistant.db.service.auth.TeamMembershipService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.217+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#7' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.217+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#7' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.240+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRoleRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.240+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRoleRepository' of type [jdk.proxy2.$Proxy108] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.241+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRoleService' of type [com.ecom.ai.ecomassistant.db.service.auth.TeamRoleService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.253+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userManager' of type [com.ecom.ai.ecomassistant.core.service.UserManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.275+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseRealm' of type [com.ecom.ai.ecomassistant.auth.realm.CouchbaseRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.454+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.457+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'shiroFilterChainDefinition' of type [org.apache.shiro.spring.web.config.DefaultShiroFilterChainDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:20.699+08:00  WARN 7736 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T00:11:22.750+08:00  INFO 7736 --- [ecom-assistant] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-31T00:11:22.806+08:00  INFO 7736 --- [ecom-assistant] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-31T00:11:22.806+08:00  INFO 7736 --- [ecom-assistant] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-07-31T00:11:23.013+08:00  INFO 7736 --- [ecom-assistant] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-31T00:11:23.014+08:00  INFO 7736 --- [ecom-assistant] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18010 ms
2025-07-31T00:11:25.746+08:00  INFO 7736 --- [ecom-assistant] [           main] o.s.a.v.CouchbaseSearchVectorStore       : Init Cluster Called
2025-07-31T00:11:25.936+08:00  INFO 7736 --- [ecom-assistant] [           main] o.s.a.v.CouchbaseSearchVectorStore       : Created bucket
2025-07-31T00:11:25.995+08:00  INFO 7736 --- [ecom-assistant] [           main] o.s.a.v.CouchbaseSearchVectorStore       : Opened Bucket
2025-07-31T00:11:26.050+08:00  INFO 7736 --- [ecom-assistant] [           main] c.c.client.core.util.ConsistencyUtil     : Waiting for config
2025-07-31T00:11:26.050+08:00  INFO 7736 --- [ecom-assistant] [           main] c.c.client.core.util.ConsistencyUtil     : Adding nodes from global config: [NodeIdentifier{canonical=127.0.0.1:8091, hostForNetworkConnections='127.0.0.1'}]
2025-07-31T00:11:26.051+08:00  INFO 7736 --- [ecom-assistant] [           main] c.c.client.core.util.ConsistencyUtil     : Adding nodes from bucket configs: [NodeIdentifier{canonical=127.0.0.1:8091, hostForNetworkConnections='127.0.0.1'}]
QA VectorStore configured:
  - Bucket: ECOM
  - Scope: AI
  - Collection: qa-vector
  - Expected Index: spring-ai-qa-vector-index
2025-07-31T00:11:26.431+08:00  INFO 7736 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      : 🔧 Tiered RAG Configuration:
2025-07-31T00:11:26.431+08:00  INFO 7736 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Enabled: true
2025-07-31T00:11:26.432+08:00  INFO 7736 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Priority: QA_FIRST
2025-07-31T00:11:26.433+08:00  INFO 7736 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - QA Vector: enabled=true, topK=3, strategy=DIRECT_FTS_FIRST
2025-07-31T00:11:26.433+08:00  INFO 7736 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Document Vector: enabled=true, topK=6, threshold=0.7
2025-07-31T00:11:26.434+08:00  INFO 7736 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Max Results: 8, Fallback: true
2025-07-31T00:11:27.790+08:00  INFO 7736 --- [ecom-assistant] [           main] o.s.d.c.c.m.event.AuditingEventListener  : auditingHandler IS an IsNewAwareAuditingHandler: org.springframework.data.auditing.IsNewAwareAuditingHandler@2e258e70
2025-07-31T00:11:30.070+08:00  INFO 7736 --- [ecom-assistant] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-31T00:11:30.076+08:00  INFO 7736 --- [ecom-assistant] [           main] c.e.a.e.EcomAssistantApplication         : Started EcomAssistantApplication in 27.769 seconds (process running for 31.033)
2025-07-31T00:12:37.710+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-31T00:12:37.710+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-31T00:12:37.712+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-07-31T00:12:38.451+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T00:12:38.506+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["sam0219mm@ecom.com"],"client_context_id":"4c91dab5-e03c-4304-90fe-b4c82c8b8e19","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:12:38.868+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:12:38.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d71afac9-f097-4985-a474-438d803bf6ab","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:12:38.944+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5f873d0e
2025-07-31T00:12:45.983+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7670c474
2025-07-31T00:12:46.000+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:12:46.001+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"81186e02-c4f2-4bbf-8783-19bc9a105eb6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:12:46.008+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7e92abc9
2025-07-31T00:12:46.010+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@195e1aef
2025-07-31T00:12:46.012+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:12:46.013+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2b4d5fda-31d1-4cb4-bb20-1933dcf791ed","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:12:46.017+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1787a023
2025-07-31T00:12:46.019+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@598fd6eb
2025-07-31T00:12:46.021+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:12:46.022+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5f9750e3-1e03-403c-89f9-037e9cf9f854","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:12:46.027+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3228f2f0
2025-07-31T00:13:30.280+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 3310 ms
2025-07-31T00:13:36.267+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@af9a7d9
2025-07-31T00:13:36.270+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:36.270+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3f5917cf-3267-4d19-ada2-b2b2a2b2090a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:36.279+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2c75bd2
2025-07-31T00:13:36.282+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5de2334e
2025-07-31T00:13:36.300+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1a628044
2025-07-31T00:13:36.302+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2fd2fc2d
2025-07-31T00:13:36.305+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@17f32bce
2025-07-31T00:13:36.308+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T00:13:36.309+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2f11c249-7386-4449-aa36-373435522f1b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:36.350+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T00:13:36.352+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"36cb9bcb-a887-4f8b-a0dc-dfdd7390d1eb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:36.368+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2ac10f7c
2025-07-31T00:13:36.372+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:36.373+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"9a7a2b8c-cb73-4116-bf65-048d5e1b7596","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:36.380+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2406e454
2025-07-31T00:13:36.382+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2039640c
2025-07-31T00:13:36.384+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@653bee6f
2025-07-31T00:13:36.386+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4723b75b
2025-07-31T00:13:36.388+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5414cfaf
2025-07-31T00:13:36.391+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T00:13:36.392+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2f09217a-9286-4da9-9954-bdfb5751a8d4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:36.404+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T00:13:36.405+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"170505ce-4a40-4167-a921-6dae22eb648e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.303+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@52202e3
2025-07-31T00:13:39.306+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.307+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.308+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a8b8c0a2-0d13-4a55-803a-210d7301e1af","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.308+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"245424a8-3398-45e4-b10a-f71f94e8810f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.316+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@11d192f
2025-07-31T00:13:39.319+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@286b1a25
2025-07-31T00:13:39.322+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3dcb20d1
2025-07-31T00:13:39.325+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3d758e7d
2025-07-31T00:13:39.327+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@54c82c9d
2025-07-31T00:13:39.338+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@20708244
2025-07-31T00:13:39.341+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.342+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"fce2cf79-755d-4e16-95eb-c6c99fde806d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.350+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@690e8fab
2025-07-31T00:13:39.352+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@787a7c3d
2025-07-31T00:13:39.354+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3f1dcbe2
2025-07-31T00:13:39.355+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1b5b0ce7
2025-07-31T00:13:39.358+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@635abf0
2025-07-31T00:13:39.373+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:13:39.375+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"f0f3dd88-470c-4459-b7f8-e048dc26706d","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:39.383+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@615e3829
2025-07-31T00:13:39.387+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.388+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"22ac51ec-8c90-4af5-8924-4b2335fd23a8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.395+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3612a060
2025-07-31T00:13:39.397+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@220b657e
2025-07-31T00:13:39.398+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72a778af
2025-07-31T00:13:39.399+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@62a889a2
2025-07-31T00:13:39.401+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@411a3437
2025-07-31T00:13:39.404+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@38c399ff
2025-07-31T00:13:39.405+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.406+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"235cfc7c-0925-402e-bad6-ec2a60402442","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.412+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7168fc48
2025-07-31T00:13:39.414+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@57ab9e5e
2025-07-31T00:13:39.416+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4700b310
2025-07-31T00:13:39.418+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6328c66e
2025-07-31T00:13:39.419+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5514ecff
2025-07-31T00:13:39.421+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5ec6d16d
2025-07-31T00:13:39.422+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.423+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8f9f74f0-777f-4895-84df-cf81496fc49c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.429+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1c9c6196
2025-07-31T00:13:39.431+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3922cfdd
2025-07-31T00:13:39.433+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4ba3bf12
2025-07-31T00:13:39.435+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@230642b2
2025-07-31T00:13:39.436+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5c691795
2025-07-31T00:13:39.437+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@739a67e2
2025-07-31T00:13:39.439+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.440+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b390ea15-907a-4f6c-aa3f-d3d9c2f58a14","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.446+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@25970dac
2025-07-31T00:13:39.447+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3415d87e
2025-07-31T00:13:39.449+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@20d4b4d6
2025-07-31T00:13:39.450+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@516259
2025-07-31T00:13:39.451+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1db6f592
2025-07-31T00:13:39.454+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7fa0872
2025-07-31T00:13:39.456+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.456+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"7d31df91-b55e-43e4-b401-76e23785efe9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.462+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@20d6e5f
2025-07-31T00:13:39.463+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@9c587ed
2025-07-31T00:13:39.465+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2375e922
2025-07-31T00:13:39.467+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@749bcca6
2025-07-31T00:13:39.468+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1d8d2bfc
2025-07-31T00:13:39.470+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@38d23d4f
2025-07-31T00:13:39.472+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.473+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a7da6f0f-8346-4a18-8d08-015881bdfe0a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.478+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3462ef8e
2025-07-31T00:13:39.480+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1e36eb58
2025-07-31T00:13:39.481+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6a90e1a9
2025-07-31T00:13:39.483+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@438181f1
2025-07-31T00:13:39.484+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@60bc1890
2025-07-31T00:13:39.485+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@49f943f4
2025-07-31T00:13:39.487+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.488+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"078f25a2-cd7e-4f52-aa1a-7eeed0447316","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.493+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@24096ecb
2025-07-31T00:13:39.495+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6b48fdb2
2025-07-31T00:13:39.497+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6b3010d3
2025-07-31T00:13:39.498+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@68d518a2
2025-07-31T00:13:39.500+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7455c45
2025-07-31T00:13:39.502+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2bcc8472
2025-07-31T00:13:39.503+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.504+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"072adb10-c101-4d20-b9ae-b231d7a0c148","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.510+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4091af50
2025-07-31T00:13:39.513+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@41bfe8
2025-07-31T00:13:39.515+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2d4b7cd1
2025-07-31T00:13:39.516+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@626b821e
2025-07-31T00:13:39.518+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f4d5a2c
2025-07-31T00:13:39.520+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@227e1ed2
2025-07-31T00:13:39.522+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.523+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"06fa00c6-7936-4f02-a06f-ff48f60ac3bb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.529+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@54a553b8
2025-07-31T00:13:39.531+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6a604040
2025-07-31T00:13:39.532+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2fb9eb1a
2025-07-31T00:13:39.533+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7d63e8b1
2025-07-31T00:13:39.536+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3a54c36
2025-07-31T00:13:39.539+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6baf7e42
2025-07-31T00:13:39.540+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.541+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"aaf85b3e-b950-4984-86ab-15011d798a4b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.547+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@baeb916
2025-07-31T00:13:39.549+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@69eafeb2
2025-07-31T00:13:39.551+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4087cb45
2025-07-31T00:13:39.553+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@504ae079
2025-07-31T00:13:39.554+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2e52856f
2025-07-31T00:13:39.556+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1073f179
2025-07-31T00:13:39.558+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.559+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"721b708d-6604-497a-852d-bb1474aca20b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.565+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6e50cdd1
2025-07-31T00:13:39.566+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@691eb14a
2025-07-31T00:13:39.568+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@53dd28fb
2025-07-31T00:13:39.570+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5caae3c0
2025-07-31T00:13:39.572+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@34fc83c1
2025-07-31T00:13:39.574+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2874e0f5
2025-07-31T00:13:39.576+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.577+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f75c888c-4f10-4937-8794-eda2c99f47b5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.582+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@12549ff0
2025-07-31T00:13:39.584+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@196bca99
2025-07-31T00:13:39.585+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@49d9b0fe
2025-07-31T00:13:39.587+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@46a59278
2025-07-31T00:13:39.589+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@70b83e43
2025-07-31T00:13:39.591+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T00:13:39.592+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:13:39.593+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a42a9c9f-1754-41b9-91f5-b11ea79e8a61","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.601+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:13:39.604+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:13:39.605+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"ffd6a421-0f25-44ea-b3fc-8dadae59144b","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:13:39.645+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.646+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"82bf9fcf-994e-4f99-a423-a028b4515333","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.653+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:13:39.654+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"ae4dd249-7e17-48b4-8093-0fee9fd2ec42","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:39.660+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3e44bc24
2025-07-31T00:13:39.663+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.664+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"770fd30a-5d15-497e-97a2-7284efbe2734","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.670+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@77e0f803
2025-07-31T00:13:39.672+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6c8d0f51
2025-07-31T00:13:39.674+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@48f94718
2025-07-31T00:13:39.675+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@53c767bf
2025-07-31T00:13:39.677+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2397ad24
2025-07-31T00:13:39.679+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2764d980
2025-07-31T00:13:39.681+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.682+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b70e3ee8-ba36-4494-9ed2-5d274a763fe2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.688+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@25a79bf3
2025-07-31T00:13:39.690+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d35fa67
2025-07-31T00:13:39.692+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@53558068
2025-07-31T00:13:39.693+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@52fceb5b
2025-07-31T00:13:39.694+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4b9d8af4
2025-07-31T00:13:39.695+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2999b722
2025-07-31T00:13:39.697+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.697+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"fb1b4ca8-972d-4e78-9659-dde1a88fe743","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.703+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@56b024b9
2025-07-31T00:13:39.705+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6323bb07
2025-07-31T00:13:39.707+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@44ce57bd
2025-07-31T00:13:39.708+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@200ad8a1
2025-07-31T00:13:39.709+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7748b5f5
2025-07-31T00:13:39.711+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@9cdc398
2025-07-31T00:13:39.713+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.714+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b386c112-c9d8-4af2-9343-0a9355c27a7d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.720+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3f880ea3
2025-07-31T00:13:39.722+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1cd2380a
2025-07-31T00:13:39.724+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6350c025
2025-07-31T00:13:39.725+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2211d262
2025-07-31T00:13:39.727+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7e0610c0
2025-07-31T00:13:39.729+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@162dd2cc
2025-07-31T00:13:39.732+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.733+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"15f17ac7-b1c1-4320-9749-5644e02560b7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.739+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3a8390a9
2025-07-31T00:13:39.741+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@744d0729
2025-07-31T00:13:39.742+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4cc74eb7
2025-07-31T00:13:39.744+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@34045e51
2025-07-31T00:13:39.745+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@122496a0
2025-07-31T00:13:39.747+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@e4cbf82
2025-07-31T00:13:39.749+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.750+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2359c86a-0e91-4d1b-9c05-75a809937df5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.757+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7808ea0a
2025-07-31T00:13:39.759+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6e68c58c
2025-07-31T00:13:39.760+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@584fdf77
2025-07-31T00:13:39.762+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3314cb53
2025-07-31T00:13:39.763+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@c733f81
2025-07-31T00:13:39.764+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@249fcf26
2025-07-31T00:13:39.766+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.767+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f65389ea-e589-41a7-9b78-b8b013ebcb93","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.773+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@20d18a5
2025-07-31T00:13:39.775+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@e6a7e35
2025-07-31T00:13:39.775+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@38b975c2
2025-07-31T00:13:39.775+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@175605e4
2025-07-31T00:13:39.776+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3fe6c825
2025-07-31T00:13:39.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2ccbfb8
2025-07-31T00:13:39.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"ddd57b6c-50fc-41fc-8a97-b27a0275a36c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.778+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.779+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"d1ead583-8df0-477b-8b9a-a64ba0bd5bcf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.780+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@58f0a638
2025-07-31T00:13:39.780+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8411b893-0643-477b-ba4f-1907862cbf4a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.782+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@325245b3
2025-07-31T00:13:39.784+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@158c0f38
2025-07-31T00:13:39.785+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@72be0250
2025-07-31T00:13:39.785+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3c86f60d
2025-07-31T00:13:39.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.787+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5da15354
2025-07-31T00:13:39.787+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"0933d62c-33fd-43b1-9e82-84d71f1f0157","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.787+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@79847ff9
2025-07-31T00:13:39.788+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f420870
2025-07-31T00:13:39.789+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3b5390c1
2025-07-31T00:13:39.789+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5f57f7b6
2025-07-31T00:13:39.789+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7204407b
2025-07-31T00:13:39.791+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@48b7e50c
2025-07-31T00:13:39.791+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2d4c2244
2025-07-31T00:13:39.791+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@702a70e9
2025-07-31T00:13:39.792+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@438a5489
2025-07-31T00:13:39.792+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@24e26028
2025-07-31T00:13:39.793+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@27c6b64b
2025-07-31T00:13:39.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@19ab80b6
2025-07-31T00:13:39.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@72da434e
2025-07-31T00:13:39.794+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@15ae885
2025-07-31T00:13:39.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f7616fed-e62c-454a-b11f-7eb7382915be","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f46ea4b
2025-07-31T00:13:39.796+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6150455f
2025-07-31T00:13:39.797+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6d3a5fc4
2025-07-31T00:13:39.798+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2ad0ec68
2025-07-31T00:13:39.798+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@f194dcd
2025-07-31T00:13:39.799+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2d420533
2025-07-31T00:13:39.800+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7a9976d9
2025-07-31T00:13:39.801+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.802+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c8c48ffd-604d-4795-98ec-dc7a5662fb71","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.802+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5af98af7
2025-07-31T00:13:39.803+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@18f82b4b
2025-07-31T00:13:39.803+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@42f53751
2025-07-31T00:13:39.805+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@482fa7b7
2025-07-31T00:13:39.806+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.806+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6ba13b63
2025-07-31T00:13:39.806+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b963b0b3-1f1f-4f5c-b7af-2c93b2905b7c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.807+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7947acb2
2025-07-31T00:13:39.808+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1a96d393
2025-07-31T00:13:39.808+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@20bc62a2
2025-07-31T00:13:39.809+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4c5e1e84
2025-07-31T00:13:39.810+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T00:13:39.811+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f47d0ed
2025-07-31T00:13:39.811+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4b6aeabc-3ee8-44e2-96cd-32b341aa61f4","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.813+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@129123ab
2025-07-31T00:13:39.814+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7477de7
2025-07-31T00:13:39.814+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3eb77021
2025-07-31T00:13:39.815+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@36d9ec68
2025-07-31T00:13:39.817+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@20616676
2025-07-31T00:13:39.817+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:13:39.818+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3b8c1b79-b5ad-4568-bd53-65f46cba4d81","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.819+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4b458294
2025-07-31T00:13:39.823+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@77d1765e
2025-07-31T00:13:39.824+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@e127e60
2025-07-31T00:13:39.826+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.827+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"562a12c8-0728-40d3-8c0f-7da7593fafbf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.834+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@25ebeb02
2025-07-31T00:13:39.836+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@425d9c09
2025-07-31T00:13:39.838+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3e42619a
2025-07-31T00:13:39.839+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@23bee94c
2025-07-31T00:13:39.841+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5977b5c2
2025-07-31T00:13:39.844+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@77e4c731
2025-07-31T00:13:39.846+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.847+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e0aec695-ada9-41df-842a-65411a1b15f6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.855+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5a0726e6
2025-07-31T00:13:39.857+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@ea75063
2025-07-31T00:13:39.860+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6a1a2dd0
2025-07-31T00:13:39.862+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3b16b2ed
2025-07-31T00:13:39.866+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5845837f
2025-07-31T00:13:39.870+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6c55f45c
2025-07-31T00:13:39.872+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:39.873+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"30d4ead4-7c37-4386-974c-6fcf0884ad7e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.880+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@579a30ab
2025-07-31T00:13:39.883+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5915616f
2025-07-31T00:13:39.888+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2dbf4f49
2025-07-31T00:13:39.890+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6e0bb9b6
2025-07-31T00:13:39.892+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6892d3b4
2025-07-31T00:13:39.894+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T00:13:39.897+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:13:39.898+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"83d9030e-4d6f-4bcc-81d7-efbc88664ecf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.906+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:13:39.910+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:13:39.910+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"06c76497-8828-465c-8e4d-bd546fa529a2","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:13:39.972+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:13:39.973+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"df41ba76-ca45-4acc-8d28-e0d0432b2b59","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:39.981+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:13:39.982+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"6d77ece5-6328-4abf-8153-795b830fd232","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:48.247+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T00:13:48.248+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["sam0219mm@ecom.com"],"client_context_id":"e84205ee-94d9-4e58-8ab7-d6edb262b089","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:48.327+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:48.328+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"df07ebf1-184f-4d87-be07-775f9b8b306a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:48.333+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4a87d7c7
2025-07-31T00:13:48.544+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@585720e7
2025-07-31T00:13:48.547+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:48.548+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"513ad446-8f3c-40ae-8091-733d599fc8ce","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:48.554+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@46d7cdc8
2025-07-31T00:13:48.556+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:48.557+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"593fcd58-ee10-484a-940e-128cc3fa96f4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:48.569+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:13:48.570+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"06593103-1f7b-4389-985a-6f3fd9fb18d9","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:48.582+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:13:48.582+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"d4ad25dd-f825-43ab-bfe4-612a70be27b9","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:48.596+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@708fed2c
2025-07-31T00:13:48.599+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:48.600+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3f48bf35-319e-4f7a-ac2a-e577f9ec2ad4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:48.606+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3e8233b3
2025-07-31T00:13:48.608+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:48.609+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2791b37b-cc57-4060-9c40-1e3f454f428d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:48.617+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:13:48.618+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"6d05380a-ee7f-4cc8-9dbc-89f4699e4ce2","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:48.626+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:13:48.626+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"06c0e388-7d46-4998-88b3-f7490318d8ba","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:52.601+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=d354c999-8775-44e5-a02e-c70d09a12022 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@1a7ed9d0
2025-07-31T00:13:52.614+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@41b36384
2025-07-31T00:13:52.617+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:52.617+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"fadc6d95-b1cc-4215-b5bb-dc8a5836c8c2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:52.627+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@34afcf58
2025-07-31T00:13:52.630+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T00:13:52.631+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["d354c999-8775-44e5-a02e-c70d09a12022"],"client_context_id":"3df4ab17-0480-4138-b286-67085036f3f7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:52.644+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=d354c999-8775-44e5-a02e-c70d09a12022 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@44472a68
2025-07-31T00:13:52.646+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6574d9f3
2025-07-31T00:13:52.649+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:52.650+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c75f90d3-4707-4b5d-8479-956d9489677a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:52.656+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@9f003f1
2025-07-31T00:13:52.658+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T00:13:52.659+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["d354c999-8775-44e5-a02e-c70d09a12022"],"client_context_id":"fd6e0102-2941-4e58-b3fb-02b7d7381cfd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:53.492+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b10c97a
2025-07-31T00:13:53.494+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:53.495+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c982c4d0-4a1e-47a2-8e64-a31a757b2b10","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:53.500+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@41d250ad
2025-07-31T00:13:53.502+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:53.503+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6a51a0dc-8639-459a-99aa-6a8f8ba1c9bf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:53.508+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:13:53.509+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"cf6ba5f8-c120-4cb1-91ae-47b9de91dc1c","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:53.517+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:13:53.518+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"fc9c5885-8d9d-4e43-8aab-a78f5f3e8f9d","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:53.532+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@13289027
2025-07-31T00:13:53.534+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:53.534+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"62a9e282-a2ae-4feb-80ab-b3bc807afc5f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:53.540+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@8e799ef
2025-07-31T00:13:53.542+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:53.543+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2cd84ef5-04ab-446a-9617-be3f5528fce6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:53.549+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:13:53.550+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"ab1fa552-fa64-46cb-a496-f90dd4b058b9","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:53.559+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:13:53.560+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"cab36773-6680-4c1d-a6e5-81a01e74d507","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:53.906+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ec96ee5d-a843-440e-9255-2e3a714d4b55 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@506870cd
2025-07-31T00:13:53.909+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T00:13:53.910+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ec96ee5d-a843-440e-9255-2e3a714d4b55"],"client_context_id":"d4ccb4ff-0e30-45a8-b4eb-31fca069341b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:53.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ec96ee5d-a843-440e-9255-2e3a714d4b55 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@336c6316
2025-07-31T00:13:53.922+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T00:13:53.923+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ec96ee5d-a843-440e-9255-2e3a714d4b55"],"client_context_id":"cadac514-ee91-4520-9a1c-c2bd51af3b92","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:54.501+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6b150915
2025-07-31T00:13:54.503+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:54.503+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2ad56243-e991-45c1-a57c-dbb34b6652d8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:54.509+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@16fc6a75
2025-07-31T00:13:54.511+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:54.512+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"61ec83c6-8157-4c3c-a3fb-369cb29fc7a0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:54.518+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:13:54.518+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"6633019b-e996-4c75-a283-95801635575f","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:54.529+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:13:54.530+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"d9e8a063-c679-4780-8e08-5672ae7e31b5","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:54.543+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4aca14be
2025-07-31T00:13:54.546+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:54.546+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8c678eb2-925b-4f4a-95eb-73b77706bda3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:54.552+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3e87dbcf
2025-07-31T00:13:54.554+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:54.555+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2edffce0-7477-4ddf-b75c-d59c7044241c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:54.562+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:13:54.562+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"a51caf11-0523-4335-96d7-45dd20a75b71","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:54.572+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:13:54.573+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"f8b14e7a-3db0-4d97-861d-2cc77f416429","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:54.881+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@777ea8e6
2025-07-31T00:13:54.883+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T00:13:54.885+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"f3bb6462-827d-4289-9024-7c587c9ea87c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:54.909+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@4a933be0
2025-07-31T00:13:54.911+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T00:13:54.912+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"17aaa6eb-a4e8-477c-8d17-f1de09041504","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:54.923+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Checking QA verification permission for user: 8e5a59f8-cef9-435d-9271-4ba92a70906e
2025-07-31T00:13:54.923+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@79f3bf2c
2025-07-31T00:13:54.925+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:54.926+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a78f42d3-2408-4ca6-9750-399917d3c2ac","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:54.931+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3f5c5a53
2025-07-31T00:13:54.933+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has roles: [system:USER] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:*]
2025-07-31T00:13:54.933+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has QA verification permission: false
2025-07-31T00:13:54.948+08:00  INFO 7736 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.controller.QAController          : Checking QA verification permission for user: 8e5a59f8-cef9-435d-9271-4ba92a70906e
2025-07-31T00:13:54.948+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@55849218
2025-07-31T00:13:54.950+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:54.951+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5dd798bc-82f1-415f-a701-31c896f0fa5a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:54.956+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5ce2ecd2
2025-07-31T00:13:54.958+08:00  INFO 7736 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has roles: [system:USER] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:*]
2025-07-31T00:13:54.958+08:00  INFO 7736 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has QA verification permission: false
2025-07-31T00:13:58.917+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@73118e7c
2025-07-31T00:13:58.919+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"25836b23-f3ed-4054-af28-5ae65a15ef9e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.926+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3ae060d3
2025-07-31T00:13:58.927+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.928+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"489f9893-5255-448d-8f80-26944805c1a1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.933+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:13:58.934+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"4e98ec74-de00-4ef3-919e-f8dd760f543f","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:58.942+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:13:58.942+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"7baafa48-58fd-4823-a1c1-ede2acb6f189","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:58.955+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7909ec6
2025-07-31T00:13:58.957+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.957+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"45377556-dbbb-4aac-9a85-a43446a91b1d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.963+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@50ee8fbb
2025-07-31T00:13:58.965+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.967+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"24fb218b-7e23-49fb-90dd-7f08ce52faa3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.973+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:13:58.973+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"14484fa4-6bbe-496a-b08a-961640e96927","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:58.981+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:13:58.982+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"1c02d08b-de74-4b04-9d9e-213697871737","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:59.341+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@457a4913
2025-07-31T00:13:59.341+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:59.342+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d86c4782-b89f-428a-aa4b-5d63f7cbbd97","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:59.343+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:59.344+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d4b7d320-6416-4895-b4ba-0abc3d2aec37","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:59.350+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@79370e38
2025-07-31T00:13:59.351+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:13:59.352+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"1d4a0508-3216-43c5-9bbd-162ae83a2222","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:59.353+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2a2876c5
2025-07-31T00:13:59.355+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:59.355+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f7614913-bc22-4ed0-9ab2-f624213093ce","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:59.358+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@576d93c3
2025-07-31T00:13:59.359+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:59.360+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cd9dc886-9cae-4d07-ac3c-38ce4f91924d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:59.360+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3d0d9042
2025-07-31T00:13:59.362+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@d73582
2025-07-31T00:13:59.365+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:59.366+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f9a4e8ae-a91e-41be-850d-93ec3d5aad4c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:59.366+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2c26c910
2025-07-31T00:13:59.368+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@489e4bee
2025-07-31T00:13:59.371+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:59.371+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"be902ef1-9407-4bae-a1b1-bca2d8cdcec5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:59.372+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4150ad6e
2025-07-31T00:13:59.378+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7ae1f99d
2025-07-31T00:13:59.380+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@41a98e89
2025-07-31T00:13:59.380+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2d05a49f
2025-07-31T00:13:57.904+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.904+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.904+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f268e2ab-121f-4ebe-8efc-0389f3d27735","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.905+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9ccb488c-3198-4b74-87ce-b91c3897eac0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.910+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5bddb1e5
2025-07-31T00:13:57.911+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7c962806
2025-07-31T00:13:57.912+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6126504b
2025-07-31T00:13:57.913+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3f692f47
2025-07-31T00:13:57.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"812cfca3-9986-4f7a-8df9-06cf6b949476","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.915+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.915+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"47c07ce8-bb3a-4b1d-9126-e1fcaef080a6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@147e70e3
2025-07-31T00:13:57.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@14a87971
2025-07-31T00:13:57.922+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@192e7923
2025-07-31T00:13:57.923+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@14090627
2025-07-31T00:13:57.924+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.925+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.925+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0579e6cb-b8c4-4ec8-bc90-d04a024a6817","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.925+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"453939b0-fc0a-4e3f-82b0-7aa59063505d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.930+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2f4ab17a
2025-07-31T00:13:57.930+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5912dab8
2025-07-31T00:13:57.931+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7c3d18d0
2025-07-31T00:13:57.934+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.934+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7f126351-5a58-43ad-8ad0-a4cb7ec33a7a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.940+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1ba396dc
2025-07-31T00:13:57.942+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@712e03ea
2025-07-31T00:13:57.944+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.944+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"92223293-9ab3-424d-8158-25a82ae00555","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.949+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@b95bdd4
2025-07-31T00:13:57.951+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1f7acfee
2025-07-31T00:13:57.953+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.953+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a56299b5-6446-4944-b40a-8cf59248c98f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.958+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@18e8bfab
2025-07-31T00:13:57.960+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1958de0f
2025-07-31T00:13:57.961+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.962+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4dbe65a4-42b6-4ac4-adae-697b307edfd0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.968+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3f05abed
2025-07-31T00:13:57.970+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7649065c
2025-07-31T00:13:57.971+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.972+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"40644e4c-6d11-4ffa-873d-af53474cb566","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.977+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2b01ead9
2025-07-31T00:13:57.978+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@74f6f110
2025-07-31T00:13:57.980+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.981+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"102d0d83-ebb9-463e-9b72-fd160ecf5cfd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.986+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@663e76a0
2025-07-31T00:13:57.987+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@58fbe7dd
2025-07-31T00:13:57.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.990+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ea15d29f-5cc5-4159-819a-6ada21a6733a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:57.994+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7c088939
2025-07-31T00:13:57.996+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3f3589d9
2025-07-31T00:13:57.997+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:57.998+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"10afe6a3-66ae-4fbe-adf0-cbd540b553c6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.002+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2a2b73e9
2025-07-31T00:13:58.003+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:13:58.004+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:13:58.005+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"9cf59c47-b86d-4921-8c9c-fdf600278a76","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.015+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:13:58.017+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:13:58.018+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"9adb459f-271a-4525-8023-ae264925d280","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:13:58.032+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.033+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"af5d9474-8d4d-48ad-9915-5a9786845c57","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.040+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:13:58.040+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"0d5e6bd9-ef7b-4318-992a-2c95d8d3bf6a","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:13:58.046+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3a398de3
2025-07-31T00:13:58.053+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.054+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bb6a5e47-5a13-402b-9814-4cce123a08aa","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.061+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@45a486b6
2025-07-31T00:13:58.063+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4a42403e
2025-07-31T00:13:58.065+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.066+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"019508a9-a0f0-4f09-8ac4-2dabeb7e851d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.071+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@731d575d
2025-07-31T00:13:58.073+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5bd8a48
2025-07-31T00:13:58.074+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.075+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c11e0445-0cba-4e7d-94c0-59988893e437","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.080+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@64cd2d7f
2025-07-31T00:13:58.081+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3cd6c268
2025-07-31T00:13:58.083+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.084+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c569e48f-6e9a-4400-97fa-859ae5365050","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.089+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2568cd10
2025-07-31T00:13:58.091+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4c6efc3f
2025-07-31T00:13:58.092+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.093+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7670b0dc-b7dc-4c35-b1a8-922d68e6e589","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.100+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@41458618
2025-07-31T00:13:58.102+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b8ad9da
2025-07-31T00:13:58.103+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.104+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5f182449-94ee-40d8-a89e-4646f49ec0d2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.109+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@28698df6
2025-07-31T00:13:58.111+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@13dd03c0
2025-07-31T00:13:58.115+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.116+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6e2aae7c-d01d-4b43-a83f-32abeb8b017b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.121+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7e4532e5
2025-07-31T00:13:58.123+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@639c60fe
2025-07-31T00:13:58.124+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.125+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9667e0d3-8496-42a3-872d-f2d5d70c54e7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.130+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7fe5746
2025-07-31T00:13:58.131+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7cc6977a
2025-07-31T00:13:58.133+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.133+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"99090382-633b-4dee-a2b7-8c3a137efda8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.139+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2bd84e0b
2025-07-31T00:13:58.140+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5e697851
2025-07-31T00:13:58.142+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.143+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a62dfe4d-0420-499b-beb6-14f543d1d60f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.145+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@79124ca6
2025-07-31T00:13:58.145+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@64724ca8
2025-07-31T00:13:58.145+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2482be13
2025-07-31T00:13:58.148+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.148+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.148+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.148+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"448d89e9-f4dc-4b96-af6c-d7bfba13d399","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.148+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@16dc49a1
2025-07-31T00:13:58.149+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"af0befc0-aaca-4296-8460-fa453a4ad46f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.149+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"61cee431-0f2c-40d0-a6cd-9ec0c6141532","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.151+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@272e30cf
2025-07-31T00:13:58.152+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.153+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ca433f7a-e47d-4374-aebf-c95052b4225a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.154+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@66c9f158
2025-07-31T00:13:58.155+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3439a383
2025-07-31T00:13:58.156+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@513cb7e4
2025-07-31T00:13:58.156+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:13:58.156+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@9a6659b
2025-07-31T00:13:58.157+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4c7ee4ec-60a9-42e3-81d0-08c427e1c692","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.158+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T00:13:58.158+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1d4cba38
2025-07-31T00:13:58.159+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"7fb29751-1c86-446e-b5ab-960bafd442a9","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.159+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7650a24b
2025-07-31T00:13:58.161+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5b51d84b
2025-07-31T00:13:58.162+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2fb413c1
2025-07-31T00:13:58.167+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.167+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9be02b14-75e2-4635-a06c-fdea8482ab73","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.175+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@79cae6b0
2025-07-31T00:13:58.177+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b46f59c
2025-07-31T00:13:58.179+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:13:58.180+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"fb9e8343-8185-46ff-9842-baba7251185a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.195+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1e80ff3f
2025-07-31T00:13:58.198+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:13:58.200+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:13:58.200+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"71b41a0d-1de1-4b3c-a488-92acbe4dd841","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.208+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:13:58.210+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:13:58.211+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"25613258-e950-41ab-9e1d-9e5f6584f9a6","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:13:58.289+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:13:58.290+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"d1ff60c9-ea8c-4ecf-8354-cd5f4c138a80","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:13:58.296+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:13:58.297+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"73316e84-029f-4812-877c-a37c0725312d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:07.330+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.core.service.DatasetManager      : findVisibleDatasetsForChat called for user: 8e5a59f8-cef9-435d-9271-4ba92a70906e
2025-07-31T00:14:07.330+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@222b7f96
2025-07-31T00:14:07.332+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:07.332+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cb89e6ee-d0f7-4ad6-8029-5e7da468002a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:07.332+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: chat-topic options: null statement: SELECT `_class`, META(`chat-topic`).`id` AS __id, `topic`, `userId`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `chat-topic` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.ChatTopic" AND `userId` = $userId AND contains(lower(`topic`), $topic) ORDER BY createdDateTime DESC LIMIT 20
2025-07-31T00:14:07.333+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"f017ee87-08d4-4f75-a9ac-510ed059b178","metrics":false,"$topic":"","scan_consistency":"request_plus"}
2025-07-31T00:14:07.337+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@62d5d02d
2025-07-31T00:14:07.337+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: chat-topic options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`chat-topic`).`id` AS __id, `topic`, `userId`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `chat-topic` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.ChatTopic" AND `userId` = $userId AND contains(lower(`topic`), $topic)) predicate_query
2025-07-31T00:14:07.337+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"7235b79c-ab5d-4cc8-9920-606d41d7ee2c","metrics":false,"$topic":"","scan_consistency":"request_plus"}
2025-07-31T00:14:07.338+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:07.338+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6fa7a615-32ee-46ee-b204-dc064831caa6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:07.348+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: chat-topic options: null statement: SELECT `_class`, META(`chat-topic`).`id` AS __id, `topic`, `userId`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `chat-topic` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.ChatTopic" AND `userId` = $userId AND contains(lower(`topic`), $topic) ORDER BY createdDateTime DESC LIMIT 20
2025-07-31T00:14:07.349+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"c788a43e-10cc-454a-ab3b-c2f3676fceca","metrics":false,"$topic":"","scan_consistency":"request_plus"}
2025-07-31T00:14:07.354+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: chat-topic options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`chat-topic`).`id` AS __id, `topic`, `userId`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `chat-topic` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.ChatTopic" AND `userId` = $userId AND contains(lower(`topic`), $topic)) predicate_query
2025-07-31T00:14:07.355+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"d6e6e3c4-101e-40c5-8ddc-1afa00c5d81e","metrics":false,"$topic":"","scan_consistency":"request_plus"}
2025-07-31T00:14:07.352+08:00 ERROR 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.db.service.DatasetService        : Error in DatasetService.findVisibleDatasets: name=, userId=8e5a59f8-cef9-435d-9271-4ba92a70906e, userTeamIds=[c79e8f7a-7d4d-47d7-982e-e87b69df5ab5], error=Number of method parameters (4) must match the number of method invocation arguments (3)

java.lang.IllegalArgumentException: Number of method parameters (4) must match the number of method invocation arguments (3)
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor.collectVariables(QueryMethodValueEvaluationContextAccessor.java:182) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.doGetEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:234) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.getEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:222) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.ExtensionAwareQueryMethodEvaluationContextProvider.getEvaluationContext(ExtensionAwareQueryMethodEvaluationContextProvider.java:105) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.getExpression(StringBasedN1qlQueryParser.java:700) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.<init>(StringBasedN1qlQueryParser.java:172) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.getStringN1qlQueryParser(StringQuery.java:130) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.toN1qlSelectString(StringQuery.java:75) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.assembleEntityQuery(ReactiveFindByQueryOperationSupport.java:292) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.all(ReactiveFindByQueryOperationSupport.java:181) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ExecutableFindByQueryOperationSupport$ExecutableFindByQuerySupport.all(ExecutableFindByQueryOperationSupport.java:95) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$PagedExecution.execute(CouchbaseQueryExecution.java:151) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$ResultProcessingExecution.execute(CouchbaseQueryExecution.java:84) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQuery.doExecute(AbstractCouchbaseQuery.java:93) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:132) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:113) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at com.ecom.ai.ecomassistant.db.service.DatasetService.findVisibleDatasets(DatasetService.java:57) ~[ecom-assistant-db-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasets(DatasetManager.java:71) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasetsForChat(DatasetManager.java:198) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.getDatasetsForChat(DatasetController.java:109) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T00:14:07.379+08:00 ERROR 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.core.service.DatasetManager      : Error in findVisibleDatasets for user 8e5a59f8-cef9-435d-9271-4ba92a70906e: Number of method parameters (4) must match the number of method invocation arguments (3)

java.lang.IllegalArgumentException: Number of method parameters (4) must match the number of method invocation arguments (3)
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor.collectVariables(QueryMethodValueEvaluationContextAccessor.java:182) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.doGetEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:234) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.getEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:222) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.ExtensionAwareQueryMethodEvaluationContextProvider.getEvaluationContext(ExtensionAwareQueryMethodEvaluationContextProvider.java:105) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.getExpression(StringBasedN1qlQueryParser.java:700) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.<init>(StringBasedN1qlQueryParser.java:172) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.getStringN1qlQueryParser(StringQuery.java:130) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.toN1qlSelectString(StringQuery.java:75) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.assembleEntityQuery(ReactiveFindByQueryOperationSupport.java:292) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.all(ReactiveFindByQueryOperationSupport.java:181) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ExecutableFindByQueryOperationSupport$ExecutableFindByQuerySupport.all(ExecutableFindByQueryOperationSupport.java:95) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$PagedExecution.execute(CouchbaseQueryExecution.java:151) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$ResultProcessingExecution.execute(CouchbaseQueryExecution.java:84) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQuery.doExecute(AbstractCouchbaseQuery.java:93) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:132) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:113) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at com.ecom.ai.ecomassistant.db.service.DatasetService.findVisibleDatasets(DatasetService.java:57) ~[ecom-assistant-db-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasets(DatasetManager.java:71) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasetsForChat(DatasetManager.java:198) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.getDatasetsForChat(DatasetController.java:109) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T00:14:07.380+08:00 ERROR 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.core.service.DatasetManager      : Error in findVisibleDatasetsForChat for user 8e5a59f8-cef9-435d-9271-4ba92a70906e: Number of method parameters (4) must match the number of method invocation arguments (3)

java.lang.IllegalArgumentException: Number of method parameters (4) must match the number of method invocation arguments (3)
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor.collectVariables(QueryMethodValueEvaluationContextAccessor.java:182) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.doGetEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:234) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.getEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:222) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.ExtensionAwareQueryMethodEvaluationContextProvider.getEvaluationContext(ExtensionAwareQueryMethodEvaluationContextProvider.java:105) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.getExpression(StringBasedN1qlQueryParser.java:700) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.<init>(StringBasedN1qlQueryParser.java:172) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.getStringN1qlQueryParser(StringQuery.java:130) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.toN1qlSelectString(StringQuery.java:75) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.assembleEntityQuery(ReactiveFindByQueryOperationSupport.java:292) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.all(ReactiveFindByQueryOperationSupport.java:181) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ExecutableFindByQueryOperationSupport$ExecutableFindByQuerySupport.all(ExecutableFindByQueryOperationSupport.java:95) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$PagedExecution.execute(CouchbaseQueryExecution.java:151) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$ResultProcessingExecution.execute(CouchbaseQueryExecution.java:84) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQuery.doExecute(AbstractCouchbaseQuery.java:93) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:132) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:113) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at com.ecom.ai.ecomassistant.db.service.DatasetService.findVisibleDatasets(DatasetService.java:57) ~[ecom-assistant-db-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasets(DatasetManager.java:71) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasetsForChat(DatasetManager.java:198) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.getDatasetsForChat(DatasetController.java:109) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T00:14:07.385+08:00 ERROR 7736 --- [ecom-assistant] [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Number of method parameters (4) must match the number of method invocation arguments (3)] with root cause

java.lang.IllegalArgumentException: Number of method parameters (4) must match the number of method invocation arguments (3)
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor.collectVariables(QueryMethodValueEvaluationContextAccessor.java:182) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.doGetEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:234) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.getEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:222) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.ExtensionAwareQueryMethodEvaluationContextProvider.getEvaluationContext(ExtensionAwareQueryMethodEvaluationContextProvider.java:105) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.getExpression(StringBasedN1qlQueryParser.java:700) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.<init>(StringBasedN1qlQueryParser.java:172) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.getStringN1qlQueryParser(StringQuery.java:130) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.toN1qlSelectString(StringQuery.java:75) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.assembleEntityQuery(ReactiveFindByQueryOperationSupport.java:292) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.all(ReactiveFindByQueryOperationSupport.java:181) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ExecutableFindByQueryOperationSupport$ExecutableFindByQuerySupport.all(ExecutableFindByQueryOperationSupport.java:95) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$PagedExecution.execute(CouchbaseQueryExecution.java:151) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$ResultProcessingExecution.execute(CouchbaseQueryExecution.java:84) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQuery.doExecute(AbstractCouchbaseQuery.java:93) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:132) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:113) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at com.ecom.ai.ecomassistant.db.service.DatasetService.findVisibleDatasets(DatasetService.java:57) ~[ecom-assistant-db-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasets(DatasetManager.java:71) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasetsForChat(DatasetManager.java:198) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.getDatasetsForChat(DatasetController.java:109) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T00:14:07.415+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.DatasetManager      : findVisibleDatasetsForChat called for user: 8e5a59f8-cef9-435d-9271-4ba92a70906e
2025-07-31T00:14:07.416+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@575d5649
2025-07-31T00:14:07.418+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:07.418+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"59ce0a19-c400-4a42-95de-10f75cafb26f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:07.423+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@449b8b84
2025-07-31T00:14:07.425+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:07.425+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0343a486-7998-4989-81b7-852481a3a0e8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:07.431+08:00 ERROR 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.db.service.DatasetService        : Error in DatasetService.findVisibleDatasets: name=, userId=8e5a59f8-cef9-435d-9271-4ba92a70906e, userTeamIds=[c79e8f7a-7d4d-47d7-982e-e87b69df5ab5], error=Number of method parameters (4) must match the number of method invocation arguments (3)

java.lang.IllegalArgumentException: Number of method parameters (4) must match the number of method invocation arguments (3)
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor.collectVariables(QueryMethodValueEvaluationContextAccessor.java:182) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.doGetEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:234) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.getEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:222) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.ExtensionAwareQueryMethodEvaluationContextProvider.getEvaluationContext(ExtensionAwareQueryMethodEvaluationContextProvider.java:105) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.getExpression(StringBasedN1qlQueryParser.java:700) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.<init>(StringBasedN1qlQueryParser.java:172) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.getStringN1qlQueryParser(StringQuery.java:130) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.toN1qlSelectString(StringQuery.java:75) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.assembleEntityQuery(ReactiveFindByQueryOperationSupport.java:292) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.all(ReactiveFindByQueryOperationSupport.java:181) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ExecutableFindByQueryOperationSupport$ExecutableFindByQuerySupport.all(ExecutableFindByQueryOperationSupport.java:95) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$PagedExecution.execute(CouchbaseQueryExecution.java:151) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$ResultProcessingExecution.execute(CouchbaseQueryExecution.java:84) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQuery.doExecute(AbstractCouchbaseQuery.java:93) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:132) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:113) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at com.ecom.ai.ecomassistant.db.service.DatasetService.findVisibleDatasets(DatasetService.java:57) ~[ecom-assistant-db-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasets(DatasetManager.java:71) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasetsForChat(DatasetManager.java:198) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.getDatasetsForChat(DatasetController.java:109) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T00:14:07.432+08:00 ERROR 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.DatasetManager      : Error in findVisibleDatasets for user 8e5a59f8-cef9-435d-9271-4ba92a70906e: Number of method parameters (4) must match the number of method invocation arguments (3)

java.lang.IllegalArgumentException: Number of method parameters (4) must match the number of method invocation arguments (3)
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor.collectVariables(QueryMethodValueEvaluationContextAccessor.java:182) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.doGetEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:234) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.getEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:222) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.ExtensionAwareQueryMethodEvaluationContextProvider.getEvaluationContext(ExtensionAwareQueryMethodEvaluationContextProvider.java:105) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.getExpression(StringBasedN1qlQueryParser.java:700) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.<init>(StringBasedN1qlQueryParser.java:172) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.getStringN1qlQueryParser(StringQuery.java:130) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.toN1qlSelectString(StringQuery.java:75) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.assembleEntityQuery(ReactiveFindByQueryOperationSupport.java:292) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.all(ReactiveFindByQueryOperationSupport.java:181) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ExecutableFindByQueryOperationSupport$ExecutableFindByQuerySupport.all(ExecutableFindByQueryOperationSupport.java:95) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$PagedExecution.execute(CouchbaseQueryExecution.java:151) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$ResultProcessingExecution.execute(CouchbaseQueryExecution.java:84) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQuery.doExecute(AbstractCouchbaseQuery.java:93) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:132) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:113) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at com.ecom.ai.ecomassistant.db.service.DatasetService.findVisibleDatasets(DatasetService.java:57) ~[ecom-assistant-db-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasets(DatasetManager.java:71) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasetsForChat(DatasetManager.java:198) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.getDatasetsForChat(DatasetController.java:109) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T00:14:07.433+08:00 ERROR 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.DatasetManager      : Error in findVisibleDatasetsForChat for user 8e5a59f8-cef9-435d-9271-4ba92a70906e: Number of method parameters (4) must match the number of method invocation arguments (3)

java.lang.IllegalArgumentException: Number of method parameters (4) must match the number of method invocation arguments (3)
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor.collectVariables(QueryMethodValueEvaluationContextAccessor.java:182) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.doGetEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:234) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.getEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:222) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.ExtensionAwareQueryMethodEvaluationContextProvider.getEvaluationContext(ExtensionAwareQueryMethodEvaluationContextProvider.java:105) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.getExpression(StringBasedN1qlQueryParser.java:700) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.<init>(StringBasedN1qlQueryParser.java:172) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.getStringN1qlQueryParser(StringQuery.java:130) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.toN1qlSelectString(StringQuery.java:75) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.assembleEntityQuery(ReactiveFindByQueryOperationSupport.java:292) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.all(ReactiveFindByQueryOperationSupport.java:181) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ExecutableFindByQueryOperationSupport$ExecutableFindByQuerySupport.all(ExecutableFindByQueryOperationSupport.java:95) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$PagedExecution.execute(CouchbaseQueryExecution.java:151) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$ResultProcessingExecution.execute(CouchbaseQueryExecution.java:84) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQuery.doExecute(AbstractCouchbaseQuery.java:93) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:132) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:113) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at com.ecom.ai.ecomassistant.db.service.DatasetService.findVisibleDatasets(DatasetService.java:57) ~[ecom-assistant-db-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasets(DatasetManager.java:71) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasetsForChat(DatasetManager.java:198) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.getDatasetsForChat(DatasetController.java:109) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T00:14:07.434+08:00 ERROR 7736 --- [ecom-assistant] [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Number of method parameters (4) must match the number of method invocation arguments (3)] with root cause

java.lang.IllegalArgumentException: Number of method parameters (4) must match the number of method invocation arguments (3)
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor.collectVariables(QueryMethodValueEvaluationContextAccessor.java:182) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.doGetEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:234) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.QueryMethodValueEvaluationContextAccessor$DefaultQueryMethodValueEvaluationContextProvider.getEvaluationContext(QueryMethodValueEvaluationContextAccessor.java:222) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.query.ExtensionAwareQueryMethodEvaluationContextProvider.getEvaluationContext(ExtensionAwareQueryMethodEvaluationContextProvider.java:105) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.getExpression(StringBasedN1qlQueryParser.java:700) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.StringBasedN1qlQueryParser.<init>(StringBasedN1qlQueryParser.java:172) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.getStringN1qlQueryParser(StringQuery.java:130) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.query.StringQuery.toN1qlSelectString(StringQuery.java:75) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.assembleEntityQuery(ReactiveFindByQueryOperationSupport.java:292) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ReactiveFindByQueryOperationSupport$ReactiveFindByQuerySupport.all(ReactiveFindByQueryOperationSupport.java:181) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.core.ExecutableFindByQueryOperationSupport$ExecutableFindByQuerySupport.all(ExecutableFindByQueryOperationSupport.java:95) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$PagedExecution.execute(CouchbaseQueryExecution.java:151) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.CouchbaseQueryExecution$ResultProcessingExecution.execute(CouchbaseQueryExecution.java:84) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQuery.doExecute(AbstractCouchbaseQuery.java:93) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:132) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.couchbase.repository.query.AbstractCouchbaseQueryBase.execute(AbstractCouchbaseQueryBase.java:113) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy146.findVisibleDatasets(Unknown Source) ~[na:na]
	at com.ecom.ai.ecomassistant.db.service.DatasetService.findVisibleDatasets(DatasetService.java:57) ~[ecom-assistant-db-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasets(DatasetManager.java:71) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.findVisibleDatasetsForChat(DatasetManager.java:198) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.getDatasetsForChat(DatasetController.java:109) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T00:14:08.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.921+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@11a5dd35
2025-07-31T00:14:08.921+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f477f38b-e19a-440b-a287-b6168cb87e82","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.923+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.924+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ae043fb3-c931-428b-8d52-09d633629745","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.931+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4362beb0
2025-07-31T00:14:08.931+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:14:08.932+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"af7e5944-15b7-4ea0-8f01-1f18883fd333","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:14:08.933+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5a82c8e4
2025-07-31T00:14:08.935+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.935+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bd0213a2-603a-4e99-a16c-6eb39a215416","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.938+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@78c352b4
2025-07-31T00:14:08.940+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.940+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6571eaf4
2025-07-31T00:14:08.941+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2ade69a2-64fb-4a92-ae60-9e12c99b47d6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.942+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@78aeca63
2025-07-31T00:14:08.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.944+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5e923282-7181-4df8-a6c0-1b246e97de9a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.946+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@24274bb5
2025-07-31T00:14:08.948+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6b2f9293
2025-07-31T00:14:08.949+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2e6f6cf8
2025-07-31T00:14:08.949+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.950+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"742a38a1-1c42-4e02-9bff-6fd065d4eb6b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.955+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7a6753b9
2025-07-31T00:14:08.957+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@18d3e8b3
2025-07-31T00:14:08.957+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1ffc1bfa
2025-07-31T00:14:08.959+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.959+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.959+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e6a79ff7-de1f-4ec9-bb20-37b79f5730d6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.960+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cf511ffe-e829-4db5-b531-09ab1da76605","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.964+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b772ff
2025-07-31T00:14:08.964+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6aa675b2
2025-07-31T00:14:08.965+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@119bc3b0
2025-07-31T00:14:08.966+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1b432eac
2025-07-31T00:14:08.966+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.967+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0f952e7e-24b8-4975-9d67-52a3bca61475","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.967+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.967+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0aee9ea6-5727-4078-ac60-91432a0c9620","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.971+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@51a1b0a1
2025-07-31T00:14:08.971+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@508cd56a
2025-07-31T00:14:08.972+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@56b05c56
2025-07-31T00:14:08.972+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2f50374a
2025-07-31T00:14:08.973+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.973+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.974+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"73b9c464-3a27-4013-8d01-990e94cf9455","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.974+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f024dd3f-84fd-4d09-b94b-e853cdb3752b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.978+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b2decf5
2025-07-31T00:14:08.978+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7682ccf7
2025-07-31T00:14:08.979+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@24e42463
2025-07-31T00:14:08.982+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.983+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"55ce268f-e8c1-480a-8f95-e06dbf12a0c6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.987+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@789cbce6
2025-07-31T00:14:08.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2c9a0d4f
2025-07-31T00:14:08.990+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.990+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"494138d6-8843-4810-8cd3-9a85a29a7804","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:08.995+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@28d4066d
2025-07-31T00:14:08.996+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2d16f828
2025-07-31T00:14:08.998+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:08.998+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"90ca45a1-1f28-4035-a3be-99a272b8113f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.004+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@30f00ae0
2025-07-31T00:14:09.005+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4cfc99c4
2025-07-31T00:14:09.007+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.007+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"aed556eb-b478-4cc3-8d21-491d3e8aa964","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.013+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@44931958
2025-07-31T00:14:09.015+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5ede6e5a
2025-07-31T00:14:09.016+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.016+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"368941c4-c4da-4168-a3cc-4622e37e541d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.021+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6e49c86b
2025-07-31T00:14:09.022+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@46d34edf
2025-07-31T00:14:09.024+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.024+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c0a9028c-0c42-4443-bdfa-5f42fc413f42","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.030+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1ad6d684
2025-07-31T00:14:09.032+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@37d7d73a
2025-07-31T00:14:09.033+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.034+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7317555e-5118-40d5-a156-3ac56c4e11e8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.039+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@17fd4b3b
2025-07-31T00:14:09.040+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b045aad
2025-07-31T00:14:09.042+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.043+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d21433b8-b6e1-42f5-952a-1a34a936d0b0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.049+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@674ac7bf
2025-07-31T00:14:09.050+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:14:09.051+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:14:09.053+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"04f1b266-2ed2-42ce-b5b0-c1913afb0856","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.059+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:14:09.060+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:14:09.061+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"41cc6abb-8856-447d-867d-5e057d000219","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:14:09.071+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.072+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2c46d53d-1402-4966-9680-865976b7c6ce","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.078+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:14:09.079+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"795a70fe-bae9-407b-9fe1-a79d5e9f2a19","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:14:09.084+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@28a765df
2025-07-31T00:14:09.086+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.086+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b31ce203-5c21-4f77-ab97-c0ee7c16c61a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.091+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@79796f09
2025-07-31T00:14:09.093+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@403b3e81
2025-07-31T00:14:09.094+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.095+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bc3b46ed-e08a-4b51-bd15-b7fb91e29635","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.100+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4c4d035
2025-07-31T00:14:09.102+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@175ed4ef
2025-07-31T00:14:09.104+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.104+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ad28e825-b72b-4f24-8cbb-56f3dad8c5ec","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.110+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@25ede02a
2025-07-31T00:14:09.112+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3cbb1d20
2025-07-31T00:14:09.113+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.114+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"df908ec9-a9da-4982-bad0-d714dd32c9cc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.119+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1e5c37fa
2025-07-31T00:14:09.121+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7fc46172
2025-07-31T00:14:09.123+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.124+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"02a2988c-d8ed-4a3a-904f-5b614f854226","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.129+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@35623210
2025-07-31T00:14:09.131+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@51547b81
2025-07-31T00:14:09.133+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.133+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c1ea5cf6-4e44-49e5-9250-3104e740969d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.140+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2e4875b6
2025-07-31T00:14:09.141+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@72db5efc
2025-07-31T00:14:09.143+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.144+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"03f2843a-695d-459f-9a0d-f6c0c32de625","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.150+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@560d0005
2025-07-31T00:14:09.152+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2477e136
2025-07-31T00:14:09.157+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.157+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a579b3fd-cebb-417d-a0f7-3e88fef8b74b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.165+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@497fc5cb
2025-07-31T00:14:09.167+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@617b4ea6
2025-07-31T00:14:09.170+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.171+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"328ff6a7-2cd3-4d71-ac92-5d79d970b0c7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.178+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5fc877a4
2025-07-31T00:14:09.181+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@442d533a
2025-07-31T00:14:09.183+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.184+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8ef6a10d-a7ca-40d1-a0a8-bd5a49a72268","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.192+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@734b87e9
2025-07-31T00:14:09.196+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@487ee958
2025-07-31T00:14:09.197+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.198+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6236e14b-3dea-4374-9bfb-dafa00b26665","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.205+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5417d2a4
2025-07-31T00:14:09.207+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7a0dff9f
2025-07-31T00:14:09.209+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.210+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5ccdc37f-b3aa-4f5c-bf29-781aa8758423","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.215+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@55d64bf8
2025-07-31T00:14:09.217+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6add4c33
2025-07-31T00:14:09.218+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:09.218+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e988a7fe-9d64-4491-a022-aca7d38d3a70","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.223+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@35213e
2025-07-31T00:14:09.224+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:14:09.226+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:14:09.227+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"85d6fc0c-51a3-4adb-ad46-fdc12147d10c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:09.232+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:14:09.233+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:14:09.234+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"bd5fb007-28ea-40ff-af1c-fd080f037f98","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:14:11.828+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2b3baa57
2025-07-31T00:14:11.828+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4c8e66e
2025-07-31T00:14:11.828+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@62664439
2025-07-31T00:14:11.830+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:11.830+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:11.830+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:11.831+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e4e9e214-063b-4a30-921f-f2e964cb9167","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:11.831+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7cea6c60-2a72-49e5-acd1-b910479d4564","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:11.831+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9a670528-c995-4402-8a34-b4f09ee6ef9f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:11.838+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6591a6f
2025-07-31T00:14:11.838+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1f2138fd
2025-07-31T00:14:11.838+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@21456cbc
2025-07-31T00:14:11.840+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5304bef0
2025-07-31T00:14:11.847+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5a437831
2025-07-31T00:14:11.849+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:11.848+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6a2144bc
2025-07-31T00:14:11.850+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9e393af6-5a3a-41a5-8aa6-53e833a0a5c2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:11.851+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:11.851+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3e419642-4a79-4c42-87f0-ee9dd10522d9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:11.851+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:11.853+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2b38090f-8ac2-452a-8cec-844d3dafd021","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:11.856+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2c5c083c
2025-07-31T00:14:11.856+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3937f25
2025-07-31T00:14:11.860+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@29192400
2025-07-31T00:14:21.621+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6eada26b
2025-07-31T00:14:21.624+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:21.625+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"02eb80a6-3b80-4653-abce-bf4e76ef8120","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:21.632+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7a4c69f7
2025-07-31T00:14:21.634+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:21.634+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"af6d3068-3948-49ba-ae10-217552972876","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:21.640+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:14:21.641+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"55f95420-8d1b-4172-81bd-b007a467602e","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:14:21.649+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:14:21.650+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"b3e9dae0-0f0a-4e24-98f2-080b6262165c","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:14:21.664+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@15d1c7a0
2025-07-31T00:14:21.666+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:21.667+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"31a90cf0-203e-4949-9b77-33755818292d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:21.674+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@723fd769
2025-07-31T00:14:21.676+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:21.677+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c1ce4245-ee1a-4536-94e3-0916a507e9b1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:21.684+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:14:21.685+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"15f597d4-3096-4b2d-aab7-69e4b12b4ef3","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:14:21.695+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:14:21.696+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"7b110d41-916a-46eb-8708-6a3739955318","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:14:23.716+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@62381ebf
2025-07-31T00:14:23.717+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.718+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"68284b05-8701-436f-a89e-f8c0678629b4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.718+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.719+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"eef3738e-0009-4a35-939d-5739256bfdaf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.726+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@41c90d4c
2025-07-31T00:14:23.727+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:14:23.727+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"13f531b4-e76d-42ae-a1ff-b303db425d4d","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:14:23.728+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@398a5e04
2025-07-31T00:14:23.730+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.730+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"48b8bc4b-3834-4b7f-9762-6334151269a5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.733+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2a199ce9
2025-07-31T00:14:23.735+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.735+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1b65626c
2025-07-31T00:14:23.735+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"75e8eab0-9162-4b67-949c-6abf1e99d40a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.736+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7a54b6bb
2025-07-31T00:14:23.739+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.739+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"81579e0b-f540-434b-81a2-7284fe4915b0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.740+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4a40848e
2025-07-31T00:14:23.742+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3667e7f3
2025-07-31T00:14:23.743+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.743+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@737e67d0
2025-07-31T00:14:23.743+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"36933a53-089c-4ba8-90d7-1f13231b05bd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.748+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1514e444
2025-07-31T00:14:23.750+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@730cccdb
2025-07-31T00:14:23.750+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@65ac35e9
2025-07-31T00:14:23.751+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.752+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"65ab4461-b49b-4395-9789-2cd8919ed118","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.752+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.753+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"26bba590-0122-43e0-9d3b-01e41eb23dc4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.757+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3d2642c0
2025-07-31T00:14:23.757+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@411bfdb0
2025-07-31T00:14:23.759+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@377aee37
2025-07-31T00:14:23.759+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@34f772e8
2025-07-31T00:14:23.760+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.761+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.761+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"420bd908-face-4ae2-88bf-f2375e48e33a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.761+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"02bf5be0-5be3-4a05-b9b9-50f9f4bf639c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.766+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@67386f6
2025-07-31T00:14:23.766+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1e109ab1
2025-07-31T00:14:23.768+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@138ce8f7
2025-07-31T00:14:23.768+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1a17e7e7
2025-07-31T00:14:23.769+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.769+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4f9fdb1d-bf41-4ee8-a638-90cfa735c186","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.769+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.770+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"121fb3ad-e0ba-4e32-ab43-01ecf2f21313","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.774+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@47f6f68
2025-07-31T00:14:23.774+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1c339804
2025-07-31T00:14:23.776+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@13dcd958
2025-07-31T00:14:23.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e722bb05-30db-4d2f-b48f-7a72d1ab8730","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.784+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@982a9e3
2025-07-31T00:14:23.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7d3d3374
2025-07-31T00:14:23.788+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.788+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3dd7c310-1081-47f9-afa1-812aaff139e4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7dce776f
2025-07-31T00:14:23.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@82d7797
2025-07-31T00:14:23.797+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.798+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"44f6d087-2d8a-49de-9680-dd41cc2fa244","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.803+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@14fc1ac0
2025-07-31T00:14:23.805+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@ce3db8
2025-07-31T00:14:23.806+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.807+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0cb4ce9a-0cca-4947-8bae-9db800749f19","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.812+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@eb547c1
2025-07-31T00:14:23.813+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6dc7184f
2025-07-31T00:14:23.815+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.815+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"74f6d13d-d051-4853-b9ed-dcdb6c43be9b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.820+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1999352d
2025-07-31T00:14:23.822+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@68cbf85b
2025-07-31T00:14:23.823+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.823+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f928dfbc-1457-4ad5-9a75-64ff24e44956","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.829+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4ce421cc
2025-07-31T00:14:23.830+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@19344d7f
2025-07-31T00:14:23.832+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.833+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"05e7e828-d0af-44ce-a6ef-df8506c073bc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.838+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@49543329
2025-07-31T00:14:23.840+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7eea0378
2025-07-31T00:14:23.842+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.843+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4aafbe04-8fb0-4f9b-a94a-aaa7187985f1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.848+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@136da728
2025-07-31T00:14:23.850+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:14:23.851+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:14:23.852+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"241de992-ec00-49a7-904d-b298b99eae5f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.857+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:14:23.858+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:14:23.859+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"cbaff102-fa8b-4f5d-afb1-a98f018555ed","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:14:23.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.872+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"28586e82-06d0-429c-9a36-6690dca8e58d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.879+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:14:23.880+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"85ea72ee-84ed-43dd-a8e7-da99e1443eb4","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:14:23.886+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b0a2e3e
2025-07-31T00:14:23.889+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.889+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"89270c68-b1af-466d-87d6-c6c0ae1ad50f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.894+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@483763ce
2025-07-31T00:14:23.896+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7f34f6e6
2025-07-31T00:14:23.898+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.898+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"86b39d96-eead-46ef-85ac-cdf62d3acc59","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.904+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@662e2b26
2025-07-31T00:14:23.905+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7c4f8203
2025-07-31T00:14:23.907+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.907+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"10731125-83a1-4056-a61b-c709f04caf71","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.913+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@f15b757
2025-07-31T00:14:23.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@574ef395
2025-07-31T00:14:23.916+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.917+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"73c1314d-7bda-4bb1-885e-9c99605f2950","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.922+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@402e8541
2025-07-31T00:14:23.924+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@407158dd
2025-07-31T00:14:23.927+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.928+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bea5bfa7-d4f7-4d08-be68-b97741a937a5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.934+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@627ce08b
2025-07-31T00:14:23.936+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@420e650a
2025-07-31T00:14:23.938+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.938+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ca848a20-2a60-4b43-8dd5-4865b3df8555","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.944+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@76bef487
2025-07-31T00:14:23.946+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3c43fd3d
2025-07-31T00:14:23.948+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.948+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4c016836-9774-4b33-bb56-0a4298395ae4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.954+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@39be3a86
2025-07-31T00:14:23.955+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@8293e8e
2025-07-31T00:14:23.957+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.958+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9d3fdbf8-281b-4e48-be8e-52a89ea3f757","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.963+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@9b2e9c0
2025-07-31T00:14:23.965+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2a3b47de
2025-07-31T00:14:23.966+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.967+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8a6980a0-ca2f-46dd-a0c7-4ca8132576d6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.973+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@62193215
2025-07-31T00:14:23.974+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2385bd96
2025-07-31T00:14:23.976+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.977+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bac1a8d8-cbd2-4539-b095-21da5767c206","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.983+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3d67bccf
2025-07-31T00:14:23.985+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4d12190a
2025-07-31T00:14:23.987+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:23.987+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"778ee819-961f-476e-8f97-4cd020e0976b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:23.997+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@66b01327
2025-07-31T00:14:23.999+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@68576b6a
2025-07-31T00:14:24.001+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:24.001+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"04c38876-08bc-469f-871c-fe29bc9836cd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:24.007+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6856236b
2025-07-31T00:14:24.009+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@35d1ad22
2025-07-31T00:14:24.011+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:14:24.011+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a6cb491d-1e49-47bb-8584-eca4cc062931","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:24.017+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@539eb994
2025-07-31T00:14:24.019+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:14:24.020+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:14:24.021+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"6379bbc5-85ee-44a8-a98d-185c7e74a2f1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:14:24.026+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:14:24.028+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:14:24.028+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b93876c5-d613-4bae-b41c-5ee7e0621ef6","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:15:13.451+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@18ef6dc5
2025-07-31T00:15:13.453+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:13.453+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f528c25d-fdd3-4d59-8889-c8e5670aa2e8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:13.458+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@77978066
2025-07-31T00:15:13.460+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:13.461+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"9df867d0-da08-4952-8e3b-3d579dbe5605","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:13.552+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:13.552+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"40489611-f8fc-4263-a1de-8b8b747eaef7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:13.559+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:13.560+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"ef60f814-26d8-4ad6-8ff3-6dd51e4ee758","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:13.667+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@243d3179
2025-07-31T00:15:13.669+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:13.669+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ffb498f3-253f-425b-a111-2bc0086e9e91","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:13.675+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6178a76a
2025-07-31T00:15:13.677+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:13.678+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2d8b3658-5342-47ba-846b-e597e069d0dd","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:13.774+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:13.775+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"b953163d-76ea-4402-94c5-3ccf311d7b07","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:13.782+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:13.783+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"3756ff03-4f26-423a-9183-e2714e61b308","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:15.630+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@28094f8f
2025-07-31T00:15:15.632+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:15.633+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1e749c37-7c1d-4db0-90aa-c2a5c4e6f083","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:15.642+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6e73c672
2025-07-31T00:15:15.647+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:15.647+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3fb10a84-353d-4456-aa93-57c97eef886b","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:15.751+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:15.752+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"bfb0c2ad-859d-4a09-9e8d-e172487ad696","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:15.760+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:15.760+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"f2bad2a7-f2a2-4f0b-84a6-bae95d4731d9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:15.855+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4194b6
2025-07-31T00:15:15.857+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:15.858+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"182fbb31-5e01-4877-944c-84d39d574563","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:15.862+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5955a2ae
2025-07-31T00:15:15.865+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:15.865+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4d2fa478-82a1-4685-a4fb-b7a1a2e74a08","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:15.957+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:15.958+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"f83d8ae3-03b7-466c-b596-a61142927912","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:15.963+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:15.963+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"121be061-2453-40f7-88fd-0e0543d1c803","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:24.502+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7283a1c9
2025-07-31T00:15:24.504+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:24.505+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c6e44e17-cfe3-4366-88bc-c9902311fce9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:24.511+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@40616263
2025-07-31T00:15:24.513+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:24.514+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2f279e90-95e0-45ad-b2e8-341b215c77e2","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:24.622+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:24.622+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"85713f7e-d54a-4333-900a-9db5c922ef6b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:24.628+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:24.629+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"69df8625-c567-47c0-9f32-795ee2592372","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:24.725+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@775729a3
2025-07-31T00:15:24.727+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:24.728+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"fc4a6f07-5a02-4ef8-a012-047c7db888a9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:24.733+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1435f3c9
2025-07-31T00:15:24.735+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:24.736+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"e11e8732-c47a-44ea-852f-0419f2f19cb3","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:24.826+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:24.826+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"fbf0e839-7f50-45b1-aa66-5bbb3aeb292b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:24.832+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:24.832+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"2635b92c-d810-4cc7-bc51-eb98d17f3649","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:32.679+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@14c09b6d
2025-07-31T00:15:32.681+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:32.682+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"43d14baf-c460-405f-af96-0fe6a7f87ca9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:32.687+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1f97ef57
2025-07-31T00:15:32.689+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@162e46bd
2025-07-31T00:15:32.690+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@625ace6
2025-07-31T00:15:32.695+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `teamId` = $1 and `userId` = $2
2025-07-31T00:15:32.696+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","b0ee0d54-a595-4389-bdeb-f19ca65985c0"],"client_context_id":"70f86d7c-174d-42ac-97d5-190b5097ce68","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:32.711+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=com.ecom.ai.ecomassistant.db.model.auth.TeamMembership@3ac275df scope: AI collection: team-membership options: null
2025-07-31T00:15:32.764+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: com.ecom.ai.ecomassistant.db.model.auth.TeamMembership@3ac275df
2025-07-31T00:15:32.774+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T00:15:32.824+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId
 AND tm.userId = $userId
2025-07-31T00:15:32.824+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$userId":"b0ee0d54-a595-4389-bdeb-f19ca65985c0","client_context_id":"eb8e3c5a-913a-4b4c-87a3-28296230d99e","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:32.959+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@10597873
2025-07-31T00:15:32.961+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:32.961+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"151e145d-333a-4337-828b-cbcc3a2c1828","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:32.966+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@724e38c0
2025-07-31T00:15:32.968+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T00:15:32.968+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"ec572f03-b670-4ba5-9125-226d925b1310","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:32.982+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@61d5ac1b
2025-07-31T00:15:32.983+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:32.984+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"fda19896-fcb7-4f81-8bf5-6984e5d161c6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:32.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@47a1ebac
2025-07-31T00:15:32.991+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:32.992+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"d4ca5907-fae7-4cc5-b903-25eec7b89e52","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:33.090+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:33.091+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"82e9a674-036f-47a4-a7c4-65556451e6da","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:33.096+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:33.097+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"f7cba578-8d13-4508-9e02-e26ad93ff6c5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:33.203+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4ce96199
2025-07-31T00:15:33.205+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:33.205+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"47c2ff58-ebeb-48c6-95c9-ff55ddba3ced","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:33.210+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@238b1c24
2025-07-31T00:15:33.212+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:33.213+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"bde91867-7614-4afb-8a81-d9d4c26cdc1e","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:33.307+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:33.307+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"717ca862-1529-4aa3-800c-732cd22a5b8e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:33.314+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:33.314+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"feb308b1-9e1a-4cf1-ab35-221417cc2150","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:35.837+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@74293743
2025-07-31T00:15:35.839+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:35.839+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5e1d2d70-7a1b-4d69-b483-9fe2f812b7a8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:35.844+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7122216c
2025-07-31T00:15:35.846+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:35.846+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"65d41f87-330a-46cf-b68d-7abf33d6202d","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:35.936+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:35.937+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"3f16d62b-a624-4e98-a51b-bafeaafce2a3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:35.942+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:35.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"6524ca9e-4f61-4845-8303-89686435315b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:36.042+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5bd9c866
2025-07-31T00:15:36.044+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:36.045+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"68b6f16a-8e05-4293-8813-8f17f96ae0c1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:36.050+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7357511e
2025-07-31T00:15:36.052+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:36.053+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8dc32bce-e26f-4cf3-b979-d55da663374b","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:36.145+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:36.146+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"57319cd2-5188-44bf-99e6-c6751b6a43a2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:36.152+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:36.152+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"07833050-1be0-4407-a0b7-26c659110427","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:37.098+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@55236049
2025-07-31T00:15:37.100+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:37.100+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5a25256b-ecf0-4ca2-bceb-b10247b76cc8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:37.105+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@25937cc9
2025-07-31T00:15:37.106+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:37.107+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"ef2db939-ff3f-4a30-b065-1bdfd6735ffc","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:37.187+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:37.187+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"1f5216d2-4cf3-4dfe-a71d-8f34501dda71","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:37.192+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:37.193+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"cf9e8b22-0627-46a6-a7b5-54a63414f29e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:37.290+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b4923ca
2025-07-31T00:15:37.292+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:37.293+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9e083d45-01f4-4834-b6f7-b62a5a501b60","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:37.297+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3ffdb8df
2025-07-31T00:15:37.300+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:15:37.301+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"e3a47c71-e6c0-4874-bc47-ccb8543eb941","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:37.397+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:15:37.397+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"add5cc89-3f5e-43c5-a1dc-c4d18df37874","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:37.403+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:15:37.405+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"5af56325-0d9f-4372-854d-845442964931","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:48.572+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1d561d97
2025-07-31T00:15:48.573+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:15:48.574+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cecf2525-4abb-4851-ac5f-64963615de3e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:15:48.579+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@f24062e
2025-07-31T00:15:48.581+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND ( contains(lower(`name`), $filter) OR contains(lower(`email`), $filter) ) LIMIT $limit
2025-07-31T00:15:48.582+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4136773c-50b0-4b46-b835-d0f639d35a45","metrics":false,"$filter":"","$limit":20,"scan_consistency":"request_plus"}
2025-07-31T00:15:48.588+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T00:15:48.589+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3436606d-1880-4423-9be3-c7857d5c28ec","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:01.637+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4a322f3a
2025-07-31T00:16:01.639+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:01.640+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"81aac856-7a18-4338-9420-ff37a1fbf295","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:01.649+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@780d976e
2025-07-31T00:16:01.650+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:01.651+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d013ab3c-deb4-4a89-b79b-832622c34b4b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:01.657+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:16:01.657+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"6edf9c8b-23f6-4147-9330-9f4cd8d1bf5c","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:01.665+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:16:01.666+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"6b6919c4-f306-48e4-ae8d-e005716fd55d","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:01.677+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5f512c38
2025-07-31T00:16:01.679+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:01.680+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"12ede141-e00e-48c3-a272-ac46b05e0332","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:01.684+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@12cf140d
2025-07-31T00:16:01.686+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:01.686+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b98e2eb1-2368-4bf8-a971-597bbf3e502b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:01.691+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:16:01.692+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"aaa18a8f-6c45-4cde-8a53-1f9463fb606d","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:01.699+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:16:01.699+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"f4debfd1-1888-4aa6-99e5-7f63f596d8ea","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:17.176+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@7ed212e8
2025-07-31T00:16:17.178+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T00:16:17.179+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"fc9ded18-389b-48dc-9f3d-ef1063f260e4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:17.189+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@73846e4f
2025-07-31T00:16:17.191+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T00:16:17.191+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"af415a90-b1b2-4b55-86eb-06f00959c640","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:17.202+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : Checking QA verification permission for user: 8e5a59f8-cef9-435d-9271-4ba92a70906e
2025-07-31T00:16:17.203+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4cb6d92e
2025-07-31T00:16:17.205+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:17.205+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a9066367-31ba-41fd-83d9-9ca82fcbc8b4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:17.209+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@11f23765
2025-07-31T00:16:17.210+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has roles: [system:USER] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:*]
2025-07-31T00:16:17.211+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has QA verification permission: false
2025-07-31T00:16:17.218+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : Checking QA verification permission for user: 8e5a59f8-cef9-435d-9271-4ba92a70906e
2025-07-31T00:16:17.219+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@18c4f042
2025-07-31T00:16:17.221+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:17.221+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"86ede258-34cc-4728-a4de-1ec408ec95a0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:17.226+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4354579f
2025-07-31T00:16:17.227+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has roles: [system:USER] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:*]
2025-07-31T00:16:17.228+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has QA verification permission: false
2025-07-31T00:16:23.023+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7c074ca
2025-07-31T00:16:23.023+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.024+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"03c468ac-5a34-4f06-bcab-8898fe9703b4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.025+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.026+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2d82f644-74ac-4250-9c8a-be8300026867","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.031+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@18b0cf83
2025-07-31T00:16:23.032+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:16:23.034+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@72b5dfe4
2025-07-31T00:16:23.034+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"98945307-93ee-4026-989b-110a4f467a7c","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:23.037+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.038+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f79c06cb-d712-4523-b2fb-79c22b96ea91","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.041+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@42a716bc
2025-07-31T00:16:23.044+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.045+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7657935c
2025-07-31T00:16:23.045+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bb96f5df-ca47-41be-88e7-437b0e3ea06c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.047+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@8abfd69
2025-07-31T00:16:23.049+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.050+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3c76e64b-17cc-4682-8388-f29147c97ff9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.051+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6c6393c5
2025-07-31T00:16:23.055+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@ce60fca
2025-07-31T00:16:23.057+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@16f9e728
2025-07-31T00:16:23.057+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.058+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"df86e324-a734-44ae-bbae-1ee782b71baf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.064+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4d47fc01
2025-07-31T00:16:23.065+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@9391216
2025-07-31T00:16:23.066+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@372f01e3
2025-07-31T00:16:23.067+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.069+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.069+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"87bcd4aa-04b8-4e93-a592-08d3af066294","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.070+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b1731727-81c8-472e-a98c-5df866b4c549","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.076+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4c1c515e
2025-07-31T00:16:23.076+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@47a25178
2025-07-31T00:16:23.077+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@12923592
2025-07-31T00:16:23.077+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7b068e19
2025-07-31T00:16:23.078+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.079+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b68aff5c-da02-4a16-9936-657a98c6fe61","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.079+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.079+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3e039112-20e2-4245-81c5-aed2ede4bc72","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.083+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@653b51ea
2025-07-31T00:16:23.083+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@953c28c
2025-07-31T00:16:23.084+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@245356f9
2025-07-31T00:16:23.085+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@46bcfa5c
2025-07-31T00:16:23.086+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.086+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.086+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ea354341-947f-4ed3-8f19-1d248726555c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.087+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"49c80d44-848a-4988-b315-893189dc527c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.092+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@aeb758c
2025-07-31T00:16:23.092+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@13405a62
2025-07-31T00:16:23.094+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5cf96855
2025-07-31T00:16:23.095+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.096+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4ee06f5d-41e2-4bac-8155-161c95870f2f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.101+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4b2996e4
2025-07-31T00:16:23.102+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6a66ebc7
2025-07-31T00:16:23.104+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.104+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c1e8e8a8-8036-44a5-94be-ae6b5c1e011d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.109+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7be43fa3
2025-07-31T00:16:23.111+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6c484b4a
2025-07-31T00:16:23.112+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.113+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"01276066-ab5c-4ffc-be55-5a005d687b50","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.117+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6bd16e91
2025-07-31T00:16:23.118+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@36b488ff
2025-07-31T00:16:23.119+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.120+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"87ac127d-aa49-498e-bd4c-02cf131e4294","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.125+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6cf7b0ad
2025-07-31T00:16:23.126+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@42cbb462
2025-07-31T00:16:23.128+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.128+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"45bfd975-2263-4282-8e3d-9c81f9815089","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.133+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@228eff4c
2025-07-31T00:16:23.134+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@30ef6892
2025-07-31T00:16:23.135+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.136+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"21203ec6-b390-4201-be25-0942228a5715","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.140+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@614cc4fa
2025-07-31T00:16:23.141+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7e3b1415
2025-07-31T00:16:23.143+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.143+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7f6d156e-f359-4248-ba3a-9d1ada29e28c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.148+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2b9ae001
2025-07-31T00:16:23.149+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@607ab618
2025-07-31T00:16:23.150+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.151+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0f29cfab-1f23-4e1a-b8df-b7dcf9591c3c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.155+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6796c5f9
2025-07-31T00:16:23.160+08:00  INFO 7736 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:16:23.161+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:16:23.162+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"442b4a80-fdaf-42c2-b17f-defad13480a2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.167+08:00  INFO 7736 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:16:23.168+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:16:23.169+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"24d6e56e-86ec-4229-ae12-daa6ade7f5af","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:16:23.178+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.179+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9f6007fe-43a4-4c6f-9359-ae836e2869dc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.184+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:16:23.184+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"62079939-67d5-42c5-8c94-b3f4d7cb9c5b","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:23.189+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@59570255
2025-07-31T00:16:23.191+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.192+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"87ec3b02-c315-47d7-af72-767daf08ea18","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.196+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5fed3b76
2025-07-31T00:16:23.198+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2568e60c
2025-07-31T00:16:23.199+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.199+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a9f2a5b7-b361-421a-bfd5-d9381a4c1076","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.204+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@25a1a4db
2025-07-31T00:16:23.205+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@44854f90
2025-07-31T00:16:23.206+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.207+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"caeaf29c-16d5-4630-8058-b6d0bd2d3640","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.211+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7285fafd
2025-07-31T00:16:23.213+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@103f2a27
2025-07-31T00:16:23.214+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.214+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d05e978f-cb31-49f8-b1bb-6bf7ba59f3de","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.219+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3890c387
2025-07-31T00:16:23.220+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5607e2ca
2025-07-31T00:16:23.221+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.222+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c2ea3fa6-4058-4f59-bb39-25c87cac0ac3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.226+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@b08b8e5
2025-07-31T00:16:23.227+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@620fd5b1
2025-07-31T00:16:23.229+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.229+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d02ef99b-68ad-4471-b6c8-46152db322ad","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.233+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5cbdbe8c
2025-07-31T00:16:23.235+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@35450663
2025-07-31T00:16:23.236+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.236+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c1894b1e-1357-4573-ba46-e6d623076ac0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.241+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7b445fbe
2025-07-31T00:16:23.243+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@677abf3a
2025-07-31T00:16:23.244+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.245+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"71bd711c-8f26-476d-a55c-c34543bcca45","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.250+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@56022487
2025-07-31T00:16:23.251+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b69463a
2025-07-31T00:16:23.252+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.253+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0afb498d-138f-49f8-8c9a-0393d38e6763","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.257+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@12095946
2025-07-31T00:16:23.258+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2038a752
2025-07-31T00:16:23.260+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.260+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"dd296339-5fef-42cf-b208-f18d12700432","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.264+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@675999ce
2025-07-31T00:16:23.265+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@66005b89
2025-07-31T00:16:23.267+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.267+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3174d77c-8444-4d11-9480-dec69a1225d7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.272+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3e1bfd66
2025-07-31T00:16:23.273+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5bfcdfc0
2025-07-31T00:16:23.275+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.275+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d23d3ff1-4394-4ab2-aac7-820beb78f604","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.280+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@70c0aa98
2025-07-31T00:16:23.281+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@14787b1a
2025-07-31T00:16:23.282+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:23.282+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f83267ea-4d8d-41f1-a811-e5580f9b4562","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.287+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@75e9543e
2025-07-31T00:16:23.288+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:16:23.289+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:16:23.290+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"886368b3-c402-47e3-9d97-99fecfd588a5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:23.294+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:16:23.295+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:16:23.296+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"7edbb793-7a37-4e5b-8572-97cb3f2eab0a","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:16:25.693+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@508b09ff
2025-07-31T00:16:25.695+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:25.695+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"11680f21-fb4b-4318-a1cb-4320b48705cf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:25.701+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7bd0fc40
2025-07-31T00:16:25.703+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:25.703+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1b7de88b-9541-4c0e-ab17-8fbfd3c79098","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:25.709+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:16:25.710+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"708d67c0-a26d-44e7-8cb8-b4c881e5b9c0","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:25.717+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:16:25.718+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"d8dd0c8a-2aca-497f-af42-dcebb741de9d","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:25.730+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4a6f40ec
2025-07-31T00:16:25.732+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:25.732+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a1e5a289-2484-4d7a-a488-69008868ad0f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:25.738+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@e8f78e
2025-07-31T00:16:25.739+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:25.740+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6a9e0709-3a59-4c9a-8aa5-08f33d58a0b6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:25.747+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:16:25.748+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"3e8b7ea5-1c0a-4ede-82d6-fadb599547db","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:25.754+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:16:25.755+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"89ce3cf5-f837-48eb-b703-2335d09dfd29","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:28.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3b301718
2025-07-31T00:16:28.872+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.873+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0c1c174f-13ee-420d-8714-781ac806885b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.874+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.874+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ba48018e-18aa-449e-8bf8-3cd9afccf594","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.880+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b0c4874
2025-07-31T00:16:28.881+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:16:28.882+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"7e189a4e-c381-4657-86d5-38228a5b0ae7","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:28.882+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3baaa54c
2025-07-31T00:16:28.884+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.885+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8e3955c6-6908-4582-8f53-5975b624f4d8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.888+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@36dd5b37
2025-07-31T00:16:28.891+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@99fdf6
2025-07-31T00:16:28.893+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.893+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"93869f39-e6da-4d91-94b1-b8697f4a61c6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.893+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@104a222e
2025-07-31T00:16:28.895+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.896+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cfbd4527-e642-4a7d-8632-a149da8c1833","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.899+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@807278b
2025-07-31T00:16:28.901+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@59917412
2025-07-31T00:16:28.902+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@190c97bb
2025-07-31T00:16:28.904+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.905+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d6be784d-14d5-4c56-83c7-9b0941469e75","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.912+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@67868909
2025-07-31T00:16:28.913+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@f8c22b9
2025-07-31T00:16:28.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3b5e722d
2025-07-31T00:16:28.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.916+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1d15dc9d-25d6-4378-a779-fa32abc442b5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.917+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.918+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f4ec1f86-5772-4ea3-8663-4c3d766ecc0b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.922+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@35bc146e
2025-07-31T00:16:28.923+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@a5431b2
2025-07-31T00:16:28.924+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5837e50e
2025-07-31T00:16:28.924+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4dd9e59b
2025-07-31T00:16:28.926+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.926+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.926+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"356f2680-1d27-4dbb-bab4-5ebaea72a594","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.927+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e4af3425-3e74-4f33-ab2c-a26d5ed09f33","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.932+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@b2ae1c0
2025-07-31T00:16:28.932+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3ee85491
2025-07-31T00:16:28.933+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@432d2592
2025-07-31T00:16:28.933+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@501f201f
2025-07-31T00:16:28.934+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.935+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.935+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3ec20c73-0c5c-4418-a3bc-c3b7ca62b012","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.935+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6d4c0f20-f393-4988-8ffd-ad742079f245","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.940+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@685f55e4
2025-07-31T00:16:28.940+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5555116
2025-07-31T00:16:28.941+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@fa7c274
2025-07-31T00:16:28.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"10bc0a4f-4f05-4725-9720-8f3e9becc51b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.948+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@535f06a1
2025-07-31T00:16:28.950+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7974a8ed
2025-07-31T00:16:28.951+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.952+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ae4ead38-6015-45ec-8a0c-f904ec224f68","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.956+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b963252
2025-07-31T00:16:28.958+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5a13f936
2025-07-31T00:16:28.959+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.960+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"00d2cc9d-5e89-4c7d-95db-ca139e63da38","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.964+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@715286db
2025-07-31T00:16:28.966+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2d3d6bdc
2025-07-31T00:16:28.968+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.969+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b7e90130-dd30-44f4-8eef-9527aabd4151","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.975+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7763d88b
2025-07-31T00:16:28.977+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@32fc5518
2025-07-31T00:16:28.979+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.979+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ddf14ed0-d72f-424e-8564-f3c498ab7e0d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.985+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@57fd79c2
2025-07-31T00:16:28.987+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@11d88b6a
2025-07-31T00:16:28.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"79a896f7-6a1c-4bcb-8790-4696dfba9922","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:28.995+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7896be5a
2025-07-31T00:16:28.997+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@289270c5
2025-07-31T00:16:28.999+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:28.999+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"26488f9a-be27-40fc-88d2-ce0189b30bd0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.003+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@149d2f7c
2025-07-31T00:16:29.005+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@414b755e
2025-07-31T00:16:29.006+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.007+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"86a3f028-e097-48df-ab84-b8f26a55985b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.012+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@ce27743
2025-07-31T00:16:29.014+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:16:29.015+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:16:29.015+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"e3579959-b0a2-4dcd-9ceb-497ea56ed850","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.020+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:16:29.022+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:16:29.022+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8f07fa94-26c7-4597-8291-40efec6dd6d8","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:16:29.034+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.034+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3f360062-ca98-4a22-9960-a50ad00116c6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.040+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:16:29.041+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"5c4a8303-b8c1-493a-a913-b1421325ab70","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:29.047+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1ad9b40a
2025-07-31T00:16:29.049+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.050+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"35301d58-4cea-4469-a95e-bbe0fb9a8f8b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.055+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1295925f
2025-07-31T00:16:29.057+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1c21d010
2025-07-31T00:16:29.059+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.059+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"88622342-c6fa-4f88-a11f-2daf30d0b609","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.064+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@60ef0d28
2025-07-31T00:16:29.066+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@37c19cdb
2025-07-31T00:16:29.068+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.068+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"212d9726-738c-47c9-bd79-92508316d682","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.073+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@978f716
2025-07-31T00:16:29.075+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1b4b1779
2025-07-31T00:16:29.076+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.076+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2a8c5096-a598-4e27-a509-dd6d34312739","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.082+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3d5df75
2025-07-31T00:16:29.084+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@38c9bc90
2025-07-31T00:16:29.085+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.086+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a0679e63-326a-48fc-933b-1c5176fb838c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.091+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@76473cd8
2025-07-31T00:16:29.093+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@35f41db6
2025-07-31T00:16:29.094+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.095+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d5bd4355-a97f-4467-96d3-c05c422414e9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.099+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1877420a
2025-07-31T00:16:29.100+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6d2f40a8
2025-07-31T00:16:29.102+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.102+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"422f70b1-6e79-488c-9c95-c30a9560bd69","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.106+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@22c10029
2025-07-31T00:16:29.108+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@374da06a
2025-07-31T00:16:29.109+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.110+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"779cd66b-8383-4c1d-8c8d-d0785073fefb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.114+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1508d39b
2025-07-31T00:16:29.116+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2b5fb92
2025-07-31T00:16:29.117+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.117+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"43f15c87-e299-4d24-881b-82e4558db7bb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.121+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@28df63a5
2025-07-31T00:16:29.123+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@72cbd824
2025-07-31T00:16:29.124+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.124+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b1bf9077-731e-4dff-8065-067caaf9a9ea","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.128+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@210c49ed
2025-07-31T00:16:29.130+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@c484f35
2025-07-31T00:16:29.131+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.131+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"45c6e587-9c04-4614-8549-ae14d9d2f35e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.136+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5f59c752
2025-07-31T00:16:29.137+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@737f2e65
2025-07-31T00:16:29.138+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.139+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"adb6763d-e49d-44f2-9003-b5936feb5bbf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.143+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@307f52c6
2025-07-31T00:16:29.144+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7e00921b
2025-07-31T00:16:29.145+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:29.146+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4bc216a9-0f5a-43cb-95ef-49141d219e86","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.150+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6f72b9de
2025-07-31T00:16:29.152+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:16:29.153+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:16:29.154+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"307a87c4-89cf-43c8-972d-f707ee93e919","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:29.158+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:16:29.159+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:16:29.160+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"7d6460b7-8fa8-42d0-a905-fba397fe25ef","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:16:33.623+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@57ff024f
2025-07-31T00:16:33.626+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:33.627+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e827d9d0-8240-4d71-909a-de08c0310ced","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:33.639+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3e3e263f
2025-07-31T00:16:33.641+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:33.641+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"78846cca-1ff2-46b2-bca1-715bbe2212ab","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:33.649+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:16:33.651+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"36c16e83-2cb7-4983-a13b-f0763d5e174c","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:33.663+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:16:33.664+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"18829331-a8fd-4d78-88a5-ea5f668b39c7","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:33.678+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@77e2c113
2025-07-31T00:16:33.680+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:33.681+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cfa1b6d6-a7df-413f-9c71-a36d9a66fbf5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:33.686+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@38dbe454
2025-07-31T00:16:33.688+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:33.688+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6b1c14b9-bce9-45aa-b9c9-1b449b321d75","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:33.694+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:16:33.695+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"3b4e93c6-d980-4b1a-9e23-fe347ddc4ddf","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:33.702+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:16:33.703+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"4fe50779-0bfc-43ae-9e29-e0df69a2be43","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:47.198+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@722991a
2025-07-31T00:16:47.200+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T00:16:47.200+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"a3e490b7-b98a-469a-900c-61e36b95b317","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:47.213+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@374d2a42
2025-07-31T00:16:47.215+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T00:16:47.216+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"b32eff84-072a-41d5-bae3-d2192e522ada","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:47.226+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : Checking QA verification permission for user: 8e5a59f8-cef9-435d-9271-4ba92a70906e
2025-07-31T00:16:47.227+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6574ae53
2025-07-31T00:16:47.229+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:47.229+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9beab159-10a8-49c6-aa7f-87b57be15010","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:47.234+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2fd73959
2025-07-31T00:16:47.236+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has roles: [system:USER] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:*]
2025-07-31T00:16:47.236+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has QA verification permission: false
2025-07-31T00:16:47.243+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : Checking QA verification permission for user: 8e5a59f8-cef9-435d-9271-4ba92a70906e
2025-07-31T00:16:47.245+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@792df2f1
2025-07-31T00:16:47.247+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:47.247+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b3e46afb-4bff-4177-a846-2d5254e5e4d1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:47.252+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@566f6ae1
2025-07-31T00:16:47.253+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has roles: [system:USER] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:*]
2025-07-31T00:16:47.254+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has QA verification permission: false
2025-07-31T00:16:52.670+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7941fa33
2025-07-31T00:16:52.672+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:52.673+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"462eb5fc-c222-4ec9-aeb2-d8ffc151fcec","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:52.679+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6506a824
2025-07-31T00:16:52.680+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:52.681+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"61bddfbd-db87-496e-b10e-2d3be18ba70f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:52.687+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:16:52.688+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"69668f83-6be5-4035-af39-7fa8cf2df80a","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:52.695+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:16:52.696+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"31087da4-0ef8-43cb-8b01-6a5da770aa38","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:52.710+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@52a4c116
2025-07-31T00:16:52.711+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:52.712+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"beb9f33d-7a50-47e6-9cca-13b68553427a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:52.717+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7dd6f7b5
2025-07-31T00:16:52.719+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:52.720+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"68765497-52d3-452d-bd78-defb9ac5952b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:52.725+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T00:16:52.726+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"52316354-0664-4513-95c9-366d95e2d02a","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:52.733+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T00:16:52.734+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"fa9b2d24-1dfb-4189-b9e2-bdb0e42ec11b","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:53.832+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4a560518
2025-07-31T00:16:53.832+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.833+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ec59d09e-8cad-48c2-b360-4e9aa1f60bb6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.834+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.835+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3d68a6c7-c49e-4b93-b7ed-4614d22647a2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.839+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4f6a55b0
2025-07-31T00:16:53.840+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:16:53.841+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a4945686-0cf3-4556-965e-818af514bedc","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:53.841+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@112b7925
2025-07-31T00:16:53.842+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.843+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2d95f17d-fa47-4e85-9754-237f25e7a6ad","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.845+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7546992f
2025-07-31T00:16:53.847+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.847+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4970e9f9-aa25-439a-8c2c-ab2f8c1ecdf0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.848+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b2fc0dd
2025-07-31T00:16:53.849+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@50fd9401
2025-07-31T00:16:53.850+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.851+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1dc7f2a5-e09c-4e71-bf4a-c9f16df57d24","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.851+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b8c5c72
2025-07-31T00:16:53.853+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5fbb5570
2025-07-31T00:16:53.854+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.854+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3093b371-d657-406e-a5f0-b248de54b905","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.855+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4d279c7b
2025-07-31T00:16:53.858+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@35f8f218
2025-07-31T00:16:53.860+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@74b68a69
2025-07-31T00:16:53.862+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4881fbf5
2025-07-31T00:16:53.862+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.863+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"585b52f3-8ee1-4a2b-8fa5-9073d02fa7ff","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.863+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.864+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"78b8cd03-86a0-4673-9f84-138ef4822a48","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.868+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1a30cb66
2025-07-31T00:16:53.868+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7d502741
2025-07-31T00:16:53.869+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3b68ca23
2025-07-31T00:16:53.870+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@78c5fd4e
2025-07-31T00:16:53.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"876199ce-1287-44aa-855b-96aba41e76f0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"82f07949-23ba-4b5d-b029-734f953aaaa5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.876+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@adfa87c
2025-07-31T00:16:53.876+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3c79b931
2025-07-31T00:16:53.877+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4afa8e8c
2025-07-31T00:16:53.878+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7be0b318
2025-07-31T00:16:53.878+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.879+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.879+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"58282204-a734-443a-8b3b-bc331c0a7934","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.879+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e085fad1-c7d4-4292-bfac-f14a8e3e5002","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.883+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@36ecd2bd
2025-07-31T00:16:53.883+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@67173cf9
2025-07-31T00:16:53.884+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@619466a3
2025-07-31T00:16:53.886+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.886+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3404f61b-e8c7-4bc9-9b34-086cbd674f2c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.891+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@16ffaea5
2025-07-31T00:16:53.893+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@86fcc18
2025-07-31T00:16:53.894+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.895+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6fc05bc5-259a-4c61-a3e8-4d786d125ce6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.899+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@58c68e92
2025-07-31T00:16:53.900+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1a254a57
2025-07-31T00:16:53.902+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.902+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7d3392d7-7816-4d83-b4c1-70fc0f1b9784","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.906+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@71445530
2025-07-31T00:16:53.908+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@73d580c
2025-07-31T00:16:53.909+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.910+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"fb6809e6-d722-49fe-91e4-0ec6c0dbce42","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.913+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b63f467
2025-07-31T00:16:53.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5ba46cae
2025-07-31T00:16:53.915+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.916+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4a648df0-a2f6-4efa-ab27-e2eb852337a5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@81a5f3f
2025-07-31T00:16:53.921+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@650a9b08
2025-07-31T00:16:53.922+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.923+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ac8b6cf8-244d-4861-8615-9ffef813d0b9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.927+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@113e8b02
2025-07-31T00:16:53.928+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@69875497
2025-07-31T00:16:53.929+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.930+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a87d1663-58c6-4634-9183-4ead014d2bf2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.934+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@33be1d3f
2025-07-31T00:16:53.935+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2dd029b
2025-07-31T00:16:53.936+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.936+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ddd6e105-da4e-4401-8728-b0cc7650c2c4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.940+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@675eff59
2025-07-31T00:16:53.942+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-2] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:16:53.942+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:16:53.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"537762d0-e7c2-4318-a197-5976e39281de","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.947+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-2] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:16:53.948+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:16:53.949+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b3cb645b-3591-4f07-b99a-45e53130242a","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:16:53.958+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.958+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"69776230-1d22-4b0b-be54-c6da00d0596a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.963+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:16:53.964+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"6f8cc70f-a527-46e2-9655-cbf706ffda2e","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:16:53.969+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2981994
2025-07-31T00:16:53.970+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.971+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c2d8c910-8cdd-4ca1-a1a0-d43e801ba564","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.974+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@747eeb96
2025-07-31T00:16:53.976+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@18c0c485
2025-07-31T00:16:53.977+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.977+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4d718abd-ae07-4033-b41e-fc486d6245da","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.981+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@48d71831
2025-07-31T00:16:53.983+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@a41ec06
2025-07-31T00:16:53.984+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.985+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7a1d9ccf-214a-4733-87de-4a6db32852a0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@9e09483
2025-07-31T00:16:53.990+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@179a8dd6
2025-07-31T00:16:53.992+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:53.992+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4542ee48-e4c6-4637-9f92-9ebcc3d58ef3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:53.996+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@67fc0984
2025-07-31T00:16:53.998+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@62d8f8a1
2025-07-31T00:16:53.999+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.000+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"81a4a9e1-b205-4f52-a80f-27a276d448c4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.004+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6f113cf5
2025-07-31T00:16:54.005+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2c26e8fc
2025-07-31T00:16:54.007+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.007+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7c88a0ea-bee7-48e6-aa41-51b0fb86f770","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.011+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2b1174d5
2025-07-31T00:16:54.014+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@ea98ce6
2025-07-31T00:16:54.015+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.015+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bb992c80-d6e2-4065-bba4-7c0ee5ff4418","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.021+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6839ef52
2025-07-31T00:16:54.022+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@73438ba1
2025-07-31T00:16:54.023+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.024+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"108b7b74-203b-4a9d-9732-0940528a68a2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.028+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@53d4eec0
2025-07-31T00:16:54.029+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@115896e0
2025-07-31T00:16:54.031+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.032+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d1feff60-be1c-490f-8fa3-c32e32935a8c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.036+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@36bca8e6
2025-07-31T00:16:54.038+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@59cd2313
2025-07-31T00:16:54.039+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.039+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"599cb449-25ab-4792-a901-2616c718c34b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.044+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2d9b7404
2025-07-31T00:16:54.046+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@78a108c1
2025-07-31T00:16:54.047+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.048+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a17d0224-0924-4e0a-bbe6-576a51e715e4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.052+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2b0974ab
2025-07-31T00:16:54.055+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1b6c0f62
2025-07-31T00:16:54.057+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.058+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9a60bdfd-4b48-4047-ad94-1b161eed459c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.062+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@412bfea2
2025-07-31T00:16:54.062+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@51b18bb
2025-07-31T00:16:54.062+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4856979c
2025-07-31T00:16:54.065+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.065+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6da1635f
2025-07-31T00:16:54.066+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.066+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0d46dfe2-8364-4165-9a84-d03380897ac3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.067+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6dc76a9e-f9d0-494b-803c-88d89e477833","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.067+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.067+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1db6992a
2025-07-31T00:16:54.068+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d14f9b87-11aa-45be-80cd-2dbf197f3265","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.069+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:16:54.071+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"56b66f4a-d82d-4fc8-a390-92d5c0f67d74","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.071+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3d4d946e
2025-07-31T00:16:54.071+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@71c3c57f
2025-07-31T00:16:54.073+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@8322fa9
2025-07-31T00:16:54.074+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T00:16:54.074+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6ac07c73
2025-07-31T00:16:54.074+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7dfa1a1b
2025-07-31T00:16:54.075+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@59da8a5b
2025-07-31T00:16:54.075+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"00635a9c-817f-468f-b7c6-359d347b08cb","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.076+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@479aa12c
2025-07-31T00:16:54.077+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T00:16:54.077+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T00:16:54.078+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"9fa07430-e9ef-412f-a916-c296d213e1e1","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.078+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:16:54.079+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8c605194-c893-4b73-898f-9f6bb6aafc3e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.085+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:16:54.090+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:16:54.091+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"6df05025-6cd5-4b01-8843-60fd7a13ad85","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:16:54.181+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T00:16:54.181+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"6c3d6d96-e2e1-4390-995b-93663f8716f7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:16:54.186+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T00:16:54.187+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208"]],"client_context_id":"21b1e37e-b3fc-45c3-b207-a59f3b2dd38b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:17:12.029+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@342e2cc9
2025-07-31T00:17:12.030+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:17:12.031+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6357a94c-111a-4a71-acab-228849a54e5d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:17:12.035+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1d198530
2025-07-31T00:17:12.037+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND ( contains(lower(`name`), $filter) OR contains(lower(`email`), $filter) ) LIMIT $limit
2025-07-31T00:17:12.038+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"20b22c50-aa54-42e0-be7f-f39f6d69850b","metrics":false,"$filter":"","$limit":20,"scan_consistency":"request_plus"}
2025-07-31T00:17:12.043+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T00:17:12.043+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"296651b1-d797-40c3-a9b2-9ebc8be5f291","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:20:29.139+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"analytics":{"corehttp":{"total_count":2,"percentiles_us":{"50.0":5767.167,"90.0":278921.215,"99.0":278921.215,"99.9":278921.215,"100.0":278921.215}}},"search":{"manager_search_get_all_indexes":{"total_count":1,"percentiles_us":{"50.0":2326.527,"90.0":2326.527,"99.0":2326.527,"99.9":2326.527,"100.0":2326.527}},"corehttp":{"total_count":2,"percentiles_us":{"50.0":6553.599,"90.0":283115.519,"99.0":283115.519,"99.9":283115.519,"100.0":283115.519}}},"management":{"manager_collections_get_all_scopes":{"total_count":2,"percentiles_us":{"50.0":1998.847,"90.0":2260.991,"99.0":2260.991,"99.9":2260.991,"100.0":2260.991}},"corehttp":{"total_count":1,"percentiles_us":{"50.0":2342.911,"90.0":2342.911,"99.0":2342.911,"99.9":2342.911,"100.0":2342.911}},"manager_buckets_get_all_buckets":{"total_count":1,"percentiles_us":{"50.0":36962.303,"90.0":36962.303,"99.0":36962.303,"99.9":36962.303,"100.0":36962.303}}},"query":{"corehttp":{"total_count":2,"percentiles_us":{"50.0":6029.311,"90.0":304087.039,"99.0":304087.039,"99.9":304087.039,"100.0":304087.039}},"query":{"total_count":473,"percentiles_us":{"50.0":4390.911,"90.0":7012.351,"99.0":103809.023,"99.9":143654.911,"100.0":143654.911}}},"kv":{"ping":{"total_count":1,"percentiles_us":{"50.0":724.991,"90.0":724.991,"99.0":724.991,"99.9":724.991,"100.0":724.991}},"get":{"total_count":723,"percentiles_us":{"50.0":593.919,"90.0":856.063,"99.0":1335.295,"99.9":12058.623,"100.0":12058.623}},"upsert":{"total_count":1,"percentiles_us":{"50.0":17432.575,"90.0":17432.575,"99.0":17432.575,"99.9":17432.575,"100.0":17432.575}}},"views":{"corehttp":{"total_count":1,"percentiles_us":{"50.0":35389.439,"90.0":35389.439,"99.0":35389.439,"99.9":35389.439,"100.0":35389.439}}}},"meta":{"emit_interval_s":600}}
2025-07-31T00:33:12.919+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T00:33:12.920+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin@example.com"],"client_context_id":"319ffc7f-42c6-45ce-883e-e6de5c2df080","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:13.004+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:13.005+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"ae451686-0aa3-48cf-902c-f568c450a684","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:13.010+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@f73895f
2025-07-31T00:33:13.011+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f652b8
2025-07-31T00:33:13.013+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@10f7000b
2025-07-31T00:33:13.014+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2bf3264b
2025-07-31T00:33:13.015+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@38597b1b
2025-07-31T00:33:13.228+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@55378db1
2025-07-31T00:33:13.229+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:13.230+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f71fdeca-82c4-4abb-b9dc-e14d0fc0e3e1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:13.237+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@29211afc
2025-07-31T00:33:13.241+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f137bfc
2025-07-31T00:33:13.244+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@46d9a989
2025-07-31T00:33:13.246+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f6afee6
2025-07-31T00:33:13.250+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@e3de70d
2025-07-31T00:33:13.253+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T00:33:13.253+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"9d84dd15-1cb1-41d6-8596-a89e5d83dd7a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:13.260+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T00:33:13.264+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4d231bb8-a42e-47ae-90fb-c5f65c0bb79e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:13.276+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6960dd9
2025-07-31T00:33:13.278+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:13.279+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6af0a74e-fcda-419d-a993-583109546c6d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:13.283+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@60cb3dcf
2025-07-31T00:33:13.285+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@491d8735
2025-07-31T00:33:13.285+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@641a76cf
2025-07-31T00:33:13.286+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@52d45750
2025-07-31T00:33:13.288+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6bc82d80
2025-07-31T00:33:13.289+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T00:33:13.289+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"37e7dea3-550b-41ed-86a0-b795a4e4d6ba","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:13.295+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T00:33:13.295+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4bb4ee0d-3cd9-4b29-9944-2df168884eaa","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.569+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6b4df884
2025-07-31T00:33:15.570+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.570+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6ddaa351-f226-41f4-9339-30d5ec57b7f1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.571+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.572+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"1f5cb603-6d84-4a4a-955d-e394c78b89d5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.579+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:33:15.579+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3221f016
2025-07-31T00:33:15.580+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"65e98d89-fb4d-49b1-94ea-a0de793351be","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:33:15.581+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1fb4acd1
2025-07-31T00:33:15.583+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1bb9ee7b
2025-07-31T00:33:15.587+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2f03a626
2025-07-31T00:33:15.590+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@56d99454
2025-07-31T00:33:15.595+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.595+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6b457fd9
2025-07-31T00:33:15.596+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8dd3a2e5-6e8d-4154-b8a9-835b92308d18","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.603+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7200bdbd
2025-07-31T00:33:15.604+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1d8776bf
2025-07-31T00:33:15.605+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3336ab00
2025-07-31T00:33:15.606+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@31b4ed35
2025-07-31T00:33:15.607+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.607+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3b45fb3
2025-07-31T00:33:15.608+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2fb0a4b2-1c17-4931-9755-50ca5408f210","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.609+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@74aef72d
2025-07-31T00:33:15.611+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@523a4589
2025-07-31T00:33:15.612+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.613+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"fa05825b-6317-469c-8312-3972e5632ae2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.614+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@d7dec9b
2025-07-31T00:33:15.615+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@63d6fa8e
2025-07-31T00:33:15.616+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@53512cc3
2025-07-31T00:33:15.617+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@55b9e302
2025-07-31T00:33:15.618+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@44f1c7be
2025-07-31T00:33:15.618+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3742d41a
2025-07-31T00:33:15.619+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@65995154
2025-07-31T00:33:15.620+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@668dc555
2025-07-31T00:33:15.622+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@669bc200
2025-07-31T00:33:15.623+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2c1d255a
2025-07-31T00:33:15.624+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@321d27c
2025-07-31T00:33:15.625+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.626+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5673fd8d-f7c6-4cb6-9343-1293b41d642d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.631+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@b0e0820
2025-07-31T00:33:15.632+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@33bd4083
2025-07-31T00:33:15.633+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@76cf845b
2025-07-31T00:33:15.634+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7bf00acc
2025-07-31T00:33:15.635+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@c4529a
2025-07-31T00:33:15.637+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@59a4a359
2025-07-31T00:33:15.638+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.638+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2f38faf5-85fe-4f98-bb54-16db5bb6c81e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.643+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5343196a
2025-07-31T00:33:15.645+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@289edfa4
2025-07-31T00:33:15.646+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@a6c08af
2025-07-31T00:33:15.647+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@76aeccd0
2025-07-31T00:33:15.648+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3d6d1326
2025-07-31T00:33:15.649+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@63d098d0
2025-07-31T00:33:15.650+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.651+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f307560b-4009-4504-8264-e2241d9d1ccd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.656+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@913cd75
2025-07-31T00:33:15.658+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@95b58cb
2025-07-31T00:33:15.659+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5c7a8ee5
2025-07-31T00:33:15.660+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3b8b9ba2
2025-07-31T00:33:15.662+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2ce481c3
2025-07-31T00:33:15.664+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7faa1994
2025-07-31T00:33:15.666+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.666+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"0feba114-e5aa-4605-ad4a-5dab691d5ea0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.673+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@77afad22
2025-07-31T00:33:15.674+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@109e6efe
2025-07-31T00:33:15.675+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@187c0fb7
2025-07-31T00:33:15.676+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@37b5c395
2025-07-31T00:33:15.678+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3df9befc
2025-07-31T00:33:15.679+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5e73de23
2025-07-31T00:33:15.680+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.681+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2620aaaa-94f9-41d6-b634-23985e93c06d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.685+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@260a73ed
2025-07-31T00:33:15.687+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3f3aa5d2
2025-07-31T00:33:15.688+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4f44f297
2025-07-31T00:33:15.689+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@f86bf9a
2025-07-31T00:33:15.690+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7ae6309c
2025-07-31T00:33:15.691+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@10180e27
2025-07-31T00:33:15.692+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.692+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"953db7ed-7fa2-4177-b64e-0b629afb7316","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.697+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@78a096f9
2025-07-31T00:33:15.699+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@42e08c18
2025-07-31T00:33:15.700+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@9493608
2025-07-31T00:33:15.702+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@59f07830
2025-07-31T00:33:15.703+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@259b3aa9
2025-07-31T00:33:15.705+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@635df24e
2025-07-31T00:33:15.707+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.707+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"594a92e1-f0aa-4a8b-acef-2a171998cb40","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.713+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2364715b
2025-07-31T00:33:15.714+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@798facff
2025-07-31T00:33:15.716+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@53d9f15
2025-07-31T00:33:15.717+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@97ec27e
2025-07-31T00:33:15.718+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@91084a3
2025-07-31T00:33:15.719+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@dfc292a
2025-07-31T00:33:15.721+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.721+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"99cc40b6-aa21-48fd-b4d4-100c353c5ad0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.726+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6450cab7
2025-07-31T00:33:15.728+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1bc28971
2025-07-31T00:33:15.729+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@16fa2336
2025-07-31T00:33:15.730+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7a23edba
2025-07-31T00:33:15.732+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1844953b
2025-07-31T00:33:15.733+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@17c21e43
2025-07-31T00:33:15.734+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.734+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"64a9d4de-e97b-4c3c-8082-8406fdacc7ef","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.739+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@50e66c1e
2025-07-31T00:33:15.740+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@35cd0585
2025-07-31T00:33:15.742+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@91cb34a
2025-07-31T00:33:15.743+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@e2b942c
2025-07-31T00:33:15.744+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6d4e9f6b
2025-07-31T00:33:15.745+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@30725e6a
2025-07-31T00:33:15.746+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.746+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"195b9a8a-9356-4949-8f76-340673783f97","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.751+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5c982dcd
2025-07-31T00:33:15.752+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@ec04886
2025-07-31T00:33:15.753+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@176c3bf2
2025-07-31T00:33:15.754+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@35cfb67b
2025-07-31T00:33:15.755+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2824034a
2025-07-31T00:33:15.756+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T00:33:15.757+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:33:15.757+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"62098f67-60fe-4dbc-9490-dd9a46993937","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.762+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:33:15.763+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:33:15.764+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"251bb001-0220-415a-93a8-b53ea9fa8df2","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:33:15.773+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.773+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"210384d5-0cb5-44ff-94db-b614fcbcc3ac","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.779+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:33:15.780+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"79273028-f082-4913-96f3-5cb557ac1ad4","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:33:15.784+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3ac5b1ad
2025-07-31T00:33:15.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f3e96f15-fa1c-42dd-afd9-61f0784ae993","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.790+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@31dbc29d
2025-07-31T00:33:15.791+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@49be878e
2025-07-31T00:33:15.792+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@285a043b
2025-07-31T00:33:15.793+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3f058044
2025-07-31T00:33:15.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@50a57213
2025-07-31T00:33:15.795+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6d9a1d7e
2025-07-31T00:33:15.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5bfd65a5-54b7-412a-af21-02592abab495","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.801+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1599b72a
2025-07-31T00:33:15.802+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@60d127d
2025-07-31T00:33:15.803+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7dc3dd45
2025-07-31T00:33:15.804+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@400f4e6e
2025-07-31T00:33:15.805+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@18f791a2
2025-07-31T00:33:15.806+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7687f63b
2025-07-31T00:33:15.808+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.808+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"638ee1f8-806d-4b40-b234-ad6704796f28","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.813+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@15cd345b
2025-07-31T00:33:15.814+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f0b64b2
2025-07-31T00:33:15.815+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@bd59a70
2025-07-31T00:33:15.816+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@422a931f
2025-07-31T00:33:15.817+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3eb918ed
2025-07-31T00:33:15.818+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4ae3d57c
2025-07-31T00:33:15.819+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.820+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"963c9ffa-6bea-4a35-9f8d-4edfc7791d76","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.824+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6dc2d04a
2025-07-31T00:33:15.826+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7b661486
2025-07-31T00:33:15.826+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@d6e0577
2025-07-31T00:33:15.827+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@59f26993
2025-07-31T00:33:15.828+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2249a267
2025-07-31T00:33:15.829+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6940508c
2025-07-31T00:33:15.830+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.830+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a99d0495-a638-4f81-8335-3a6818281d27","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.834+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@14f8a56e
2025-07-31T00:33:15.835+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5e8cf893
2025-07-31T00:33:15.837+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@313933bf
2025-07-31T00:33:15.838+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5a96d124
2025-07-31T00:33:15.839+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@b14cccd
2025-07-31T00:33:15.840+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3265f55c
2025-07-31T00:33:15.841+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.842+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e294658d-5572-48e3-a9bb-134aad07eac5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.846+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4ab98c64
2025-07-31T00:33:15.847+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@26ca7be6
2025-07-31T00:33:15.848+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@b95b956
2025-07-31T00:33:15.849+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@16c7726d
2025-07-31T00:33:15.850+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@101b067d
2025-07-31T00:33:15.851+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@65fb5ad3
2025-07-31T00:33:15.852+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.852+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"25ae2753-a1ab-4069-99c2-c86048f9ab98","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.856+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@43821033
2025-07-31T00:33:15.858+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6efb4634
2025-07-31T00:33:15.859+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@261b9d78
2025-07-31T00:33:15.860+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@190976aa
2025-07-31T00:33:15.861+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4ad9fe30
2025-07-31T00:33:15.862+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7e27cbb9
2025-07-31T00:33:15.863+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.863+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"41272804-971b-49c5-aee0-4899932a86af","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.867+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@42d7958
2025-07-31T00:33:15.869+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@56c3e351
2025-07-31T00:33:15.870+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@53eebfc7
2025-07-31T00:33:15.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1354cc00
2025-07-31T00:33:15.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7cdc808b
2025-07-31T00:33:15.872+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@354c2d2a
2025-07-31T00:33:15.873+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.873+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b6207e94-8f21-4d70-a2c0-186f3544cff6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.879+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@137aacc3
2025-07-31T00:33:15.880+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@267b4660
2025-07-31T00:33:15.881+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3ebb52fc
2025-07-31T00:33:15.881+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6a4a1d7c
2025-07-31T00:33:15.882+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2c10b842
2025-07-31T00:33:15.883+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5024b3e6
2025-07-31T00:33:15.884+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.884+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3e46a435-1d74-45d9-979c-87b4339bd7eb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.888+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@346c27ac
2025-07-31T00:33:15.889+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@ef77da0
2025-07-31T00:33:15.890+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@278c0694
2025-07-31T00:33:15.891+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@52422a00
2025-07-31T00:33:15.892+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@74626a3
2025-07-31T00:33:15.893+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@32e95196
2025-07-31T00:33:15.894+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.894+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8e10cfe8-a291-4975-a461-c24f1241b4e9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.899+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@759649f9
2025-07-31T00:33:15.900+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@36476f61
2025-07-31T00:33:15.901+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@822434
2025-07-31T00:33:15.902+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@789fb053
2025-07-31T00:33:15.903+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3f01f738
2025-07-31T00:33:15.904+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3230bbde
2025-07-31T00:33:15.905+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:15.906+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"34db613f-6bd8-450f-8abc-486237c2926c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.909+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@23028a28
2025-07-31T00:33:15.911+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@261abb33
2025-07-31T00:33:15.911+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@161230ff
2025-07-31T00:33:15.913+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@21cb87a8
2025-07-31T00:33:15.913+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@16af0a73
2025-07-31T00:33:15.914+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T00:33:15.915+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:33:15.916+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"f5cf240f-80ad-4d0f-a1d2-2b556763d88c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:15.921+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:33:15.922+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:33:15.923+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"5651b7cf-6663-4939-bf41-d7e8e1616f23","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:33:47.037+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2342bed2
2025-07-31T00:33:47.039+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:47.040+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"bf814313-e2bd-42ec-9003-d2325d37a63c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:47.046+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@49eb9643
2025-07-31T00:33:47.047+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@217d67be
2025-07-31T00:33:47.048+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@17fff96d
2025-07-31T00:33:47.049+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f6f0cb7
2025-07-31T00:33:47.050+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3aa3de97
2025-07-31T00:33:47.051+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@70291eea
2025-07-31T00:33:47.052+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:33:47.053+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6130cf25-17f5-45f3-907e-a4c131420495","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:33:47.057+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@18f5b513
2025-07-31T00:33:47.058+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4fa8180e
2025-07-31T00:33:47.060+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6b5b300a
2025-07-31T00:33:47.061+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@53bdadc5
2025-07-31T00:33:47.062+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@66d5d78c
2025-07-31T00:33:47.114+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=com.ecom.ai.ecomassistant.db.model.auth.TeamRole@65362057 scope: AI collection: team-role options: null
2025-07-31T00:33:47.116+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: com.ecom.ai.ecomassistant.db.model.auth.TeamRole@65362057
2025-07-31T00:33:47.118+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T00:38:59.445+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":44,"percentiles_us":{"50.0":3768.319,"90.0":5570.559,"99.0":6553.599,"99.9":6553.599,"100.0":6553.599}}},"kv":{"get":{"total_count":185,"percentiles_us":{"50.0":434.175,"90.0":720.895,"99.0":933.887,"99.9":1187.839,"100.0":1187.839}},"upsert":{"total_count":1,"percentiles_us":{"50.0":1753.087,"90.0":1753.087,"99.0":1753.087,"99.9":1753.087,"100.0":1753.087}}}},"meta":{"emit_interval_s":600}}
2025-07-31T00:47:17.756+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@51ad8444
2025-07-31T00:47:17.758+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:47:17.759+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"9ebdf693-0579-4f34-a28a-bc8d63552853","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:47:17.766+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1f522dea
2025-07-31T00:47:17.767+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5fa9226e
2025-07-31T00:47:17.769+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@621b027b
2025-07-31T00:47:17.770+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7c27be96
2025-07-31T00:47:17.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7294f185
2025-07-31T00:47:17.773+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T00:47:17.774+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"38eb47a6-9842-475a-ba10-46b83b305e8d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:47:17.781+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T00:47:17.781+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"d058686c-b413-4285-8fae-62a0fb5e72c7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:47:17.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@63145af6
2025-07-31T00:47:17.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:47:17.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"7090f389-b35a-4c92-b3cd-03b9bd79a533","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:47:17.800+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@39f95563
2025-07-31T00:47:17.801+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@234210ad
2025-07-31T00:47:17.803+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@281e2db
2025-07-31T00:47:17.804+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4383db97
2025-07-31T00:47:17.805+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@30a2ccc9
2025-07-31T00:47:17.806+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T00:47:17.807+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"286c1a1c-a1fa-4362-a750-ae9ea50ce240","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:47:17.812+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T00:47:17.813+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a618758e-5def-4c86-a7bd-21d34c9c1102","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:16.209+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":6,"percentiles_us":{"50.0":3457.023,"90.0":5767.167,"99.0":5767.167,"99.9":5767.167,"100.0":5767.167}}},"kv":{"get":{"total_count":12,"percentiles_us":{"50.0":540.671,"90.0":724.991,"99.0":757.759,"99.9":757.759,"100.0":757.759}}}},"meta":{"emit_interval_s":600}}
2025-07-31T00:48:43.831+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@24acfab0
2025-07-31T00:48:43.831+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.832+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"39dde1f8-9d1a-474c-9c05-a76125ac63d9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.832+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.832+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a4e21f83-3187-43b8-bb1a-c599d8851633","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.837+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1a5dfe24
2025-07-31T00:48:43.838+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:48:43.838+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@126b9076
2025-07-31T00:48:43.839+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"7f0899c8-7cbb-4a73-b380-a3cbe65a70db","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:48:43.839+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@515191f1
2025-07-31T00:48:43.840+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4c16c7a1
2025-07-31T00:48:43.841+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@394fbcd9
2025-07-31T00:48:43.843+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@12b327af
2025-07-31T00:48:43.844+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.844+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"52d00a20-0313-4d0f-9ec1-282b460caced","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.846+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@55bdf6f2
2025-07-31T00:48:43.848+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2ed2f464
2025-07-31T00:48:43.848+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.849+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"89a7d2f0-9738-46e3-b326-42d98e28886f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.849+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5fe76181
2025-07-31T00:48:43.851+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@21233eb8
2025-07-31T00:48:43.852+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2aa6fb6c
2025-07-31T00:48:43.853+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@13ee4b88
2025-07-31T00:48:43.853+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2f7b09d2
2025-07-31T00:48:43.854+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7761db1d
2025-07-31T00:48:43.854+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6f3d3c58
2025-07-31T00:48:43.854+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.855+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7936dd17
2025-07-31T00:48:43.855+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"97b0548b-5029-45bd-9eed-cefbf42cad7c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.855+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4386bea5
2025-07-31T00:48:43.856+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@34440a9e
2025-07-31T00:48:43.859+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4f0fedb7
2025-07-31T00:48:43.860+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@52ef02a1
2025-07-31T00:48:43.861+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@33bca17f
2025-07-31T00:48:43.862+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4afc2d26
2025-07-31T00:48:43.863+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7aae039b
2025-07-31T00:48:43.864+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@50feec65
2025-07-31T00:48:43.865+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.865+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"ffe16cef-1f60-4102-b2be-e36dd33fff2f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.870+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@69f085c
2025-07-31T00:48:43.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2d2190b4
2025-07-31T00:48:43.872+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2719ec50
2025-07-31T00:48:43.873+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@23b112
2025-07-31T00:48:43.873+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7e8094a2
2025-07-31T00:48:43.875+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5f851ff6
2025-07-31T00:48:43.876+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.876+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"912fa1a3-c048-4324-a347-18ecf12ae233","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.880+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3716033a
2025-07-31T00:48:43.881+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2a209feb
2025-07-31T00:48:43.883+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@50ff3b89
2025-07-31T00:48:43.883+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@27f2f4cf
2025-07-31T00:48:43.884+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@20fa3cd8
2025-07-31T00:48:43.885+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@e0b30eb
2025-07-31T00:48:43.886+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.886+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f6522aff-2690-481b-b0f7-8a0391a50ff5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.891+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@270171d0
2025-07-31T00:48:43.892+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1765bd73
2025-07-31T00:48:43.894+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@66084fbb
2025-07-31T00:48:43.895+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3153b7f9
2025-07-31T00:48:43.896+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1d70cff2
2025-07-31T00:48:43.897+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2744770a
2025-07-31T00:48:43.899+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.899+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"751e1235-1981-4d1a-bf72-7ed504fda1cd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.903+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@39591ce
2025-07-31T00:48:43.904+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2fd5123a
2025-07-31T00:48:43.905+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@34c1476d
2025-07-31T00:48:43.909+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@30399ad8
2025-07-31T00:48:43.910+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1f0d66f0
2025-07-31T00:48:43.911+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@18cee3e9
2025-07-31T00:48:43.912+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.912+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3f1049b2-2eb0-4b8a-8869-fb79d7c79ef9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.916+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@260a25b2
2025-07-31T00:48:43.918+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5a1984f1
2025-07-31T00:48:43.918+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2e5753a4
2025-07-31T00:48:43.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@41692c2c
2025-07-31T00:48:43.921+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@36b9a606
2025-07-31T00:48:43.922+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2011922c
2025-07-31T00:48:43.923+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.924+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f711fa57-e21a-4cfa-b48e-6c1fa9868c2f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.928+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@344f3ff9
2025-07-31T00:48:43.930+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3ccf7d10
2025-07-31T00:48:43.931+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@47bd7519
2025-07-31T00:48:43.932+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6b110f30
2025-07-31T00:48:43.933+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@26ec455c
2025-07-31T00:48:43.935+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@610c9b6c
2025-07-31T00:48:43.936+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.937+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"cf5ff663-56f2-416d-8274-ae38154f932a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.941+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4db52fe9
2025-07-31T00:48:43.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2e3ec1e0
2025-07-31T00:48:43.944+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6abcb7de
2025-07-31T00:48:43.945+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6fee861e
2025-07-31T00:48:43.946+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@bc0266d
2025-07-31T00:48:43.947+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@53a9c734
2025-07-31T00:48:43.948+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.949+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"37b4fd3d-4fe4-43b7-89a4-e34b397b3e18","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.953+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5ca498d8
2025-07-31T00:48:43.955+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@47612b24
2025-07-31T00:48:43.956+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d188eeb
2025-07-31T00:48:43.957+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5015701b
2025-07-31T00:48:43.958+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@288f5099
2025-07-31T00:48:43.959+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@667966a7
2025-07-31T00:48:43.960+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.960+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2a40ad58-596c-4f08-a88c-348d2fc83c46","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.964+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6f9fc355
2025-07-31T00:48:43.965+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1471f315
2025-07-31T00:48:43.967+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4628629a
2025-07-31T00:48:43.968+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6b4978a6
2025-07-31T00:48:43.968+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7a5d9bf1
2025-07-31T00:48:43.969+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@612f36f4
2025-07-31T00:48:43.970+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:43.971+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"42f0e7d8-3117-4d6f-bf75-766804d2dac5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.974+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6416b4f9
2025-07-31T00:48:43.976+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@44ba7c95
2025-07-31T00:48:43.977+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@522ee5e0
2025-07-31T00:48:43.979+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4aaee1c7
2025-07-31T00:48:43.980+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1bce2517
2025-07-31T00:48:43.981+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T00:48:43.982+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:48:43.983+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2dbf33d6-51b8-45b7-9cc8-df75831fe074","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:43.988+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:48:43.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:48:43.990+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"05dee9c2-e9f7-44f9-98be-86a53b85d9f1","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:48:44.000+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.000+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"9773923b-9ebe-47e6-ba59-c6ae0af7c661","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.006+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T00:48:44.007+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"bf88ac8c-57a0-4b08-ab98-e5adf7106700","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T00:48:44.012+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@643807eb
2025-07-31T00:48:44.014+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.014+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"030e7c54-9440-46b5-b6e6-faa6147c7529","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.019+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5e8ac9cd
2025-07-31T00:48:44.021+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1f181f84
2025-07-31T00:48:44.022+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4a55dd3b
2025-07-31T00:48:44.023+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6e768cc5
2025-07-31T00:48:44.024+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@66bae467
2025-07-31T00:48:44.025+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3981330b
2025-07-31T00:48:44.026+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.027+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6d656c55-86f6-4494-a25d-8d8ba4161235","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.031+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5dd99d05
2025-07-31T00:48:44.032+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@71322df
2025-07-31T00:48:44.033+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@363b7786
2025-07-31T00:48:44.034+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6920321
2025-07-31T00:48:44.036+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@17329743
2025-07-31T00:48:44.036+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@9294aa0
2025-07-31T00:48:44.037+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.038+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e967b4dd-a865-4070-ba2d-427494940464","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.042+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@64438b44
2025-07-31T00:48:44.043+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72de17e6
2025-07-31T00:48:44.044+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@71d50e71
2025-07-31T00:48:44.044+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@32ea36a1
2025-07-31T00:48:44.045+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4a0b8213
2025-07-31T00:48:44.047+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4868dd93
2025-07-31T00:48:44.048+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.049+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"64905c33-7cd0-4d1b-be47-b0464ebae2b2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.053+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1117e469
2025-07-31T00:48:44.054+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@722b87d4
2025-07-31T00:48:44.055+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@64a68898
2025-07-31T00:48:44.056+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6aac55da
2025-07-31T00:48:44.057+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4436c04a
2025-07-31T00:48:44.058+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6a0dea3f
2025-07-31T00:48:44.060+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.061+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"13a5c77d-a571-4137-8796-e4d5cf40b05c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.066+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3a3f5dae
2025-07-31T00:48:44.067+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3235ddb6
2025-07-31T00:48:44.068+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@40737f2a
2025-07-31T00:48:44.069+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@45aa3909
2025-07-31T00:48:44.071+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5b8de3f
2025-07-31T00:48:44.072+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@19fc6b53
2025-07-31T00:48:44.074+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.074+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"1c5f5605-09dd-4ffc-8824-e631cce75fae","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.079+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@42addd69
2025-07-31T00:48:44.081+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@565bc644
2025-07-31T00:48:44.082+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@15d1b396
2025-07-31T00:48:44.082+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6f0de48c
2025-07-31T00:48:44.083+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@43673a91
2025-07-31T00:48:44.084+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b06bd5f
2025-07-31T00:48:44.085+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.086+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5a197b4d-5fc0-491a-9f96-5d707d8a46c3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.090+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@53d3faaa
2025-07-31T00:48:44.092+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@53fa4dd8
2025-07-31T00:48:44.093+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@29335684
2025-07-31T00:48:44.094+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@57a1eab8
2025-07-31T00:48:44.095+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1beb5c4c
2025-07-31T00:48:44.096+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1a7e5664
2025-07-31T00:48:44.097+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.098+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"99da4d29-2c1d-4d95-842d-cd9208d5892a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.102+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@29cab4d9
2025-07-31T00:48:44.103+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@71e67f72
2025-07-31T00:48:44.104+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@302e443e
2025-07-31T00:48:44.106+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@588be929
2025-07-31T00:48:44.107+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@241be29d
2025-07-31T00:48:44.108+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@66441483
2025-07-31T00:48:44.110+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.110+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"81029f81-1a52-4bbb-83c6-83ee4cc83e8b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.115+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2489a3c1
2025-07-31T00:48:44.117+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@23ccd4d8
2025-07-31T00:48:44.117+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5838d536
2025-07-31T00:48:44.118+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1e9e22be
2025-07-31T00:48:44.119+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@77e00d07
2025-07-31T00:48:44.120+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@32cf7d37
2025-07-31T00:48:44.121+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.122+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"bafea4de-41a9-411c-a199-043112c62d9e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.127+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2c408f3d
2025-07-31T00:48:44.128+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@43a4d3d9
2025-07-31T00:48:44.130+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@345b669f
2025-07-31T00:48:44.131+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7d3483e6
2025-07-31T00:48:44.132+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5525d21a
2025-07-31T00:48:44.134+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@307af97c
2025-07-31T00:48:44.135+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.135+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b2143a70-b5ed-4200-b109-cd5151f24afd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.141+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5ffa0e72
2025-07-31T00:48:44.142+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6088dd8
2025-07-31T00:48:44.143+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7dc63a01
2025-07-31T00:48:44.144+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1a909ddc
2025-07-31T00:48:44.146+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@15169962
2025-07-31T00:48:44.148+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5732a055
2025-07-31T00:48:44.149+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:48:44.149+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"19f25118-46b4-489f-8d5e-30d658307ec2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.156+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1b689e80
2025-07-31T00:48:44.157+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5088e4c
2025-07-31T00:48:44.158+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@24f4ca06
2025-07-31T00:48:44.160+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6686e6c5
2025-07-31T00:48:44.161+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@39c5f80b
2025-07-31T00:48:44.162+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T00:48:44.163+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T00:48:44.164+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"c2a03414-4be8-4cc5-bc24-d3d960b8b766","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:48:44.169+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T00:48:44.170+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T00:48:44.171+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"0877e854-5ea5-4650-a8c8-7a0829386f4b","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T00:50:39.736+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3d67508
2025-07-31T00:50:39.738+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:50:39.738+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"def61293-e990-4aa8-be70-1cba5b09c7e8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:50:39.743+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@53cef5be
2025-07-31T00:50:39.745+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@752cbf8a
2025-07-31T00:50:39.746+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4562fa12
2025-07-31T00:50:39.747+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2d822a7d
2025-07-31T00:50:39.748+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@9c54976
2025-07-31T00:50:39.749+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T00:50:39.749+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4f40b30b-cf8b-4478-bd5f-18c44e52855b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:50:39.754+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T00:50:39.754+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b57c0246-7ebf-4446-a33b-02ee9324d5ba","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:50:39.763+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@77e963a6
2025-07-31T00:50:39.765+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T00:50:39.766+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"7ca6f8fc-59d9-4878-b316-5f35da79dd50","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:50:39.770+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2aeabab3
2025-07-31T00:50:39.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@503b5b80
2025-07-31T00:50:39.773+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@14569c2a
2025-07-31T00:50:39.774+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@281e3955
2025-07-31T00:50:39.775+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@575e31c7
2025-07-31T00:50:39.776+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T00:50:39.777+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"fec1098c-6cde-4dbe-9ed7-e9f03df7a0ea","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:50:39.782+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T00:50:39.783+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"436bf817-3b8d-4f1a-a647-e1fa96093589","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T00:57:31.365+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":40,"percentiles_us":{"50.0":3571.711,"90.0":4390.911,"99.0":5701.631,"99.9":5701.631,"100.0":5701.631}}},"kv":{"get":{"total_count":168,"percentiles_us":{"50.0":415.743,"90.0":614.399,"99.0":770.047,"99.9":790.527,"100.0":790.527}}}},"meta":{"emit_interval_s":600}}
2025-07-31T01:03:15.594+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@321d2fb2
2025-07-31T01:03:15.594+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.596+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"fd85ddb2-6e2c-41d9-b720-f3aee3a4c172","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.597+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.598+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"d28c56c7-e664-4977-b7c8-157660e1512f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.606+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@b896811
2025-07-31T01:03:15.607+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T01:03:15.607+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1f8d9304
2025-07-31T01:03:15.607+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"1f6cb1ec-83c1-403b-bb4c-5d682c63c73f","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T01:03:15.608+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@44b65ff8
2025-07-31T01:03:15.610+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5db7c577
2025-07-31T01:03:15.611+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1dbef730
2025-07-31T01:03:15.613+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@653c63b
2025-07-31T01:03:15.614+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.615+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"ba57610a-dcea-496a-8f22-77e8a9131896","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.621+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1440e589
2025-07-31T01:03:15.621+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1ad3dbea
2025-07-31T01:03:15.623+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5cb393dd
2025-07-31T01:03:15.624+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.624+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c15c9f2e-dddb-4199-8a07-97b43c549932","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.624+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@154cce19
2025-07-31T01:03:15.626+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@d36b095
2025-07-31T01:03:15.627+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1e497017
2025-07-31T01:03:15.629+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b9249b0
2025-07-31T01:03:15.629+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5ea42578
2025-07-31T01:03:15.630+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@15144fa9
2025-07-31T01:03:15.630+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.631+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"307f73ca-e9e2-4c91-9404-05322916bc3f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.631+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4b3a5906
2025-07-31T01:03:15.632+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4f32d700
2025-07-31T01:03:15.634+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3614c89f
2025-07-31T01:03:15.636+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2deb04b3
2025-07-31T01:03:15.637+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@15e1bb83
2025-07-31T01:03:15.639+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@407db8e0
2025-07-31T01:03:15.640+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3f0dda72
2025-07-31T01:03:15.642+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4a369fbc
2025-07-31T01:03:15.644+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@521308da
2025-07-31T01:03:15.645+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.646+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2222fba2-dc26-4b19-b565-236dd09255e3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.651+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7f0400c0
2025-07-31T01:03:15.653+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2e0b8b18
2025-07-31T01:03:15.655+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@503e3a1a
2025-07-31T01:03:15.656+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1aa1ad1f
2025-07-31T01:03:15.657+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@457cac8b
2025-07-31T01:03:15.658+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@375dac77
2025-07-31T01:03:15.660+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.660+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f2a1c0a5-c554-4fcc-a440-5a55f53a4be2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.665+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1692be6c
2025-07-31T01:03:15.667+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@14c30f4
2025-07-31T01:03:15.668+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2174cca2
2025-07-31T01:03:15.670+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7b10f2ef
2025-07-31T01:03:15.672+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7872523f
2025-07-31T01:03:15.674+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@18591655
2025-07-31T01:03:15.675+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.676+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"efda5a44-7c56-437c-ace6-61fe66c5ad34","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.681+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1f4fd820
2025-07-31T01:03:15.683+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@63b4d6ac
2025-07-31T01:03:15.684+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@93d934f
2025-07-31T01:03:15.685+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5906c783
2025-07-31T01:03:15.686+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@38e98a5b
2025-07-31T01:03:15.688+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7d2d2a5c
2025-07-31T01:03:15.690+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.690+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"9cf9ea7d-c44e-4963-ab31-23c39ed13ea7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.695+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@186f695d
2025-07-31T01:03:15.697+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@77ba9f0c
2025-07-31T01:03:15.698+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3f578f2
2025-07-31T01:03:15.699+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@179edd1a
2025-07-31T01:03:15.700+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@74586b35
2025-07-31T01:03:15.702+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@57b9d84d
2025-07-31T01:03:15.704+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.704+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8b859366-8f26-4aea-845e-9ee902a669f3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.710+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7fa318a0
2025-07-31T01:03:15.712+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1eb47c43
2025-07-31T01:03:15.713+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2902ad63
2025-07-31T01:03:15.714+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@306063be
2025-07-31T01:03:15.716+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@57e11b0a
2025-07-31T01:03:15.717+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6a8a33d1
2025-07-31T01:03:15.720+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.720+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"4d1f8d1c-5f32-4d0d-945e-5e4ed961ee85","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.725+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@56dff256
2025-07-31T01:03:15.727+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@659106a0
2025-07-31T01:03:15.728+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3a776853
2025-07-31T01:03:15.729+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1d8c077
2025-07-31T01:03:15.730+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@28bcdf58
2025-07-31T01:03:15.732+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@457568e9
2025-07-31T01:03:15.734+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.735+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"bca4863d-3fcd-4625-b6e0-e19e167e462a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.740+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@44c1b5e4
2025-07-31T01:03:15.742+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@35d1e73
2025-07-31T01:03:15.743+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d55475f
2025-07-31T01:03:15.744+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@23095c3c
2025-07-31T01:03:15.745+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6a2ea32c
2025-07-31T01:03:15.747+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@16b869c
2025-07-31T01:03:15.749+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.749+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"18d2d911-b290-4a3e-9590-1aabd15d6c3e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.755+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@66e34651
2025-07-31T01:03:15.756+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@f621e0d
2025-07-31T01:03:15.758+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@104aeb0e
2025-07-31T01:03:15.759+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4dc8d0fd
2025-07-31T01:03:15.760+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3165d6db
2025-07-31T01:03:15.762+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2ee8248c
2025-07-31T01:03:15.763+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.764+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"677ba4ae-6a5f-4e4f-863a-d9bdad62f334","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.768+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@69bdb8c4
2025-07-31T01:03:15.770+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6279d236
2025-07-31T01:03:15.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7d3503ac
2025-07-31T01:03:15.773+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@121694c2
2025-07-31T01:03:15.774+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@166975dc
2025-07-31T01:03:15.776+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3a2dfd45
2025-07-31T01:03:15.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.779+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c3802e91-181e-4258-9ef0-d8d47e30b8eb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.785+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6f50a1cf
2025-07-31T01:03:15.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@49468863
2025-07-31T01:03:15.788+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@14dcd302
2025-07-31T01:03:15.790+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@41cec309
2025-07-31T01:03:15.791+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2bfa5c26
2025-07-31T01:03:15.792+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T01:03:15.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T01:03:15.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"af0dae0e-866c-4988-92bf-b3f48b836c92","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.800+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T01:03:15.801+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T01:03:15.802+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"6d5d837b-699d-4faf-9099-d745fd9325d8","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T01:03:15.813+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.813+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a9527294-15e9-49c9-bad7-2efbb920fcc3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.820+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T01:03:15.821+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"f8e5cc2f-a2d6-4203-9237-dab874572208","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T01:03:15.827+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4be5ac73
2025-07-31T01:03:15.829+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.830+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"d9c632d9-41f9-463a-a07a-e40e50baeb00","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.834+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7708b6b0
2025-07-31T01:03:15.836+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@54a5cfde
2025-07-31T01:03:15.837+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@662b564e
2025-07-31T01:03:15.839+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@cbe8cc
2025-07-31T01:03:15.840+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@32446353
2025-07-31T01:03:15.841+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@48e581fa
2025-07-31T01:03:15.843+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.843+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5fd63d1a-95ef-4a93-88c0-21c430adf30e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.849+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7440378e
2025-07-31T01:03:15.850+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2b923c42
2025-07-31T01:03:15.852+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3add9c98
2025-07-31T01:03:15.853+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5e532068
2025-07-31T01:03:15.854+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2bda906b
2025-07-31T01:03:15.856+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1110c97e
2025-07-31T01:03:15.857+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.858+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b6bdefef-2334-4ccc-bb39-6a17f2f20484","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.864+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@47ffbe98
2025-07-31T01:03:15.865+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@68866f
2025-07-31T01:03:15.866+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7fce07c1
2025-07-31T01:03:15.868+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@68826a7f
2025-07-31T01:03:15.869+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@52331289
2025-07-31T01:03:15.870+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@16acad5e
2025-07-31T01:03:15.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.872+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8a52b4ba-4b48-4a2f-a972-ef962dce88a2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.878+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@19535045
2025-07-31T01:03:15.879+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@62f91082
2025-07-31T01:03:15.880+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2814e10e
2025-07-31T01:03:15.882+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5ba17f0f
2025-07-31T01:03:15.883+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@58f3dd46
2025-07-31T01:03:15.885+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7224bbda
2025-07-31T01:03:15.887+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.888+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"ea306492-acfa-4b0b-97bc-2481b85c0e89","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.895+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7db73801
2025-07-31T01:03:15.897+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2dbe79bf
2025-07-31T01:03:15.898+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6be198a3
2025-07-31T01:03:15.900+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3c4c146e
2025-07-31T01:03:15.901+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@787f44d6
2025-07-31T01:03:15.903+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2652a9e7
2025-07-31T01:03:15.905+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.906+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"707f2a23-1fd3-41b0-adcd-ce6e6d0e457a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.911+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4191190e
2025-07-31T01:03:15.913+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1da29a36
2025-07-31T01:03:15.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1ff924a0
2025-07-31T01:03:15.915+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2cd7bb29
2025-07-31T01:03:15.916+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@65479ed4
2025-07-31T01:03:15.917+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6cbdcb60
2025-07-31T01:03:15.919+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b2e6f121-b79c-4908-91f1-bf0fde907578","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.925+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3a372e73
2025-07-31T01:03:15.926+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2b28c4ef
2025-07-31T01:03:15.928+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72c05e60
2025-07-31T01:03:15.929+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@70246d93
2025-07-31T01:03:15.930+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@73638152
2025-07-31T01:03:15.931+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1e812c6d
2025-07-31T01:03:15.932+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.933+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5a9004e1-253e-4a8d-90d0-5b57d5cb8798","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.938+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6e424283
2025-07-31T01:03:15.939+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3dd9e22d
2025-07-31T01:03:15.941+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@525f9dd5
2025-07-31T01:03:15.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@45aa21b7
2025-07-31T01:03:15.944+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@390035db
2025-07-31T01:03:15.945+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b3a705c
2025-07-31T01:03:15.946+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.947+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"4dcdb6a7-f8f7-403d-bb71-77196558724c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.952+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@65a5eddb
2025-07-31T01:03:15.954+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7196cf41
2025-07-31T01:03:15.955+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@49008245
2025-07-31T01:03:15.956+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@51a0a3a9
2025-07-31T01:03:15.958+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1ba15773
2025-07-31T01:03:15.959+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5c8a6f81
2025-07-31T01:03:15.960+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.961+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"ae84f267-e900-4150-a3dc-8ec0059b5115","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.966+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@11d5dcff
2025-07-31T01:03:15.968+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@453c8887
2025-07-31T01:03:15.969+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@54b7559c
2025-07-31T01:03:15.971+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5b4edeec
2025-07-31T01:03:15.972+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@64c3d35e
2025-07-31T01:03:15.974+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@451a17f1
2025-07-31T01:03:15.975+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.976+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e557060c-fb1c-4970-979f-0794ac9290e6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.981+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2b6fa17b
2025-07-31T01:03:15.982+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@67bb344
2025-07-31T01:03:15.983+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7c58c9f6
2025-07-31T01:03:15.984+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@69e8fc13
2025-07-31T01:03:15.985+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3f5aec2c
2025-07-31T01:03:15.987+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@64608910
2025-07-31T01:03:15.988+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:03:15.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"1ed05a17-fe78-4787-8a87-5e49f078aca7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:15.993+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5ecdeb13
2025-07-31T01:03:15.994+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@70eb9cbd
2025-07-31T01:03:15.996+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@18b83500
2025-07-31T01:03:15.997+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@78f0070e
2025-07-31T01:03:15.998+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@49d4fe70
2025-07-31T01:03:15.999+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T01:03:16.000+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T01:03:16.001+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"69860b67-a242-4291-86f9-393eee8c6b0c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:03:16.005+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T01:03:16.006+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T01:03:16.007+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2e3382bc-ac59-4fda-97c1-9a5d2c3259fc","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T01:06:45.683+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":34,"percentiles_us":{"50.0":4145.151,"90.0":4882.431,"99.0":8847.359,"99.9":8847.359,"100.0":8847.359}}},"kv":{"get":{"total_count":156,"percentiles_us":{"50.0":522.239,"90.0":700.415,"99.0":921.599,"99.9":966.655,"100.0":966.655}}}},"meta":{"emit_interval_s":600}}
2025-07-31T01:09:02.101+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5db397f7
2025-07-31T01:09:02.104+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T01:09:02.105+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2cd03a69-105a-4b22-ae20-3948619a9479","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T01:09:02.113+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2429bdd7
2025-07-31T01:09:02.114+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2df609c
2025-07-31T01:09:02.115+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4392431f
2025-07-31T01:09:02.115+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@19d19d05
2025-07-31T01:09:02.116+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@707f5ced
2025-07-31T01:09:02.118+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@95d09fe
2025-07-31T01:09:02.119+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@58062971
2025-07-31T01:09:02.119+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4daaaec1
2025-07-31T01:15:59.356+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":1,"percentiles_us":{"50.0":6619.135,"90.0":6619.135,"99.0":6619.135,"99.9":6619.135,"100.0":6619.135}}},"kv":{"get":{"total_count":9,"percentiles_us":{"50.0":344.063,"90.0":618.495,"99.0":618.495,"99.9":618.495,"100.0":618.495}}}},"meta":{"emit_interval_s":600}}
2025-07-31T07:46:09.172+08:00  WARN 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.auth.filter.JwtFilter            : JWT authentication failed: Invalid JWT token
2025-07-31T07:46:09.198+08:00  WARN 7736 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.auth.filter.JwtFilter            : JWT authentication failed: Invalid JWT token
2025-07-31T07:46:11.301+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T07:46:11.302+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin@example.com"],"client_context_id":"a27c3d95-de9a-4928-aa6c-6097bfd9076b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:11.394+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:11.395+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"9429b266-3753-4aab-8b12-b6b9e60eeac1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:11.400+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@c31defd
2025-07-31T07:46:11.402+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6309e67
2025-07-31T07:46:11.403+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7cb45a6a
2025-07-31T07:46:11.404+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@9115ef8
2025-07-31T07:46:11.406+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@b55af11
2025-07-31T07:46:11.690+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@90e4dd5
2025-07-31T07:46:11.692+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:11.693+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5736c4ba-cbf5-45e5-8396-af530ba710dc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:11.698+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@56fa55f4
2025-07-31T07:46:11.700+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@567c0dcf
2025-07-31T07:46:11.701+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1a894c30
2025-07-31T07:46:11.702+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6192ca51
2025-07-31T07:46:11.703+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@65436662
2025-07-31T07:46:11.705+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T07:46:11.705+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b407e56c-3dbf-4b53-90bd-462ce0c293cd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:11.712+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T07:46:11.712+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"85c405b5-73fa-4320-9df8-11acdeda0ba9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:11.724+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@47b81bad
2025-07-31T07:46:11.726+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:11.726+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"bc3358f5-84ad-47a7-a26d-9b5dfacf53a1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:11.731+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@26cbf85d
2025-07-31T07:46:11.733+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4fef1054
2025-07-31T07:46:11.734+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@57ab63ce
2025-07-31T07:46:11.735+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@50496fe5
2025-07-31T07:46:11.736+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@29397ca1
2025-07-31T07:46:11.738+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T07:46:11.738+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8e0dddc1-5f08-4487-8251-636ef7f9d784","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:11.744+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T07:46:11.744+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b89fae1e-c78c-4493-80a0-17175230c41c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:17.784+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@70ab48be
2025-07-31T07:46:17.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T07:46:17.789+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"f13dab72-7434-456d-9e37-547e15456041","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:17.806+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@14ab0f3
2025-07-31T07:46:17.809+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T07:46:17.810+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"849ac080-7971-41a1-9430-9539edbbc0d2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:17.816+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T07:46:17.817+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@787e6b91
2025-07-31T07:46:17.819+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:17.819+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2b16da56-25f1-4a7b-82f6-eebc8f04f539","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:17.825+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7ad82a62
2025-07-31T07:46:17.827+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2bb94b32
2025-07-31T07:46:17.828+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3daaebee
2025-07-31T07:46:17.829+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@36832d29
2025-07-31T07:46:17.830+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@d339aa1
2025-07-31T07:46:17.831+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T07:46:17.832+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T07:46:17.835+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T07:46:17.835+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0633e524-57c8-4136-a6db-e338b1bd6523"],"client_context_id":"968cfbd2-495f-4f0c-9d75-bd4c2550926f","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T07:46:18.103+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : QA stats for document 0633e524-57c8-4136-a6db-e338b1bd6523: total=10, pending=6, approved=3, rejected=1
2025-07-31T07:46:18.111+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T07:46:18.112+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7318c6cf
2025-07-31T07:46:18.113+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:18.114+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"68817c9b-cdd3-4d67-b7f4-f288dfbee426","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:18.118+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@484c1b70
2025-07-31T07:46:18.119+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@192f6b8e
2025-07-31T07:46:18.120+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2c95bad7
2025-07-31T07:46:18.121+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@198e2f34
2025-07-31T07:46:18.122+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@313120ee
2025-07-31T07:46:18.123+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T07:46:18.123+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T07:46:18.124+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T07:46:18.124+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0633e524-57c8-4136-a6db-e338b1bd6523"],"client_context_id":"dc3284ab-abef-4730-b534-e7a44f467dd4","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T07:46:18.213+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : QA stats for document 0633e524-57c8-4136-a6db-e338b1bd6523: total=10, pending=6, approved=3, rejected=1
2025-07-31T07:46:18.902+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1e63a462
2025-07-31T07:46:18.904+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:18.904+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e550fef8-4f46-40e8-bceb-a1be8aec25dc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:18.909+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@125a0173
2025-07-31T07:46:18.910+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@977629a
2025-07-31T07:46:18.911+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6b49db61
2025-07-31T07:46:18.911+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@680a22de
2025-07-31T07:46:18.912+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2a19e735
2025-07-31T07:46:18.913+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T07:46:18.913+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"e416aff7-c599-47d0-8e47-05cba0b7ead8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:18.917+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T07:46:18.918+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"343e9058-8146-4f04-a325-afe01a01feb3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:18.926+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@58899111
2025-07-31T07:46:18.928+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:18.928+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"4b27a5cf-af11-473b-8c32-2c3bbedc0d3b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:18.933+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@724ddc06
2025-07-31T07:46:18.934+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@655cbd53
2025-07-31T07:46:18.938+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7a5f201e
2025-07-31T07:46:18.939+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6eca375d
2025-07-31T07:46:18.940+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72fb6b6e
2025-07-31T07:46:18.941+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T07:46:18.941+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8c4ea5ae-ae22-44e2-bde0-b5ee5f620ad6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:18.947+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T07:46:18.947+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"5bbbce46-14e8-490b-ac15-580a9ad13584","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:19.770+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=f560409a-778b-49d0-a6ba-b0b44d4266cc scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@41726566
2025-07-31T07:46:19.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T07:46:19.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["f560409a-778b-49d0-a6ba-b0b44d4266cc"],"client_context_id":"b09c3323-9205-49f3-b18f-b198b6d81c07","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:19.784+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=f560409a-778b-49d0-a6ba-b0b44d4266cc scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@582a606f
2025-07-31T07:46:19.785+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T07:46:19.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["f560409a-778b-49d0-a6ba-b0b44d4266cc"],"client_context_id":"218c416a-f7d0-4373-b8cf-c8560db9e573","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:20.648+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@53a04e5d
2025-07-31T07:46:20.650+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:20.651+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"26566ee6-0aac-45c2-be47-b54e91e5d090","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:20.657+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@526215fc
2025-07-31T07:46:20.659+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3afd670b
2025-07-31T07:46:20.666+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@27306ea
2025-07-31T07:46:20.668+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5370625f
2025-07-31T07:46:20.669+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@11ff5038
2025-07-31T07:46:20.671+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T07:46:20.672+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"af6848df-efdd-4b35-a2e2-710e99fe47bc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:20.678+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T07:46:20.679+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"15d29741-18a4-42d4-89ed-6a4541a15749","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:20.690+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1848335e
2025-07-31T07:46:20.692+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:20.693+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2c515a15-673c-4fc6-ba41-90117e5ec597","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:20.698+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3dff71e5
2025-07-31T07:46:20.700+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4dab856
2025-07-31T07:46:20.702+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@611fd7b7
2025-07-31T07:46:20.703+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3894da09
2025-07-31T07:46:20.704+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7e22e4a7
2025-07-31T07:46:20.705+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T07:46:20.706+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"be175d0d-18ec-4a82-9c9b-0073cb1c2c47","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:20.712+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T07:46:20.713+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"326640a9-d818-4a0b-a4e6-d7218c0d4f82","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:22.261+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ec96ee5d-a843-440e-9255-2e3a714d4b55 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@724df647
2025-07-31T07:46:22.263+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T07:46:22.264+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ec96ee5d-a843-440e-9255-2e3a714d4b55"],"client_context_id":"757ce27d-b255-49d7-87fa-13878bff5aad","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:22.274+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ec96ee5d-a843-440e-9255-2e3a714d4b55 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@51321de7
2025-07-31T07:46:22.276+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T07:46:22.277+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ec96ee5d-a843-440e-9255-2e3a714d4b55"],"client_context_id":"1b2a06b7-7627-45c8-822c-dfd34d5b70e2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:23.005+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@748d8981
2025-07-31T07:46:23.007+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:23.008+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f5410e2d-76a5-476d-9208-51b71ea1ef6a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:23.014+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@402d1603
2025-07-31T07:46:23.016+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@36b5e3bd
2025-07-31T07:46:23.017+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3d97c41c
2025-07-31T07:46:23.019+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@25ce93ae
2025-07-31T07:46:23.024+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@dfb041a
2025-07-31T07:46:23.026+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T07:46:23.026+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8c783851-c8ee-4d92-a34b-cee7e465816a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:23.033+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T07:46:23.034+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a2b7335a-2e80-4b19-ba7c-d9a97ab38743","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:23.046+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7ca528d8
2025-07-31T07:46:23.047+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:23.048+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"978b5edb-9a55-4c25-9017-ebe04d290743","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:23.055+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@b73b4ec
2025-07-31T07:46:23.059+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3b4cf3ca
2025-07-31T07:46:23.060+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4fddf7ac
2025-07-31T07:46:23.061+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1a6bf567
2025-07-31T07:46:23.062+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@c29f612
2025-07-31T07:46:23.063+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T07:46:23.063+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"33439e6b-5906-4b1b-a5a6-73c76c958163","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:23.068+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T07:46:23.069+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"9616c5d6-09dc-40f8-86d3-fae5ad276aab","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:24.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=d354c999-8775-44e5-a02e-c70d09a12022 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@2febfb3d
2025-07-31T07:46:24.916+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@30562318
2025-07-31T07:46:24.917+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:24.917+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a560afbc-5c53-4340-969e-f7c66fe7e5fe","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:24.924+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@47622d33
2025-07-31T07:46:24.925+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@37a014f1
2025-07-31T07:46:24.926+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@36efbffe
2025-07-31T07:46:24.927+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7f360201
2025-07-31T07:46:24.929+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@29eba361
2025-07-31T07:46:24.930+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T07:46:24.931+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["d354c999-8775-44e5-a02e-c70d09a12022"],"client_context_id":"afa9b8da-d6fb-44ce-b8f4-68276ab8da48","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:24.940+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=d354c999-8775-44e5-a02e-c70d09a12022 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@4e5ec670
2025-07-31T07:46:24.941+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@675774ce
2025-07-31T07:46:24.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:24.944+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"21bf937a-a7f2-48dd-9c59-9a6a699a99ea","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:24.949+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7ab559ad
2025-07-31T07:46:24.950+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@e01e4c
2025-07-31T07:46:24.952+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@38352566
2025-07-31T07:46:24.953+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6498d7aa
2025-07-31T07:46:24.954+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@34b092a5
2025-07-31T07:46:24.955+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T07:46:24.955+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["d354c999-8775-44e5-a02e-c70d09a12022"],"client_context_id":"5fa6f46d-923f-477f-acd3-fd034c178cd9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:25.626+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@52be21a
2025-07-31T07:46:25.628+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:25.628+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"06107010-430f-41cb-9e48-fe5bf2fe1cdf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:25.633+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@14c68d99
2025-07-31T07:46:25.635+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@46cd8332
2025-07-31T07:46:25.636+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7517329
2025-07-31T07:46:25.637+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5d307aeb
2025-07-31T07:46:25.638+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7dba9e91
2025-07-31T07:46:25.639+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T07:46:25.640+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8e06d39e-4b35-4bea-bf66-d8604567a27c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:25.646+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T07:46:25.646+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"84241564-7754-4611-ad5e-d67ec564976c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:25.656+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@117f875e
2025-07-31T07:46:25.658+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:25.658+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"0856ad84-d2a0-47ff-9baf-6f3ceac028d3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:25.663+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@90c3af7
2025-07-31T07:46:25.665+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5c61d992
2025-07-31T07:46:25.666+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@19d67dd5
2025-07-31T07:46:25.667+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@747e5cc6
2025-07-31T07:46:25.668+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1ccd0b3c
2025-07-31T07:46:25.670+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T07:46:25.671+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"5508d76c-23e4-4664-9dbd-1ecad46f0de4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:25.677+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T07:46:25.677+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"f188c4e3-1274-4b58-ab8b-89dbdbdb388a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:26.004+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@50a796fe
2025-07-31T07:46:26.006+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T07:46:26.007+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"44334207-62d5-42bb-8ef8-5369a689f0b2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:26.017+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@1edb3d31
2025-07-31T07:46:26.019+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T07:46:26.019+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"f7a5fce5-79d5-40aa-8e0e-d5fa0eb0c910","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:26.037+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T07:46:26.038+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3422f801
2025-07-31T07:46:26.039+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:26.040+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"de504bec-abae-4b52-b206-6b2b0526bc1e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:26.045+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@25ade5f6
2025-07-31T07:46:26.046+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72a436e
2025-07-31T07:46:26.048+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@37bfcc94
2025-07-31T07:46:26.049+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@14fed892
2025-07-31T07:46:26.051+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5e361dae
2025-07-31T07:46:26.052+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T07:46:26.053+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T07:46:26.053+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T07:46:26.054+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0633e524-57c8-4136-a6db-e338b1bd6523"],"client_context_id":"12b2a01b-c6da-45d6-bf6a-13eb0add26f9","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T07:46:26.159+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : QA stats for document 0633e524-57c8-4136-a6db-e338b1bd6523: total=10, pending=6, approved=3, rejected=1
2025-07-31T07:46:26.165+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T07:46:26.165+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@57445607
2025-07-31T07:46:26.167+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:26.168+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"d5e33b81-569c-4520-aa83-1e08d8e97089","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:26.173+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5b00affd
2025-07-31T07:46:26.174+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5397154
2025-07-31T07:46:26.176+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2cde2974
2025-07-31T07:46:26.178+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@595fa686
2025-07-31T07:46:26.179+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7fe8517
2025-07-31T07:46:26.180+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T07:46:26.180+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T07:46:26.181+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T07:46:26.182+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0633e524-57c8-4136-a6db-e338b1bd6523"],"client_context_id":"69ebcffa-81ad-44f1-be45-71c307ef22a0","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T07:46:26.270+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.controller.QAController          : QA stats for document 0633e524-57c8-4136-a6db-e338b1bd6523: total=10, pending=6, approved=3, rejected=1
2025-07-31T07:46:27.399+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T07:46:27.400+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@623ef096
2025-07-31T07:46:27.401+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:27.401+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"44f8d56b-1f25-46f1-a130-ef99a23f6c25","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:27.406+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4f56ccbf
2025-07-31T07:46:27.407+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2b576825
2025-07-31T07:46:27.408+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3ef89799
2025-07-31T07:46:27.409+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5cdc75e3
2025-07-31T07:46:27.410+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@251679f3
2025-07-31T07:46:27.410+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T07:46:27.411+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T07:46:27.412+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T07:46:27.412+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0633e524-57c8-4136-a6db-e338b1bd6523"],"client_context_id":"772816ae-f490-4df2-bd13-a4ec3094b8ff","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T07:46:27.499+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : Retrieved 10 QA pairs for document: 0633e524-57c8-4136-a6db-e338b1bd6523
2025-07-31T07:46:27.508+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T07:46:27.509+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@70677bd1
2025-07-31T07:46:27.510+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:27.511+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c5528780-7db8-4b35-80d9-88c6cd1b0ca9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:27.516+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@35e27877
2025-07-31T07:46:27.517+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@76b881bf
2025-07-31T07:46:27.518+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1a44e9f0
2025-07-31T07:46:27.520+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@51b6a09a
2025-07-31T07:46:27.522+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@77b14b1b
2025-07-31T07:46:27.523+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T07:46:27.523+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T07:46:27.524+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T07:46:27.525+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0633e524-57c8-4136-a6db-e338b1bd6523"],"client_context_id":"2091c95a-54bb-4207-a2ce-c79a632cad09","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T07:46:27.633+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Retrieved 10 QA pairs for document: 0633e524-57c8-4136-a6db-e338b1bd6523
2025-07-31T07:46:39.396+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@5580615b
2025-07-31T07:46:39.398+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T07:46:39.398+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"5171b4f8-280e-4660-a9e5-d06255957d12","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:39.420+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T07:46:39.422+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@bd20435
2025-07-31T07:46:39.427+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T07:46:39.428+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c2c6d79f-1ebc-4339-b94c-75a2036e19ea","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T07:46:39.434+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@42c0b2b7
2025-07-31T07:46:39.436+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2098d835
2025-07-31T07:46:39.437+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4e2d7ae5
2025-07-31T07:46:39.439+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@55453cb9
2025-07-31T07:46:39.440+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@12d769ac
2025-07-31T07:46:39.441+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T07:46:39.442+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T07:46:39.443+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T07:46:39.444+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0633e524-57c8-4136-a6db-e338b1bd6523"],"client_context_id":"d0b7c371-0ce0-47fc-a25e-f397f80990e5","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T07:46:39.534+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : QA stats for document 0633e524-57c8-4136-a6db-e338b1bd6523: total=10, pending=6, approved=3, rejected=1
2025-07-31T07:52:46.929+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":59,"percentiles_us":{"50.0":4325.375,"90.0":85983.231,"99.0":239075.327,"99.9":239075.327,"100.0":239075.327}}},"kv":{"get":{"total_count":130,"percentiles_us":{"50.0":561.151,"90.0":765.951,"99.0":892.927,"99.9":901.119,"100.0":901.119}}}},"meta":{"emit_interval_s":600}}
2025-07-31T08:34:15.984+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@22a91544
2025-07-31T08:34:15.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:34:15.990+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3c0b18dd-f69f-4b7b-b43f-118dbab226ce","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:34:16.018+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@265d0373
2025-07-31T08:34:16.020+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1c949c81
2025-07-31T08:34:16.021+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@76fdb962
2025-07-31T08:34:16.022+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@73168308
2025-07-31T08:34:16.023+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3d1e4082
2025-07-31T08:34:16.025+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@556b334
2025-07-31T08:34:16.026+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:34:16.026+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e94077b4-5de3-42d1-89e9-0ea677a52491","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:34:16.032+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1e7b3c55
2025-07-31T08:34:16.033+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5932e251
2025-07-31T08:34:16.034+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1667b3a5
2025-07-31T08:34:16.035+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@26987d4e
2025-07-31T08:34:16.036+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6146645c
2025-07-31T08:34:16.045+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND ( contains(lower(`name`), $filter) OR contains(lower(`email`), $filter) ) ORDER BY email ASC LIMIT 10
2025-07-31T08:34:16.046+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"e031880c-9973-4699-8ee6-a92d20c1fc05","metrics":false,"$filter":"","scan_consistency":"request_plus"}
2025-07-31T08:34:16.055+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND ( contains(lower(`name`), $filter) OR contains(lower(`email`), $filter) )) predicate_query
2025-07-31T08:34:16.056+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8eea47db-a69c-4161-a409-801ab56b9055","metrics":false,"$filter":"","scan_consistency":"request_plus"}
2025-07-31T08:34:16.084+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@70e2212b
2025-07-31T08:34:16.085+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:34:16.086+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"42f82f81-3a6b-493c-85e0-ed4ff8682bd7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:34:16.091+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@662d1725
2025-07-31T08:34:16.093+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@52d0c94f
2025-07-31T08:34:16.094+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6c72e973
2025-07-31T08:34:16.095+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@df876af
2025-07-31T08:34:16.096+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@362dc0a
2025-07-31T08:34:16.097+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@57acf798
2025-07-31T08:34:16.098+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:34:16.099+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"41c7efd9-1ef7-4e9f-843d-c7a85f592653","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:34:16.104+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2c6eb56f
2025-07-31T08:34:16.105+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@62ede343
2025-07-31T08:34:16.107+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@777ae198
2025-07-31T08:34:16.108+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@475ac8d8
2025-07-31T08:34:16.109+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1e46c891
2025-07-31T08:34:16.111+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND ( contains(lower(`name`), $filter) OR contains(lower(`email`), $filter) ) ORDER BY email ASC LIMIT 10
2025-07-31T08:34:16.112+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"1f110b65-7970-4ade-a2e4-0a7fada05c62","metrics":false,"$filter":"","scan_consistency":"request_plus"}
2025-07-31T08:34:16.121+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND ( contains(lower(`name`), $filter) OR contains(lower(`email`), $filter) )) predicate_query
2025-07-31T08:34:16.122+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"46467eac-141a-4d49-a42f-ff470dc62b65","metrics":false,"$filter":"","scan_consistency":"request_plus"}
2025-07-31T08:35:26.993+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T08:35:26.994+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["A@ecom.com"],"client_context_id":"d6f8a368-5ae0-430e-864c-e15210ffb194","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:31.707+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T08:35:31.708+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["A@ecom.com"],"client_context_id":"41c3d5d9-2c20-4233-be7b-5373f7d95af3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:34.894+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T08:35:34.895+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin@example.com"],"client_context_id":"ae3fc7ce-53ec-4f70-8cf6-6ce9c40927ec","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:34.976+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:34.977+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"d7b993b0-e966-445a-8aa5-cdc0eed0cf22","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:34.982+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@51b7e499
2025-07-31T08:35:34.983+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2d6bbae2
2025-07-31T08:35:34.984+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d82cea
2025-07-31T08:35:34.985+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@32139b08
2025-07-31T08:35:34.986+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5c6e32ff
2025-07-31T08:35:35.095+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@3bbdcd0
2025-07-31T08:35:35.098+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T08:35:35.099+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"295f905b-5d4b-485c-94c7-20bcfa6d0c7c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:35.111+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@13bcd7e1
2025-07-31T08:35:35.113+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T08:35:35.114+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"7ab1cd72-3130-438d-a6df-ca4c4789b485","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:35.119+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-2] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T08:35:35.120+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@dad15fd
2025-07-31T08:35:35.122+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:35.122+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5cd2b386-4e05-4089-896f-cd0d604c1c01","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:35.127+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@482038e5
2025-07-31T08:35:35.129+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6b7d674f
2025-07-31T08:35:35.130+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3a9c4f15
2025-07-31T08:35:35.131+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5ffbb746
2025-07-31T08:35:35.132+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@16d54b4c
2025-07-31T08:35:35.134+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-2] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T08:35:35.134+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-2] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T08:35:35.136+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T08:35:35.137+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0633e524-57c8-4136-a6db-e338b1bd6523"],"client_context_id":"bd80e667-ed9d-406b-af87-84639eba6f8a","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T08:35:35.412+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-2] c.e.a.e.controller.QAController          : QA stats for document 0633e524-57c8-4136-a6db-e338b1bd6523: total=10, pending=6, approved=3, rejected=1
2025-07-31T08:35:35.419+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T08:35:35.419+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2998953e
2025-07-31T08:35:35.421+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:35.422+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"119c05a3-3c32-4eb1-bfbb-9a28fa487223","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:35.428+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7f44b3ef
2025-07-31T08:35:35.430+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2fc23da0
2025-07-31T08:35:35.432+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@29521988
2025-07-31T08:35:35.433+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@440e58f9
2025-07-31T08:35:35.434+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1e0f505c
2025-07-31T08:35:35.435+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T08:35:35.436+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T08:35:35.438+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T08:35:35.438+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0633e524-57c8-4136-a6db-e338b1bd6523"],"client_context_id":"9b53be56-b401-464d-9430-83f4bf17a3e0","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T08:35:35.544+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : QA stats for document 0633e524-57c8-4136-a6db-e338b1bd6523: total=10, pending=6, approved=3, rejected=1
2025-07-31T08:35:42.750+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2ca22f3a
2025-07-31T08:35:42.750+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.751+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"950e42e5-4eb2-4127-bc8c-735ace9bf82e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.751+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.752+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f7c04f8e-5f19-46b8-8a73-f8fbb9df06ca","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.758+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@473de4d0
2025-07-31T08:35:42.759+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T08:35:42.759+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6ae9cf02
2025-07-31T08:35:42.760+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3642b13d-2a7b-4f43-a892-c3cff473f2ce","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T08:35:42.761+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@570ff69a
2025-07-31T08:35:42.762+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@79b0546a
2025-07-31T08:35:42.763+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@518334e8
2025-07-31T08:35:42.765+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7cb89fff
2025-07-31T08:35:42.767+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.767+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"01898b3d-0c28-41ac-9b82-5fbe18fe06c7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.771+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1681e67e
2025-07-31T08:35:42.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@19cfb75d
2025-07-31T08:35:42.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.773+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5dc56f85-0be6-416b-87e7-49b0901ba5fc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.774+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@75f5d6dd
2025-07-31T08:35:42.775+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@11795132
2025-07-31T08:35:42.777+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@29066385
2025-07-31T08:35:42.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d175ca7
2025-07-31T08:35:42.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@628c373e
2025-07-31T08:35:42.779+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@168f38e6
2025-07-31T08:35:42.779+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@62968f8d
2025-07-31T08:35:42.781+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@39a77a5b
2025-07-31T08:35:42.781+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.782+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"53edb103-ee61-47f4-8511-3fd3e821a422","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.782+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@208cc907
2025-07-31T08:35:42.784+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@23ba3fef
2025-07-31T08:35:42.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4d240bc4
2025-07-31T08:35:42.788+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@57a453ae
2025-07-31T08:35:42.789+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2021df99
2025-07-31T08:35:42.790+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4f068b73
2025-07-31T08:35:42.792+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2211c37c
2025-07-31T08:35:42.793+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@57ddcdb3
2025-07-31T08:35:42.795+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b8012d6c-e5c9-452a-ae60-6d869222eb94","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.801+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@79ae0dc6
2025-07-31T08:35:42.802+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2085c93
2025-07-31T08:35:42.803+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2e2e758d
2025-07-31T08:35:42.804+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@172795ae
2025-07-31T08:35:42.805+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1e6e7ab1
2025-07-31T08:35:42.806+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5ec2512b
2025-07-31T08:35:42.807+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.808+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b93c6374-bf58-48c8-a574-f5a2df93ec41","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.812+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@31dc563
2025-07-31T08:35:42.814+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@283caa4b
2025-07-31T08:35:42.815+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@45eaf60f
2025-07-31T08:35:42.816+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@9edac90
2025-07-31T08:35:42.817+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@64365613
2025-07-31T08:35:42.818+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2915c62c
2025-07-31T08:35:42.819+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.820+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"1cde7ff4-ace2-428b-8a68-3c42307cfcf9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.825+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3bdd178f
2025-07-31T08:35:42.827+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5fb0a548
2025-07-31T08:35:42.828+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@9e0e663
2025-07-31T08:35:42.830+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@e4375d5
2025-07-31T08:35:42.831+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5d717afd
2025-07-31T08:35:42.832+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7310efe
2025-07-31T08:35:42.833+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.834+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5d392f5c-672b-4def-8187-8942ce8617c5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.839+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@96c3385
2025-07-31T08:35:42.840+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1c9402a0
2025-07-31T08:35:42.841+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4ae4355d
2025-07-31T08:35:42.842+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@45ad9401
2025-07-31T08:35:42.843+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2d35672a
2025-07-31T08:35:42.844+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1108f12e
2025-07-31T08:35:42.845+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.846+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"19413dd9-8b57-401b-9559-29f8a3f79d02","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.851+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7aad608f
2025-07-31T08:35:42.852+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5309ee47
2025-07-31T08:35:42.853+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5503df3b
2025-07-31T08:35:42.854+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3d4d534
2025-07-31T08:35:42.855+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@12ec64d9
2025-07-31T08:35:42.856+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@e8bdb15
2025-07-31T08:35:42.858+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.858+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2abf2864-ce52-48ed-b1cc-f217e57caf21","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.862+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@453a37f8
2025-07-31T08:35:42.863+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@60e2271e
2025-07-31T08:35:42.865+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@11d94d77
2025-07-31T08:35:42.866+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@415a7f2a
2025-07-31T08:35:42.867+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@55cb050e
2025-07-31T08:35:42.868+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2460027e
2025-07-31T08:35:42.869+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.869+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"7aedf051-eee7-4da2-8e02-1a510c66d4e4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.873+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7f894170
2025-07-31T08:35:42.876+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6db8c284
2025-07-31T08:35:42.877+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@60564948
2025-07-31T08:35:42.878+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4401d4ce
2025-07-31T08:35:42.879+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@71b68fff
2025-07-31T08:35:42.880+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5a31dfaf
2025-07-31T08:35:42.881+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.882+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"697c5101-b949-4b02-bf99-9a557eb71837","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.887+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@87fd1a8
2025-07-31T08:35:42.888+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4212c3cd
2025-07-31T08:35:42.889+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@79e7507
2025-07-31T08:35:42.891+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@53061efc
2025-07-31T08:35:42.892+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@258277a5
2025-07-31T08:35:42.893+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@715ad473
2025-07-31T08:35:42.894+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.895+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"d1ce6d37-8554-4a98-bdd7-bbdc7cae50b4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.899+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@598b112
2025-07-31T08:35:42.901+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@660abea3
2025-07-31T08:35:42.901+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5003d298
2025-07-31T08:35:42.902+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@77dd6da7
2025-07-31T08:35:42.903+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@370d526f
2025-07-31T08:35:42.905+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4c11d8b
2025-07-31T08:35:42.906+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.906+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"7c04bdc6-5423-4142-9b81-52fbf9c25c48","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.910+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4a188899
2025-07-31T08:35:42.912+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@56347428
2025-07-31T08:35:42.913+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@b77caab
2025-07-31T08:35:42.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7d6b30b
2025-07-31T08:35:42.915+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@984af28
2025-07-31T08:35:42.916+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T08:35:42.917+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T08:35:42.917+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8f19ff22-a68d-46a9-a222-9c616849db7e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.922+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T08:35:42.923+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T08:35:42.924+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"f075ad23-ef25-4ed0-b833-70af65476f53","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T08:35:42.936+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.937+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"d98838cb-e774-40ba-96e6-b28aec18e18b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T08:35:42.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b75be724-0634-4050-82cd-726979775823","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T08:35:42.948+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@169201c6
2025-07-31T08:35:42.950+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.950+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f77ec44c-06d0-4bb2-9e1e-9d2df545df88","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.954+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4eae10e6
2025-07-31T08:35:42.955+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4c6ddff2
2025-07-31T08:35:42.957+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@70de6218
2025-07-31T08:35:42.958+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7644d1f4
2025-07-31T08:35:42.959+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4853c6fa
2025-07-31T08:35:42.961+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6a63024d
2025-07-31T08:35:42.962+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.962+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"0ac2122d-20c8-4180-95ff-d2ebf8164781","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.967+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@69ae63bb
2025-07-31T08:35:42.968+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@39b5d40b
2025-07-31T08:35:42.969+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6f87b1d1
2025-07-31T08:35:42.970+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1d84b706
2025-07-31T08:35:42.971+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72dacb6
2025-07-31T08:35:42.972+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@102f25d4
2025-07-31T08:35:42.973+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.974+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8ad1ff2b-8213-404c-8f5f-a2d524b2b6fa","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.978+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@42f40739
2025-07-31T08:35:42.980+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7a70b4e6
2025-07-31T08:35:42.981+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@10d2ff02
2025-07-31T08:35:42.982+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@793a7949
2025-07-31T08:35:42.983+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1b156498
2025-07-31T08:35:42.984+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@64bd3498
2025-07-31T08:35:42.985+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.986+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"bb0d6225-4f54-4a30-bc4b-3a5802467ddc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:42.991+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6310fde2
2025-07-31T08:35:42.992+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@49ca20f8
2025-07-31T08:35:42.993+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@794bacfd
2025-07-31T08:35:42.994+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@74df4eb8
2025-07-31T08:35:42.995+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1044422c
2025-07-31T08:35:42.996+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@8117d3c
2025-07-31T08:35:42.997+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:42.998+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"d7db591a-352d-4da4-b4b9-e5f13ae3e858","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.002+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2c191487
2025-07-31T08:35:43.003+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@22bd3532
2025-07-31T08:35:43.004+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@105a466b
2025-07-31T08:35:43.005+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@132131c1
2025-07-31T08:35:43.006+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7778a20e
2025-07-31T08:35:43.008+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3ca70d76
2025-07-31T08:35:43.010+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.010+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3318c938-83e4-48bf-aad0-9a9fc28e0c61","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.015+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7e8c7d97
2025-07-31T08:35:43.016+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6439e4be
2025-07-31T08:35:43.017+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@566352e5
2025-07-31T08:35:43.018+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@52ab29e2
2025-07-31T08:35:43.019+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4fd686e5
2025-07-31T08:35:43.021+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@646187b5
2025-07-31T08:35:43.022+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.023+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"7b6aee20-c3d7-4b4b-95a2-49f75415f7fa","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.027+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@28d915a6
2025-07-31T08:35:43.028+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2336dd66
2025-07-31T08:35:43.029+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@582c864b
2025-07-31T08:35:43.030+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3098fed4
2025-07-31T08:35:43.031+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@508cb944
2025-07-31T08:35:43.032+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@454493de
2025-07-31T08:35:43.033+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.034+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3c1019cb-c945-4c97-8537-1c467718f024","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.040+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@79664be3
2025-07-31T08:35:43.042+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@e7f6445
2025-07-31T08:35:43.043+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3b8caa57
2025-07-31T08:35:43.045+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5ab7149b
2025-07-31T08:35:43.047+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1145657d
2025-07-31T08:35:43.048+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@646d765c
2025-07-31T08:35:43.049+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@209e4100
2025-07-31T08:35:43.049+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@88a8d3a
2025-07-31T08:35:43.050+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.051+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.051+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"1b609267-0409-4b5a-bb3c-dccd8cfd3521","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.051+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.051+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a5e971f8-bec2-4c3d-ac8a-ae5a9ddb7b4c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.052+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"1843eb84-c036-4c76-8de4-ad74e8091e23","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.056+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3aedb694
2025-07-31T08:35:43.056+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@193992c2
2025-07-31T08:35:43.057+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@589c6e9e
2025-07-31T08:35:43.057+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f46d88c
2025-07-31T08:35:43.058+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@62c8867d
2025-07-31T08:35:43.059+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4bafe088
2025-07-31T08:35:43.059+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6d18c3ee
2025-07-31T08:35:43.060+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@12a69847
2025-07-31T08:35:43.061+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@196b3ebc
2025-07-31T08:35:43.061+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3a1681cf
2025-07-31T08:35:43.061+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@61d4a8ab
2025-07-31T08:35:43.062+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4c9110d1
2025-07-31T08:35:43.063+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@145f08d
2025-07-31T08:35:43.063+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3deb1af6
2025-07-31T08:35:43.064+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@550a2377
2025-07-31T08:35:43.064+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@342c30c0
2025-07-31T08:35:43.064+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.065+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"78d97a3f-2c7f-413d-bd22-32aba3b950c4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.065+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@79a92e02
2025-07-31T08:35:43.065+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@12eee2a2
2025-07-31T08:35:43.065+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1dd6a1ae
2025-07-31T08:35:43.067+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@56bb81a4
2025-07-31T08:35:43.069+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@279875b6
2025-07-31T08:35:43.070+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.070+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@75b66005
2025-07-31T08:35:43.070+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"96bb8878-f560-4aef-8d47-69bae587e8cc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.070+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@c34d518
2025-07-31T08:35:43.071+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.072+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5629d346-33dc-4543-b49d-05c93c07e101","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.072+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2a235a8
2025-07-31T08:35:43.073+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2ccd7ce9
2025-07-31T08:35:43.074+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@489c8903
2025-07-31T08:35:43.075+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@661d91b3
2025-07-31T08:35:43.075+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5da5f30f
2025-07-31T08:35:43.075+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@62aa091d
2025-07-31T08:35:43.076+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3838420
2025-07-31T08:35:43.076+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@26cdffd5
2025-07-31T08:35:43.077+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.077+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@93f8355
2025-07-31T08:35:43.077+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e944fd0f-4eda-4f50-a875-fbff03105218","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.078+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6e21bb90
2025-07-31T08:35:43.078+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2a17ec28
2025-07-31T08:35:43.079+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@28514819
2025-07-31T08:35:43.079+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@208d60d0
2025-07-31T08:35:43.080+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5a9eeb97
2025-07-31T08:35:43.081+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@13648446
2025-07-31T08:35:43.082+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@71366f95
2025-07-31T08:35:43.082+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T08:35:43.082+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.082+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"064a6ffb-cc95-4d9f-91b4-6fd175c92d8a","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.083+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8539274e-d0e7-4f73-b4be-2f22ed4ecdc1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.083+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@365b7f6e
2025-07-31T08:35:43.084+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1a233c37
2025-07-31T08:35:43.085+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@28732c8f
2025-07-31T08:35:43.087+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6afba4d3
2025-07-31T08:35:43.088+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@70fa5081
2025-07-31T08:35:43.088+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7b616ed
2025-07-31T08:35:43.089+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@52c9df07
2025-07-31T08:35:43.090+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:43.090+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7fa6549a
2025-07-31T08:35:43.091+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"cbc326fd-7726-4ecf-920e-ac2bf2f7c379","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.091+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4857a99c
2025-07-31T08:35:43.093+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6a0b964f
2025-07-31T08:35:43.095+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T08:35:43.096+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4f750a8
2025-07-31T08:35:43.096+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3ae3dfc0-cfa2-4b05-a37a-c95e89a30cda","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.098+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@355103ed
2025-07-31T08:35:43.099+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2bbe4a8
2025-07-31T08:35:43.100+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@350d9b6c
2025-07-31T08:35:43.101+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@b41ef75
2025-07-31T08:35:43.103+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-2] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T08:35:43.106+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T08:35:43.108+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"d48c3bd5-42b1-4b80-ad56-26b8179baa6a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.116+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-2] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T08:35:43.117+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T08:35:43.118+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"16e537a6-279f-4082-b256-09c88ed7fdb2","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T08:35:43.176+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T08:35:43.176+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"43413d19-6111-475d-8034-0b5bc2f5dfe1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:43.183+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T08:35:43.183+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208","4f363b43-acef-4580-b066-77f6ace3f1a8"]],"client_context_id":"fe44a281-f13b-4cb0-850c-a7be864e7e47","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:53.683+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7ba4e685
2025-07-31T08:35:53.685+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:53.685+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"34bc0f11-7e73-46aa-b0f4-00f71f3fd896","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:53.693+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3d3bafa4
2025-07-31T08:35:53.694+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7e8bc790
2025-07-31T08:35:53.696+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2247960a
2025-07-31T08:35:53.698+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5dc294d
2025-07-31T08:35:53.699+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@657ae0dd
2025-07-31T08:35:53.701+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@45ed0ca5
2025-07-31T08:35:53.703+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:53.704+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"db42b617-cbde-488b-acb1-6a8ca19721fb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:53.711+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5b0425d4
2025-07-31T08:35:53.713+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3f76e9b8
2025-07-31T08:35:53.716+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@d389a83
2025-07-31T08:35:53.718+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@201d37a5
2025-07-31T08:35:53.720+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5acd8cf7
2025-07-31T08:35:53.722+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND ( contains(lower(`name`), $filter) OR contains(lower(`email`), $filter) ) ORDER BY email ASC LIMIT 10
2025-07-31T08:35:53.723+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b33c9835-773e-4e0a-8604-48e536fe63f4","metrics":false,"$filter":"","scan_consistency":"request_plus"}
2025-07-31T08:35:53.732+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND ( contains(lower(`name`), $filter) OR contains(lower(`email`), $filter) )) predicate_query
2025-07-31T08:35:53.733+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4f205e03-eb30-46c8-bb85-d4c7b5ac6dca","metrics":false,"$filter":"","scan_consistency":"request_plus"}
2025-07-31T08:35:53.745+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1fef72ea
2025-07-31T08:35:53.747+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:53.748+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"0832bbff-0242-4d30-af10-de658eadddd2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:53.753+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@69a539c3
2025-07-31T08:35:53.755+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2fe23886
2025-07-31T08:35:53.756+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d64517
2025-07-31T08:35:53.757+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@604a0f45
2025-07-31T08:35:53.758+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@206149ae
2025-07-31T08:35:53.760+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1ef9632c
2025-07-31T08:35:53.762+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T08:35:53.763+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a1bb0be2-b740-4ef0-b6f2-b5849ffd6a3a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T08:35:53.768+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@28317319
2025-07-31T08:35:53.769+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1831717d
2025-07-31T08:35:53.770+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@323777ec
2025-07-31T08:35:53.771+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@67828285
2025-07-31T08:35:53.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@44088cd7
2025-07-31T08:35:53.774+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND ( contains(lower(`name`), $filter) OR contains(lower(`email`), $filter) ) ORDER BY email ASC LIMIT 10
2025-07-31T08:35:53.775+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"48125c84-c178-4a3b-b6f5-44e23d5d16b7","metrics":false,"$filter":"","scan_consistency":"request_plus"}
2025-07-31T08:35:53.784+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND ( contains(lower(`name`), $filter) OR contains(lower(`email`), $filter) )) predicate_query
2025-07-31T08:35:53.785+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"7e270378-0da5-4154-92bd-0c6c11cb6ad5","metrics":false,"$filter":"","scan_consistency":"request_plus"}
2025-07-31T08:42:39.579+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":69,"percentiles_us":{"50.0":4177.919,"90.0":6586.367,"99.0":272629.759,"99.9":272629.759,"100.0":272629.759}}},"kv":{"get":{"total_count":256,"percentiles_us":{"50.0":442.367,"90.0":679.935,"99.0":897.023,"99.9":1023.999,"100.0":1023.999}}}},"meta":{"emit_interval_s":600}}
2025-07-31T10:30:32.915+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T10:30:32.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["sam0219mm@ecom.com"],"client_context_id":"d02cfaa0-a61e-416a-bb54-1100e51488cd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T10:30:33.036+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T10:30:33.037+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"060cfa23-82ff-4abf-84c6-3fd2feda51a1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T10:30:33.043+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@51f6c587
2025-07-31T10:32:19.758+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":2,"percentiles_us":{"50.0":3997.695,"90.0":25034.751,"99.0":25034.751,"99.9":25034.751,"100.0":25034.751}}},"kv":{"get":{"total_count":1,"percentiles_us":{"50.0":880.639,"90.0":880.639,"99.0":880.639,"99.9":880.639,"100.0":880.639}}}},"meta":{"emit_interval_s":600}}
2025-07-31T10:41:34.444+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T10:41:34.445+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin@example.com"],"client_context_id":"0a696c16-b28c-40b6-ace5-8b12336499e9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T10:41:34.520+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T10:41:34.521+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"884b11ba-2821-4709-8eff-8fce7352720f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T10:41:34.525+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6bf1e741
2025-07-31T10:41:34.527+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@32fed7a8
2025-07-31T10:41:34.528+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3640acc5
2025-07-31T10:41:34.530+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@168ed795
2025-07-31T10:41:34.531+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7221f1ea
2025-07-31T10:42:17.705+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":2,"percentiles_us":{"50.0":2932.735,"90.0":7241.727,"99.0":7241.727,"99.9":7241.727,"100.0":7241.727}}},"kv":{"get":{"total_count":5,"percentiles_us":{"50.0":456.703,"90.0":524.287,"99.0":524.287,"99.9":524.287,"100.0":524.287}}}},"meta":{"emit_interval_s":600}}
2025-07-31T10:54:55.088+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T10:54:55.091+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin@example.com"],"client_context_id":"46a19109-f8af-429e-8dc8-0e4400b1dd08","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T10:54:55.176+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T10:54:55.176+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e72d3f03-1bfe-46de-878b-d7ac6641330c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T10:54:55.182+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@219a7cf5
2025-07-31T10:54:55.185+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2c91c2ad
2025-07-31T10:54:55.186+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@76cc24e9
2025-07-31T10:54:55.188+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4fb5e73e
2025-07-31T10:54:55.189+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3d3a57e9
2025-07-31T11:02:13.432+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":2,"percentiles_us":{"50.0":4423.679,"90.0":9568.255,"99.0":9568.255,"99.9":9568.255,"100.0":9568.255}}},"kv":{"get":{"total_count":5,"percentiles_us":{"50.0":606.207,"90.0":696.319,"99.0":696.319,"99.9":696.319,"100.0":696.319}}}},"meta":{"emit_interval_s":600}}
2025-07-31T11:05:37.190+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T11:05:37.192+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin@example.com"],"client_context_id":"2f4a8727-ce48-4b5e-965a-efad3b781b63","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:05:37.278+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:05:37.279+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"040d895d-5d9e-4bba-ab49-9b7dec745501","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:05:37.284+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1b5be171
2025-07-31T11:05:37.286+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@52b25da0
2025-07-31T11:05:37.287+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@642ec935
2025-07-31T11:05:37.288+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@42df7fe2
2025-07-31T11:05:37.289+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@64b4ea1
2025-07-31T11:06:24.067+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6b6f4f49
2025-07-31T11:06:24.069+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:06:24.070+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"84c7cfeb-779d-41ae-ba95-071f5fe5f31b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:06:24.077+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@581173ce
2025-07-31T11:06:24.079+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6a4d5fdc
2025-07-31T11:06:24.080+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7bc950db
2025-07-31T11:06:24.081+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2d4f6afe
2025-07-31T11:06:24.082+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7e93f39a
2025-07-31T11:06:24.083+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7ea0e02b
2025-07-31T11:06:24.084+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:06:24.085+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6edf46a2-8014-4773-8ac9-b0345dc00eb0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:06:24.090+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4fde28ac
2025-07-31T11:06:24.091+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1910a333
2025-07-31T11:06:24.092+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@787e9ca8
2025-07-31T11:06:24.093+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1a69a34
2025-07-31T11:06:24.094+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3f8359e4
2025-07-31T11:06:24.096+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.ai.tool.DynamicToolService       : 開始初始化工具註冊表...
2025-07-31T11:06:24.126+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2b40c0c0
2025-07-31T11:06:24.128+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:06:24.129+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6c1973d3-8e92-4fc1-a8fb-6fd895d7dc3a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:06:24.134+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3f3dc30f
2025-07-31T11:06:24.135+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@43854d7c
2025-07-31T11:06:24.136+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@21321e2e
2025-07-31T11:06:24.137+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@c599c08
2025-07-31T11:06:24.138+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5d2d0337
2025-07-31T11:06:24.320+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.ai.tool.DynamicToolService       : 工具註冊表初始化完成，共註冊 1 個工具 Bean
2025-07-31T11:06:24.321+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.ai.tool.ChatToolService          : 為用戶載入了 1 個可用工具
2025-07-31T11:06:46.874+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2ded5a44
2025-07-31T11:06:46.876+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:06:46.877+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b3fd46ee-8c31-495f-812a-82675ada52fc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:06:46.885+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@46b1ddab
2025-07-31T11:06:46.886+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@560b4277
2025-07-31T11:06:46.887+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@11f31d88
2025-07-31T11:06:46.889+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@43f26ad6
2025-07-31T11:06:46.890+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@b66bb86
2025-07-31T11:06:46.891+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7f24867
2025-07-31T11:06:46.892+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:06:46.893+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"9a3184de-9c2d-4cea-af4e-f2d0f255acc9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:06:46.897+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@e640a4c
2025-07-31T11:06:46.898+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5e10658c
2025-07-31T11:06:46.899+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@60145f43
2025-07-31T11:06:46.900+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@75308256
2025-07-31T11:06:46.901+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5ba8d0d6
2025-07-31T11:06:46.901+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@649f22a
2025-07-31T11:06:46.903+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:06:46.903+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c3be3785-6407-460c-bbf6-4603d8e9de97","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:06:46.907+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@44e55be7
2025-07-31T11:06:46.908+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3536431f
2025-07-31T11:06:46.909+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@61146497
2025-07-31T11:06:46.910+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@f403131
2025-07-31T11:06:46.911+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@869a57d
2025-07-31T11:06:46.912+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.ToolController        : 用戶 super_admin 查詢可用工具，共 1 個
2025-07-31T11:07:13.744+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@659ff8b6
2025-07-31T11:07:13.746+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:07:13.747+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"df8cc460-9e82-4cfc-8817-8025304b82be","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:07:13.754+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1f06941c
2025-07-31T11:07:13.756+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7114e91d
2025-07-31T11:07:13.757+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6bd4f5c1
2025-07-31T11:07:13.758+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@649f95b0
2025-07-31T11:07:13.759+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4f925b4b
2025-07-31T11:07:13.760+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@19180fa5
2025-07-31T11:07:13.761+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:07:13.761+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b97410ab-7474-4241-b64b-11c5fc0a6980","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:07:13.765+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@552e9bba
2025-07-31T11:07:13.767+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d04a6ba
2025-07-31T11:07:13.768+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1091f452
2025-07-31T11:07:13.768+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@49adb4c2
2025-07-31T11:07:13.769+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@68ff0506
2025-07-31T11:07:13.771+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@265fd5
2025-07-31T11:07:13.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:07:13.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b286706f-71d8-4bfc-914b-e37ae03947f3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:07:13.776+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1f8a08e7
2025-07-31T11:07:13.777+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3ba5b470
2025-07-31T11:07:13.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2b624137
2025-07-31T11:07:13.779+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@19887b79
2025-07-31T11:07:13.780+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@568a959f
2025-07-31T11:07:13.781+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@401aad0a
2025-07-31T11:07:13.782+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:07:13.782+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"d1f2f2e4-65f7-4b0f-901c-4f718d0a91c7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:07:13.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@79c827c7
2025-07-31T11:07:13.787+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2341c834
2025-07-31T11:07:13.788+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@216597ae
2025-07-31T11:07:13.789+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@34020c75
2025-07-31T11:07:13.790+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@cccf32d
2025-07-31T11:07:13.792+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `isSystemRole` = true
2025-07-31T11:07:13.792+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"77338d47-460e-407a-b755-36d281692789","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:07:41.219+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1e9014b2
2025-07-31T11:07:41.221+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:07:41.222+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5d537abb-f54a-4bdf-b1a2-bd0293f8614b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:07:41.230+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5e3b0f86
2025-07-31T11:07:41.231+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@23c83412
2025-07-31T11:07:41.232+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3d63915d
2025-07-31T11:07:41.233+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@723e6274
2025-07-31T11:07:41.234+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@747f148a
2025-07-31T11:07:58.544+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@31b7f2de
2025-07-31T11:07:58.548+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:07:58.549+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8852d272-7483-4f53-9f5a-362e50ae2d5a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:07:58.567+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6cc35fe8
2025-07-31T11:07:58.568+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5293da78
2025-07-31T11:07:58.570+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5c3ce3f6
2025-07-31T11:07:58.572+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@56fc783
2025-07-31T11:07:58.573+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7325e4d9
2025-07-31T11:07:58.574+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3f29b0df
2025-07-31T11:07:58.575+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:07:58.576+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"03c54af9-f292-48f7-bf5b-00c2216c1a3b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:07:58.579+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4b1c79f
2025-07-31T11:07:58.581+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7f995b55
2025-07-31T11:07:58.582+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@23c66b53
2025-07-31T11:07:58.583+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@511b98bc
2025-07-31T11:07:58.584+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5b9c303f
2025-07-31T11:08:40.783+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.784+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"ad2a7da5-2718-47c1-86ef-8b8f0a0350e8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T11:08:40.795+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"014d3ef4-7b36-4a60-a166-96037f72da39","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:08:40.800+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@63b41666
2025-07-31T11:08:40.802+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.802+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"deb2ecfe-efda-46ec-8a69-65c98a563866","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.806+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@c44a48
2025-07-31T11:08:40.807+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@69d6153d
2025-07-31T11:08:40.808+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@28fcee4a
2025-07-31T11:08:40.809+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6bb8da15
2025-07-31T11:08:40.810+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@490c5b20
2025-07-31T11:08:40.811+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@102ac0c1
2025-07-31T11:08:40.812+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.812+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f5dcb770-38b6-4304-a44f-243136c5e504","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.818+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5febe230
2025-07-31T11:08:40.819+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72aee3aa
2025-07-31T11:08:40.820+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@59d07384
2025-07-31T11:08:40.821+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1f3a9cb7
2025-07-31T11:08:40.822+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1f401702
2025-07-31T11:08:40.823+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1a7614f3
2025-07-31T11:08:40.824+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.825+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"49c2ec48-f071-449a-9ee0-d63f1db27df9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.829+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@40e0186a
2025-07-31T11:08:40.830+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@b74ebe5
2025-07-31T11:08:40.831+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1493158e
2025-07-31T11:08:40.832+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3e684a63
2025-07-31T11:08:40.833+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7e0b268c
2025-07-31T11:08:40.834+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@528cc16b
2025-07-31T11:08:40.835+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.835+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a37389f7-a778-4a5c-9ec4-58d3c644da88","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.839+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5e3f81d1
2025-07-31T11:08:40.840+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2278e327
2025-07-31T11:08:40.841+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5609ea2
2025-07-31T11:08:40.842+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@315380fc
2025-07-31T11:08:40.843+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@13c0ae0e
2025-07-31T11:08:40.844+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7644168a
2025-07-31T11:08:40.845+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.846+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"390b722e-7e19-46d2-94ae-081c5d5c5464","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.850+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@77d0136e
2025-07-31T11:08:40.851+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5aa93908
2025-07-31T11:08:40.852+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4c0f4c8d
2025-07-31T11:08:40.853+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1a29e3c0
2025-07-31T11:08:40.854+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6d15c888
2025-07-31T11:08:40.855+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7ee7dd5b
2025-07-31T11:08:40.856+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.856+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c09023b7-c96b-474d-b3e9-f5d4f9977e13","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.860+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@483a8d2e
2025-07-31T11:08:40.861+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1d58500a
2025-07-31T11:08:40.862+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5eca8aa1
2025-07-31T11:08:40.863+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1e079926
2025-07-31T11:08:40.864+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2c83435
2025-07-31T11:08:40.865+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5dcffc66
2025-07-31T11:08:40.866+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.866+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e80491f9-f082-49c4-a8c6-eb9ab1d2cc85","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.870+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@57daeafc
2025-07-31T11:08:40.871+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@75369788
2025-07-31T11:08:40.872+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@369c7c87
2025-07-31T11:08:40.872+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@14929afe
2025-07-31T11:08:40.873+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@141f1f9a
2025-07-31T11:08:40.875+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@55d44046
2025-07-31T11:08:40.876+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.876+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"030194e7-82ad-4769-9810-c2f37aa8f753","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.881+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@79763f
2025-07-31T11:08:40.882+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@bc49a4
2025-07-31T11:08:40.882+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6cb365e6
2025-07-31T11:08:40.883+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1b92de46
2025-07-31T11:08:40.884+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@50119b85
2025-07-31T11:08:40.885+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3202094a
2025-07-31T11:08:40.886+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.886+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"cdf45719-19f3-4ad7-8073-e81f85615c74","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.890+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@45e9d6b9
2025-07-31T11:08:40.891+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@480440ac
2025-07-31T11:08:40.892+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1415379a
2025-07-31T11:08:40.893+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@36ff340b
2025-07-31T11:08:40.895+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3d287073
2025-07-31T11:08:40.896+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5743465a
2025-07-31T11:08:40.897+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.897+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"02d0bba7-16a7-4e18-819c-4545bfa35a42","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.902+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6ad712cf
2025-07-31T11:08:40.903+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@25473cf2
2025-07-31T11:08:40.904+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5b127bc1
2025-07-31T11:08:40.904+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@16ae876f
2025-07-31T11:08:40.905+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@44bdae1f
2025-07-31T11:08:40.906+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5801aad6
2025-07-31T11:08:40.906+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.907+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a76ab676-177c-4754-908e-9f05d7ee4ba4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.911+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@10851e64
2025-07-31T11:08:40.913+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@727276e4
2025-07-31T11:08:40.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5b16e3e3
2025-07-31T11:08:40.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@e14b54d
2025-07-31T11:08:40.915+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@365aecd5
2025-07-31T11:08:40.916+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@577e69ac
2025-07-31T11:08:40.918+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:40.918+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"00c09827-8ada-4c7d-85f4-81f826fe1cce","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.923+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3b1b915b
2025-07-31T11:08:40.924+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@108ef5a8
2025-07-31T11:08:40.925+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@71d38f28
2025-07-31T11:08:40.927+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5544bbb7
2025-07-31T11:08:40.927+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3232790d
2025-07-31T11:08:40.929+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-2] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T11:08:40.930+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T11:08:40.930+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"66482451-880c-4329-b011-bb2c9edd7f13","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:40.935+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-2] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T11:08:40.937+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T11:08:40.938+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b59f93f3-4202-4070-b5d5-90b05ea10d8c","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T11:08:42.506+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.506+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"73e79d63-68c1-4424-9a33-7426ba8ee59d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.514+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T11:08:42.514+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2feff5bb-62b0-4189-9396-5d59c52e971e","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:08:42.519+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@77f1efab
2025-07-31T11:08:42.521+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.521+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a460dea5-083c-4dca-b0f6-2fa03d7e5f1d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.526+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3173c4a3
2025-07-31T11:08:42.527+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@43c4d025
2025-07-31T11:08:42.528+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@731cf09
2025-07-31T11:08:42.529+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7fc5f4f3
2025-07-31T11:08:42.530+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@50bc7174
2025-07-31T11:08:42.531+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@359cc6be
2025-07-31T11:08:42.532+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.533+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"ec4257d9-c01a-4a9a-ba5e-527352428f4a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.537+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3c5c0e83
2025-07-31T11:08:42.538+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6c6e1797
2025-07-31T11:08:42.539+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5feaecbf
2025-07-31T11:08:42.540+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@c9078ca
2025-07-31T11:08:42.541+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@50e457cd
2025-07-31T11:08:42.542+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4caa30e9
2025-07-31T11:08:42.544+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.544+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"129b99b8-ab50-4924-ac6a-62eeeda5ab65","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.548+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@442da2d7
2025-07-31T11:08:42.550+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4b74d4b0
2025-07-31T11:08:42.551+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@39dcb82c
2025-07-31T11:08:42.552+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@24ecfa86
2025-07-31T11:08:42.553+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@dfecfd6
2025-07-31T11:08:42.554+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@60c25b8d
2025-07-31T11:08:42.556+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.556+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"98d5d505-ee1c-4d56-911e-f961b034b305","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.561+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3c839261
2025-07-31T11:08:42.562+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7f7867bd
2025-07-31T11:08:42.563+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@48387fb
2025-07-31T11:08:42.564+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@76efbad5
2025-07-31T11:08:42.565+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@56df2ef3
2025-07-31T11:08:42.566+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6aa6fe1a
2025-07-31T11:08:42.567+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.568+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"104dfd82-2e3d-45c4-a47f-8e19f004ef86","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.572+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@728200ea
2025-07-31T11:08:42.573+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7930257d
2025-07-31T11:08:42.575+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@56b7241e
2025-07-31T11:08:42.575+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@b3c46fc
2025-07-31T11:08:42.576+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@69db9221
2025-07-31T11:08:42.578+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@11b849aa
2025-07-31T11:08:42.579+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.579+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"4ad020f8-b7d9-4a98-a69a-7c985ed937de","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.584+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7e400857
2025-07-31T11:08:42.586+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@17a2aac5
2025-07-31T11:08:42.586+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@225d688a
2025-07-31T11:08:42.587+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@717b8072
2025-07-31T11:08:42.588+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@f072cba
2025-07-31T11:08:42.589+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@d714b1d
2025-07-31T11:08:42.591+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.592+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"fcfa28dd-e9ca-4398-968c-6ed649f7aa49","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.596+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@44a16b01
2025-07-31T11:08:42.597+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@69f41bf7
2025-07-31T11:08:42.598+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5f20988f
2025-07-31T11:08:42.599+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@588e19d5
2025-07-31T11:08:42.600+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@17b898a6
2025-07-31T11:08:42.602+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5eda1205
2025-07-31T11:08:42.603+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.603+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2d568322-1c13-4beb-a13c-38a316556a1a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.608+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5651db1
2025-07-31T11:08:42.609+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2d8dec79
2025-07-31T11:08:42.610+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7e232cc6
2025-07-31T11:08:42.611+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@70e7533d
2025-07-31T11:08:42.612+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5d425005
2025-07-31T11:08:42.613+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1f6e81f0
2025-07-31T11:08:42.614+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.615+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b795e6b3-20e4-4da4-ba14-29000035085a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.619+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@784cdbc7
2025-07-31T11:08:42.620+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@32f81148
2025-07-31T11:08:42.621+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7df5bd6a
2025-07-31T11:08:42.622+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@16ffd225
2025-07-31T11:08:42.623+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@873a1de
2025-07-31T11:08:42.624+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7a7383c9
2025-07-31T11:08:42.625+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.626+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"4fbf2a71-22c4-4e6e-bb82-d6a8624f44c5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.630+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2abd7f00
2025-07-31T11:08:42.632+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@423bfe88
2025-07-31T11:08:42.633+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@57d3da40
2025-07-31T11:08:42.634+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@315866b8
2025-07-31T11:08:42.634+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@705c5aec
2025-07-31T11:08:42.635+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6d0e25d1
2025-07-31T11:08:42.637+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.637+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"92fe799a-74af-431f-802a-643a47a6d91a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.642+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2446e3ea
2025-07-31T11:08:42.643+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@56d93c7c
2025-07-31T11:08:42.644+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@44c08771
2025-07-31T11:08:42.645+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@587c1295
2025-07-31T11:08:42.646+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4bb6f3c3
2025-07-31T11:08:42.647+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@54130c15
2025-07-31T11:08:42.648+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:08:42.649+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6f18568c-a293-4313-8fa5-6f63d5317e4a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.686+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1428f2e9
2025-07-31T11:08:42.687+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2c78b243
2025-07-31T11:08:42.689+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@502c74e4
2025-07-31T11:08:42.690+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1c93a950
2025-07-31T11:08:42.691+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4fffbf91
2025-07-31T11:08:42.692+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T11:08:42.693+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T11:08:42.693+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3d168f24-f75e-475b-94e6-2f08d4c51eb9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:08:42.698+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T11:08:42.699+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T11:08:42.699+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"d62fcd49-e891-4bfb-a0a2-0e80992f83ab","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T11:09:47.616+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T11:09:47.617+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["sam0219mm@ecom.com"],"client_context_id":"e1b029dd-adf2-4be9-8965-dd9f89d3c347","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:09:47.707+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:09:47.708+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"dfc72960-c7ce-4c2a-b6ca-517f8dd17e88","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:09:47.713+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@22e78092
2025-07-31T11:10:13.896+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.897+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0a7d135f-9307-419d-a36b-56cc9b151000","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.908+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T11:10:13.909+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2d399303-6bb0-4016-bbea-f2aa421243ce","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:10:13.918+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@54a1521b
2025-07-31T11:10:13.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.921+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"73f2f026-f865-48bc-a997-01d0b4080447","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.925+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6d381702
2025-07-31T11:10:13.927+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@31da7242
2025-07-31T11:10:13.929+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.929+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"472eaf0c-ce4d-4ec3-8bac-c558278a9f41","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.934+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@550eb018
2025-07-31T11:10:13.935+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@b611128
2025-07-31T11:10:13.936+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.937+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1c6336b1-aa9e-4c79-8222-8880d326e6df","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.941+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@26cc8741
2025-07-31T11:10:13.942+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4466b9b8
2025-07-31T11:10:13.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.944+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ab27718d-37fc-4a36-a31b-ecca3b7f7c10","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.948+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@64484f5c
2025-07-31T11:10:13.949+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6723eaac
2025-07-31T11:10:13.950+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.951+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"29046932-ee83-4010-9937-cb543a3fc92c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.955+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@25179f86
2025-07-31T11:10:13.956+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@54cd59e5
2025-07-31T11:10:13.957+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.957+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6486805d-4586-4e4a-8e63-4c6b16606db0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.961+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7259de8f
2025-07-31T11:10:13.962+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@a572ce2
2025-07-31T11:10:13.964+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.964+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7d4ae866-f99a-45d7-9f51-45dc7c7c890e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.968+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@13a56981
2025-07-31T11:10:13.969+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2d191861
2025-07-31T11:10:13.970+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.971+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"48ec8e5e-a526-4058-ad97-c3209505d576","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.975+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@110806eb
2025-07-31T11:10:13.976+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@228b0814
2025-07-31T11:10:13.977+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.978+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8877f48a-ec5b-42d9-ab63-6d21d3b1ca5e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.981+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1a5a94a5
2025-07-31T11:10:13.982+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7fe54d9f
2025-07-31T11:10:13.983+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.984+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ba719030-cab4-4214-9c46-60e63027560b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.987+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2e8b33d6
2025-07-31T11:10:13.988+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@54ba45bb
2025-07-31T11:10:13.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.990+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0d9b1072-60f8-49fd-b357-b9941719c494","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.993+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1a0b0c35
2025-07-31T11:10:13.994+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4f57335e
2025-07-31T11:10:13.995+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:13.996+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a6fdc3c0-61d0-449d-9374-c960795667a6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:13.999+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@38b5bce1
2025-07-31T11:10:14.000+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3ea4b1d1
2025-07-31T11:10:14.001+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:14.002+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9f1d7d91-4920-4dab-ada2-2ffb90ed0651","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:14.005+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7c8c6894
2025-07-31T11:10:14.006+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T11:10:14.007+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T11:10:14.008+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"9a955e22-4968-4819-84d0-09ea4c98b16b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:14.011+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T11:10:14.013+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T11:10:14.013+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"46320ae3-d33a-4df3-970c-0f37d90e7af8","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T11:10:15.372+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.373+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0ea55969-e35c-4915-8b54-d4364789c196","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.381+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T11:10:15.382+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"fac0c7a6-e864-4712-9cb0-82aff26e407f","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:10:15.388+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@311adbe8
2025-07-31T11:10:15.390+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.390+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d10b5551-d152-46b2-8e57-4bcb97eb2793","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.395+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5cbe05e4
2025-07-31T11:10:15.396+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4164125f
2025-07-31T11:10:15.398+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.398+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2ebd9f9c-ab2d-48b0-96e2-8b0a8caa6d98","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.403+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2b2c74bc
2025-07-31T11:10:15.405+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4c8e2faa
2025-07-31T11:10:15.406+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.407+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"872a6726-3ab5-46e2-83bf-9099176538bf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.411+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@60b392fa
2025-07-31T11:10:15.412+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1a49259
2025-07-31T11:10:15.413+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.414+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bd95c9de-d34f-4400-bef4-f9a1e3754df4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.418+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@49658f45
2025-07-31T11:10:15.419+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@74ab0abc
2025-07-31T11:10:15.420+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.421+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"99a33546-3e26-456e-bdab-594fb34a3991","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.424+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@8f36291
2025-07-31T11:10:15.426+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2de00f8c
2025-07-31T11:10:15.427+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.427+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ac73c5df-e5b3-43c3-a156-00183734c460","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.431+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@489ab2d2
2025-07-31T11:10:15.432+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6448af97
2025-07-31T11:10:15.434+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.434+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"656e76fc-00f6-4f30-9e15-3000c9faa889","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.438+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@773cae65
2025-07-31T11:10:15.439+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5a8d4361
2025-07-31T11:10:15.440+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.441+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5baf3e43-87d2-4410-ab6d-ea4d3eb0d0b6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.444+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@471c76c0
2025-07-31T11:10:15.446+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@66095da3
2025-07-31T11:10:15.447+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.447+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"166ed4f3-5e97-4d4a-abb0-0755b9080830","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.451+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@74549881
2025-07-31T11:10:15.453+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@44724b21
2025-07-31T11:10:15.454+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.455+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"aa61ace0-9a91-4288-9629-83aa0c857752","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.458+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@607c8f19
2025-07-31T11:10:15.460+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4cb422f0
2025-07-31T11:10:15.461+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.462+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a7ed434d-6eb4-482d-a355-22889aff6c38","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.466+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1cf42b77
2025-07-31T11:10:15.467+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4a89508b
2025-07-31T11:10:15.468+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.468+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ae4ba6e3-9075-4da7-9e62-df04b32d5546","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.472+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4e090a84
2025-07-31T11:10:15.474+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@23470217
2025-07-31T11:10:15.475+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:15.476+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"fdfa191b-89f1-4208-9379-ffe1d87977fc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.480+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1ed52a9b
2025-07-31T11:10:15.481+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T11:10:15.482+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T11:10:15.482+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"ecb3ca0f-0153-4ee0-8aa2-e1685cc5c785","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:15.486+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T11:10:15.487+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T11:10:15.488+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4037ea15-a31c-4ae5-94f0-20bff6b67e46","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T11:10:18.355+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.356+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e82e1a26-1e75-4fd3-aa81-10764d1a86cd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.362+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T11:10:18.363+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"6518e248-af1d-4940-b36d-64c01bc7b9ca","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:10:18.367+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@55e550da
2025-07-31T11:10:18.369+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.369+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1ef38d40-1e5c-48fa-b2cc-be66bfabaaba","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.373+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@36493e6a
2025-07-31T11:10:18.374+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4d5f8f41
2025-07-31T11:10:18.375+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.376+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"eb1972da-1768-4f4a-86e9-501af5852ec0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.379+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@738994d4
2025-07-31T11:10:18.380+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@c1579ff
2025-07-31T11:10:18.381+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.382+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"717fd30b-c4f3-40f3-857a-b22b6eaff1bf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.385+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7350bc79
2025-07-31T11:10:18.387+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@42c410d5
2025-07-31T11:10:18.388+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.389+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4f522e79-f329-45a6-861c-426dd3d04241","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.393+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7dd4136d
2025-07-31T11:10:18.394+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5a2957a9
2025-07-31T11:10:18.396+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.396+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2426705e-873a-403b-a6d9-cea7b8cfe06b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.400+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2c6c8be1
2025-07-31T11:10:18.401+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4ecc7401
2025-07-31T11:10:18.402+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.402+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"407ae55f-a861-4c63-9738-9283d8b31c63","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.406+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@13de59ce
2025-07-31T11:10:18.408+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3dac003
2025-07-31T11:10:18.409+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.409+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c4ecb59c-0b49-4927-8fc4-0dc37fc3fb9c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.413+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4ba1701a
2025-07-31T11:10:18.414+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@66606913
2025-07-31T11:10:18.416+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.416+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ab7c570b-151b-4b85-bd75-0f6df63ab5a9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.420+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7114c38
2025-07-31T11:10:18.421+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@521e5e01
2025-07-31T11:10:18.423+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.423+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"68144422-b6a2-45a2-8845-76ccedc03e0b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.426+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@127fd5f8
2025-07-31T11:10:18.428+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@77b20e55
2025-07-31T11:10:18.429+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.429+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a3dee96e-9914-4001-a7d9-76efdb47f9b7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.433+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7acfec17
2025-07-31T11:10:18.434+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5a814b19
2025-07-31T11:10:18.436+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.436+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0c282a5c-44b6-4367-802b-ba6fc0625474","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.440+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@36bd85a4
2025-07-31T11:10:18.442+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@511af580
2025-07-31T11:10:18.443+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.443+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"259cae28-5871-48bc-90d1-f844281a05d0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.446+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@543014e0
2025-07-31T11:10:18.448+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b944fc
2025-07-31T11:10:18.449+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:18.450+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"fc64f2e2-b429-4fd4-a1fc-863cd2dbfda8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.453+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5e73716a
2025-07-31T11:10:18.454+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T11:10:18.455+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T11:10:18.456+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8f8d876c-e9ef-4ede-83ca-e44968c47712","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:18.460+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T11:10:18.461+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T11:10:18.461+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"9cf8f027-a793-4821-a377-9be1dfa55282","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T11:10:19.016+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.017+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cdaf87c5-b703-4461-b96e-e61435759f45","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.022+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T11:10:19.023+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a69ab8fe-aafd-4942-90e9-fe83dffcac25","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:10:19.027+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4e544e39
2025-07-31T11:10:19.028+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.029+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e9ae7456-04ea-4769-91ae-8c7305ee0a13","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.032+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@47e536a7
2025-07-31T11:10:19.033+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@44996030
2025-07-31T11:10:19.035+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.035+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f015973f-0ec7-4980-93b9-9ca29fc2a8a9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.039+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5a3b6aef
2025-07-31T11:10:19.040+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3672d217
2025-07-31T11:10:19.042+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.042+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"64e4d52b-c72b-4f34-ab29-9f0be8fdb161","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.046+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@58cc9a70
2025-07-31T11:10:19.047+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@57dbe9b9
2025-07-31T11:10:19.048+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.049+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a4dbcc19-eddc-426c-ba48-07e7f540c0cf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.052+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@56b68dbf
2025-07-31T11:10:19.053+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@76741f14
2025-07-31T11:10:19.054+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.055+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c35e37ae-ce26-474b-afb5-b76a5e98b707","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.058+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4a5704b0
2025-07-31T11:10:19.060+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@42c9aa62
2025-07-31T11:10:19.061+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.062+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2d69ade5-6033-4022-8020-445d643d9ea6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.065+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@20701cf1
2025-07-31T11:10:19.066+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@76aa3b54
2025-07-31T11:10:19.068+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.068+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"534639b8-f454-4794-aa0c-eb584a5cff60","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.072+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4aad3b5
2025-07-31T11:10:19.073+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@bbfe3f8
2025-07-31T11:10:19.075+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.076+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a0c6f63d-705f-4cc5-8906-a4c35fe2af07","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.079+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2b08e1ea
2025-07-31T11:10:19.080+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@cdf0f44
2025-07-31T11:10:19.081+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.082+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d566da7a-6ef9-4ef1-9189-2fb9e3d9e8c0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.086+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5e3a5211
2025-07-31T11:10:19.088+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2a6eda0d
2025-07-31T11:10:19.089+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.090+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"aa25f53c-e415-4b5e-9942-3e05d6dcdf10","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.093+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4605791b
2025-07-31T11:10:19.096+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@32d4ebb0
2025-07-31T11:10:19.097+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.098+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c42bb4a4-f409-46c7-b553-f9414d1cdee3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.102+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3ef28d21
2025-07-31T11:10:19.103+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@62908640
2025-07-31T11:10:19.105+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.105+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5baf0350-16c3-44ec-86d8-eac51774a32f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.109+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@fb0f6a8
2025-07-31T11:10:19.110+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1a2c1585
2025-07-31T11:10:19.112+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.113+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"94d34641-5263-4464-bf19-00fdcd40e4c6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.117+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@301d0864
2025-07-31T11:10:19.118+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T11:10:19.120+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T11:10:19.120+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"426a63ab-749e-405d-b8b0-4daf62cc6358","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.125+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T11:10:19.126+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T11:10:19.127+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"c9c748da-e8d9-4d12-b937-a2e06022eee8","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T11:10:19.235+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.235+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ff2be21e-69ec-45cf-9d45-8b068008ac77","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.242+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T11:10:19.243+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"f684dc4d-fb7a-4e78-9258-deb1f18370c2","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:10:19.250+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@16f5d6b3
2025-07-31T11:10:19.253+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.254+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ec0d4cdf-17b5-4bfc-aef7-4411d61da3fc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.259+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@373d5449
2025-07-31T11:10:19.260+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3691ad18
2025-07-31T11:10:19.263+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.264+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b8b29bca-5bd5-461e-9460-9182f138af96","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.269+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2be2da1
2025-07-31T11:10:19.271+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5f7cbea3
2025-07-31T11:10:19.272+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.273+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a394dc94-b1a9-4686-9add-555c3cdd25a4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.278+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@643e3139
2025-07-31T11:10:19.280+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6fd34fae
2025-07-31T11:10:19.282+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.282+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7db9866f-79e0-4529-9a4d-04f243937424","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.287+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1c73a4d0
2025-07-31T11:10:19.289+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@26c0985b
2025-07-31T11:10:19.291+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.292+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6a300149-4e1d-46f3-a902-604332773e80","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.297+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@33e2c243
2025-07-31T11:10:19.298+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@463955ae
2025-07-31T11:10:19.300+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.300+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"931ab9fc-4258-460f-8883-af8834280fce","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.305+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@476d2c9d
2025-07-31T11:10:19.307+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@65cd666b
2025-07-31T11:10:19.308+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.309+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"dc37f55e-2f21-475d-b4b2-9cd8bbbe04f1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.314+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4018504b
2025-07-31T11:10:19.315+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4c00f9c3
2025-07-31T11:10:19.317+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.317+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2c1d67bc-bd69-49e1-a7f1-79b9734f097b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.322+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@62273d1a
2025-07-31T11:10:19.324+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6c57f10b
2025-07-31T11:10:19.325+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.326+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d7613538-0ef7-4fe2-8980-523ca8a2b64a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.331+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6ecf7ec2
2025-07-31T11:10:19.332+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@254a4c39
2025-07-31T11:10:19.333+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.334+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5d621a0e-382c-4bd5-add3-917fb06c8d56","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.339+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7ede7a67
2025-07-31T11:10:19.340+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2d52131e
2025-07-31T11:10:19.342+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.342+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"afc8c160-a0cf-42ce-93e5-b38de1d8febd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.347+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@38fe5118
2025-07-31T11:10:19.348+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4f22f9ba
2025-07-31T11:10:19.350+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.350+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ea858660-dd67-42c7-9c5a-116d783ff2f6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.355+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4222af7b
2025-07-31T11:10:19.356+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7fd59ec2
2025-07-31T11:10:19.358+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:19.358+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f8a8ea87-8d8c-4780-9cab-d9b9a6a4d80d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.363+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@356966b1
2025-07-31T11:10:19.365+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T11:10:19.366+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T11:10:19.366+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3a97a386-3dc3-47b2-9af5-e3b20aa21250","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:19.371+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T11:10:19.372+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T11:10:19.373+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"d2c995cb-f72a-41a2-85b7-f7212d6357bb","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T11:10:47.360+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T11:10:47.360+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["sam0219mm@ecom.com"],"client_context_id":"aec44b80-5dfc-4a68-a246-b4bb57f60b9f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:47.440+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:47.441+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"adb2750d-a928-48e3-80d2-c1bc35bc8763","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:47.446+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7335408f
2025-07-31T11:10:47.666+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@8c52e10
2025-07-31T11:10:47.668+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:47.668+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"78c5c20d-55a7-4427-a601-5b952b9efbb3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:47.674+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@454bdbcc
2025-07-31T11:10:47.676+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:47.677+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ba6aa168-ca3d-436c-8180-792325e1a63e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:47.684+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T11:10:47.684+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"b222fced-79d1-4894-8a54-c021a65f5d98","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:10:47.694+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T11:10:47.695+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"f771215d-2d50-4f43-ad45-8af0a4d3cadf","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:10:47.710+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@a4dd61f
2025-07-31T11:10:47.712+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:47.713+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ca74d418-05bf-42b9-95e1-ef3e4125ec99","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:47.718+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7f3b0b68
2025-07-31T11:10:47.719+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:47.720+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3083f6a8-77ae-4423-9c86-374884d73f90","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:47.726+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T11:10:47.727+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"e488442f-0f7c-4943-816e-16d131c20a76","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:10:47.735+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T11:10:47.735+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"f3ad1ed3-7a31-4fcb-9132-ee9620bc68d8","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:10:49.760+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1e583cc2
2025-07-31T11:10:49.760+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.761+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3d568783-1458-4bc4-a196-a67e626f9eb3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.762+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.763+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b29ba4f7-88e3-48e9-91a8-1a003e2c9634","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.768+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3cfa60a
2025-07-31T11:10:49.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3479c51a
2025-07-31T11:10:49.773+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T11:10:49.774+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b0b75fb4-8fba-42ca-882f-57f5e1443c7f","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:10:49.775+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.776+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4dd66efb-2cbf-4990-85eb-64bd1e74702f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.781+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@c80b13d
2025-07-31T11:10:49.782+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b18417b
2025-07-31T11:10:49.783+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.784+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b193dabc-aab4-430f-9d1e-f73fdb19e48b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.784+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@695c7acf
2025-07-31T11:10:49.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.787+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"366d5d6c-52fd-4c74-a567-cb12210b8f95","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.790+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@42d09af5
2025-07-31T11:10:49.792+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7ed4be4
2025-07-31T11:10:49.793+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@175d7e18
2025-07-31T11:10:49.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.795+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8c360993-f762-41c3-99e4-e4a161f655a3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.801+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6d5ea68f
2025-07-31T11:10:49.802+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@46a1e779
2025-07-31T11:10:49.802+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.803+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bd71cad2-b07d-47e1-a233-00c2fb5e3a16","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.804+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4f21afc9
2025-07-31T11:10:49.806+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.806+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9ebe58d8-5f65-46c6-a6b2-61df8ffdc9ac","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.808+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3ad09528
2025-07-31T11:10:49.809+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@69a03f3e
2025-07-31T11:10:49.810+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@9e093ea
2025-07-31T11:10:49.811+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.811+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"60f21d08-7cd9-4fb7-948b-a796fd7b0544","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.811+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@64bf5b59
2025-07-31T11:10:49.813+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.813+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"fd91b1a7-f1f3-4208-a31f-330be063a1ee","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.816+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@17828055
2025-07-31T11:10:49.817+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@ff036f4
2025-07-31T11:10:49.818+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2dece298
2025-07-31T11:10:49.819+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.819+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6ff14f0b
2025-07-31T11:10:49.819+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"16fb02b6-e300-4d19-89f3-b8d10e26f12d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.821+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.821+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a3d54e31-4565-4ba9-b0ff-d92be9cd3e8e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.824+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@31379bf7
2025-07-31T11:10:49.824+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6203eedc
2025-07-31T11:10:49.826+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7cf81456
2025-07-31T11:10:49.827+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.828+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"12bd13a0-5f2e-4c09-9349-899600bfb608","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.832+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@36cad173
2025-07-31T11:10:49.834+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@532649b6
2025-07-31T11:10:49.836+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.836+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f02fd9b5-426e-45fb-9720-22efbeb302ae","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.841+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2e2e3800
2025-07-31T11:10:49.842+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1248c337
2025-07-31T11:10:49.843+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.844+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d12ac331-0067-49f3-b2a4-72ad82f8c949","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.848+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7269c944
2025-07-31T11:10:49.850+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@13635546
2025-07-31T11:10:49.851+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.852+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"96e4793f-fa02-454a-bbd3-068a2c9c4eba","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.856+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4cd28112
2025-07-31T11:10:49.858+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@18d7a2c4
2025-07-31T11:10:49.859+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.860+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3c79ec95-e25a-49ac-ba21-725b9c45fc2b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.865+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@24c86b73
2025-07-31T11:10:49.866+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2d08c3c9
2025-07-31T11:10:49.868+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.868+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8cf0cb2b-40e5-4c66-a8d6-b47321b3ac1c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.873+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@750a0d6b
2025-07-31T11:10:49.874+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@506e508c
2025-07-31T11:10:49.876+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.876+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"51eece31-0770-4a4f-8324-9fca4b8b4598","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.881+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@379a3a01
2025-07-31T11:10:49.883+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5ce7a1b0
2025-07-31T11:10:49.885+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.885+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e7e33018-494b-485d-9a6d-644903c5ac5b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.889+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@79239e12
2025-07-31T11:10:49.890+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T11:10:49.892+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T11:10:49.892+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"1cb4d6a5-3ef4-463a-a079-af22ff071669","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.897+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T11:10:49.898+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T11:10:49.899+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"95fcc8d6-3e4a-49a0-a4f6-ae2039cb7292","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T11:10:49.908+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.908+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"460ba9cc-de9b-42fe-a4eb-1967b2733783","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T11:10:49.914+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4c6b46f3-014d-443e-bdbb-c013364739eb","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:10:49.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@40b498ea
2025-07-31T11:10:49.921+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.922+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"140f38a9-9a99-4e2e-b643-42105252e85e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.926+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@26d974c
2025-07-31T11:10:49.928+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@414d6d25
2025-07-31T11:10:49.929+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.930+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f4dec40e-7b38-4741-afcf-28fa9aab18c0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.934+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@686a0e2e
2025-07-31T11:10:49.935+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@cfdb801
2025-07-31T11:10:49.937+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.937+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cc83791b-c1f3-493a-a2d3-c1a44dd9c6bb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.941+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@62c48925
2025-07-31T11:10:49.943+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@48cae41d
2025-07-31T11:10:49.945+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.945+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"33694c8d-edc6-441d-8376-4b2f5a815bd4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.950+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@70e98854
2025-07-31T11:10:49.952+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@11b50bf8
2025-07-31T11:10:49.954+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.954+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c88e627e-1065-4a0f-b8f4-7ad6450ebd9e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.959+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@577e254a
2025-07-31T11:10:49.960+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@488bc9b4
2025-07-31T11:10:49.962+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.962+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c4b89234-013d-49a2-8439-8070f6fdb5de","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.966+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@741c43d9
2025-07-31T11:10:49.967+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4d4f6c69
2025-07-31T11:10:49.968+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.969+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7b4da7d9-0e2d-4097-8119-693387deb33c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.973+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6bbd54ff
2025-07-31T11:10:49.974+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7d6df655
2025-07-31T11:10:49.975+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.976+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e5ab7e36-db72-41d6-a195-a0d2f0d6b37a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.979+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6bf970aa
2025-07-31T11:10:49.981+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5d636598
2025-07-31T11:10:49.982+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.982+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ac9481fe-e0a8-4e04-8ff7-7815302149da","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.986+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5cf8d867
2025-07-31T11:10:49.988+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4e3542f3
2025-07-31T11:10:49.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.989+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7f2991f9-6c3f-4299-80c3-df0640b49867","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:49.994+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6e6907bf
2025-07-31T11:10:49.995+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2860f04f
2025-07-31T11:10:49.996+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:49.997+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"dabba36b-6275-4a30-82af-7a930dc77aeb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:50.001+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@32413ec4
2025-07-31T11:10:50.002+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5607d0a5
2025-07-31T11:10:50.004+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:50.004+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b8a55b3c-695a-4cb2-b814-0f8437357af0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:50.008+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@70f56125
2025-07-31T11:10:50.009+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5fb805fc
2025-07-31T11:10:50.010+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:50.011+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"00d1c9a9-b103-402f-9088-32568c16dbd3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:50.015+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@64b4b7d1
2025-07-31T11:10:50.016+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T11:10:50.017+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T11:10:50.017+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8d170585-cdae-4ab2-a714-02b103ea5dc8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:50.022+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T11:10:50.023+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T11:10:50.023+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4b6e2514-af4a-47f3-9dd2-e44be02ba15c","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T11:10:55.673+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@18a7154a
2025-07-31T11:10:55.673+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6d7628fc
2025-07-31T11:10:55.673+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@a377998
2025-07-31T11:10:55.675+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:55.675+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:55.675+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:55.676+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5c1d8cd0-d102-4411-90ca-eaaa7350479e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:55.676+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8d1acf36-b282-4893-8cd2-929dd0d60f9c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:55.676+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e39c5c4a-ad7e-4a0e-91a1-052ddf8cdc2a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:55.681+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4419e9d
2025-07-31T11:10:55.681+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@62432636
2025-07-31T11:10:55.681+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4ecc3fe4
2025-07-31T11:10:55.682+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1b168e49
2025-07-31T11:10:55.683+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4584115d
2025-07-31T11:10:55.683+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@321d359b
2025-07-31T11:10:55.684+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:55.684+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:55.684+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:10:55.684+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a039ebea-40a5-4a0c-af07-c605a3d1101b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:55.684+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0b19352b-ccbf-45b3-a55f-d474bc6ea524","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:55.685+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"457ad36e-c0d7-4818-b4b1-67d45160502d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:10:55.688+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2adccf0a
2025-07-31T11:10:55.688+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@65a951e2
2025-07-31T11:10:55.689+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6e70daec
2025-07-31T11:11:26.409+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1f9c7e49
2025-07-31T11:11:26.409+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@bdd9195
2025-07-31T11:11:26.409+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@cdec11a
2025-07-31T11:11:26.411+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:11:26.412+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:11:26.412+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a8f0ce60-9db1-407d-98ce-afab43ee1453","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:11:26.411+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:11:26.412+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"292aed47-affc-4470-88bb-d8d261a94c7f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:11:26.412+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"476223f2-c875-4321-839e-123c7d36a380","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:11:26.418+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@48711d0b
2025-07-31T11:11:26.418+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@680c700a
2025-07-31T11:11:26.418+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@37658ebc
2025-07-31T11:11:26.419+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@9ba21eb
2025-07-31T11:11:26.419+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@766f7fd
2025-07-31T11:11:26.419+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@41ddefd3
2025-07-31T11:11:26.420+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:11:26.421+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:11:26.421+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c9610c21-7461-4d21-8fd0-293c6dac49bf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:11:26.422+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"44fd2e1a-3def-45e8-a339-d63efa707034","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:11:26.422+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:11:26.423+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ea7d9769-ca5c-4512-a171-5b6165939e12","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:11:26.425+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7316f7d7
2025-07-31T11:11:26.426+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@266b8f44
2025-07-31T11:11:26.426+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7bf4af6e
2025-07-31T11:12:11.332+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":197,"percentiles_us":{"50.0":3358.719,"90.0":5373.951,"99.0":10878.975,"99.9":36438.015,"100.0":36438.015}}},"kv":{"get":{"total_count":452,"percentiles_us":{"50.0":372.735,"90.0":610.303,"99.0":864.255,"99.9":16908.287,"100.0":16908.287}}}},"meta":{"emit_interval_s":600}}
2025-07-31T11:14:52.955+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@56d93aa1
2025-07-31T11:14:52.959+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:14:52.960+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c70e9808-4ebc-48e7-a46f-77f6d852479d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:14:52.966+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@24ae2516
2025-07-31T11:15:30.441+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.442+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1e5cf76b-9932-4ffd-bb66-bbc83353c730","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.451+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T11:15:30.451+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"68be4f8f-930b-4a46-9077-f1e88b0568e1","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T11:15:30.458+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5a85a87d
2025-07-31T11:15:30.460+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.460+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"688f9cac-b678-42f4-81ef-33975ef708e2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.465+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@544c624f
2025-07-31T11:15:30.466+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@59a9a312
2025-07-31T11:15:30.468+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.469+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5213b602-4636-4731-bb03-83e2a40aadb4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.475+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@309f6c1c
2025-07-31T11:15:30.477+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@47aefc32
2025-07-31T11:15:30.479+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.479+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5b1ceaba-5f1c-454e-9839-a5200c839a14","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.483+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@70c7b092
2025-07-31T11:15:30.485+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@64623cab
2025-07-31T11:15:30.486+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.487+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7707f28d-6393-4aff-b660-b404992081c1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.491+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2fd643b7
2025-07-31T11:15:30.492+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1fa96513
2025-07-31T11:15:30.494+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.494+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"afad43d7-a833-4adc-82f9-172d3e8020f9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.499+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@52a70554
2025-07-31T11:15:30.500+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2755eccf
2025-07-31T11:15:30.501+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.502+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e6d4f74c-67d4-422a-ab28-5e8dd5dc07ea","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.506+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3a03d869
2025-07-31T11:15:30.507+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6ed6b3c7
2025-07-31T11:15:30.508+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.508+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a374815a-d554-4b44-84f3-487c89734d10","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.512+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@43186ec
2025-07-31T11:15:30.513+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@c8a3131
2025-07-31T11:15:30.515+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.515+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1e45c09a-ece3-440a-b63b-55272d677041","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.520+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@28ee6059
2025-07-31T11:15:30.522+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@73fdb608
2025-07-31T11:15:30.524+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.524+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8714ba3c-c1e9-4f46-8b8a-4ef025fdb6b2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.528+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7bf3487d
2025-07-31T11:15:30.529+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@26aded8b
2025-07-31T11:15:30.530+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.531+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c6495896-37c5-446a-a3fd-fffefaba270f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.536+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7d9abdaf
2025-07-31T11:15:30.538+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@63c909e2
2025-07-31T11:15:30.539+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.540+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"66011e7d-3e75-4a18-a780-aca59d86280d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.544+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2181546
2025-07-31T11:15:30.546+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b10613b
2025-07-31T11:15:30.550+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.551+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"327d7a0b-886a-42c4-8cba-609c3cc9ff43","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.558+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@63cfca33
2025-07-31T11:15:30.562+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@486259b1
2025-07-31T11:15:30.566+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:15:30.567+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ab50854c-f7e5-4c10-adb3-52dce3f8f49e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.572+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@a12c7de
2025-07-31T11:15:30.574+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T11:15:30.576+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T11:15:30.577+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"537549c7-ba93-435d-a79a-3c047acc4101","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:15:30.583+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T11:15:30.584+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T11:15:30.585+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"f3c3af46-c8da-4ac7-88d1-41ba9e0bb5d8","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T11:22:09.084+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":18,"percentiles_us":{"50.0":3325.951,"90.0":5701.631,"99.0":6717.439,"99.9":6717.439,"100.0":6717.439}}},"kv":{"get":{"total_count":28,"percentiles_us":{"50.0":411.647,"90.0":692.223,"99.0":815.103,"99.9":815.103,"100.0":815.103}}}},"meta":{"emit_interval_s":600}}
2025-07-31T11:45:32.827+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5beb5b8a
2025-07-31T11:45:32.834+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:45:32.836+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"db98beef-75c8-4225-b290-c69a431075c6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:45:32.856+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5cccf4fd
2025-07-31T11:52:02.319+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":1,"percentiles_us":{"50.0":18350.079,"90.0":18350.079,"99.0":18350.079,"99.9":18350.079,"100.0":18350.079}}},"kv":{"get":{"total_count":2,"percentiles_us":{"50.0":794.623,"90.0":1187.839,"99.0":1187.839,"99.9":1187.839,"100.0":1187.839}}}},"meta":{"emit_interval_s":600}}
2025-07-31T11:54:18.588+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@744a832d
2025-07-31T11:54:18.591+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:54:18.592+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6bdac707-14bf-47c0-87c6-c97995085861","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:54:18.605+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4fa4f885
2025-07-31T11:54:18.611+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T11:54:18.612+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"c6d36ec9-d56d-4a64-9250-98c1a5155ad0","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:54:44.883+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5e879891
2025-07-31T11:54:44.886+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:54:44.887+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"aa168c08-f1b2-4587-b83c-bf627e5b9e44","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:54:44.895+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b012196
2025-07-31T11:54:44.897+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T11:54:44.897+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3c31ca05-2a3b-4837-af0e-601401f6e613","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:54:56.616+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7e67ab85
2025-07-31T11:54:56.617+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:54:56.619+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4579f901-2674-472b-a1d7-59e75384635d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:54:56.628+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2dfb0ab
2025-07-31T11:54:56.630+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@620a26c3
2025-07-31T11:54:56.632+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T11:54:56.632+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"552eb165-0d90-4495-be40-8e6eb5cafe75","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T11:54:56.639+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@21729284
2025-07-31T12:01:59.966+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":6,"percentiles_us":{"50.0":6717.439,"90.0":10289.151,"99.0":10289.151,"99.9":10289.151,"100.0":10289.151}}},"kv":{"get":{"total_count":8,"percentiles_us":{"50.0":532.479,"90.0":794.623,"99.0":794.623,"99.9":794.623,"100.0":794.623}}}},"meta":{"emit_interval_s":600}}
2025-07-31T13:06:53.847+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T13:06:53.853+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["sam0219mm@ecom.com"],"client_context_id":"d538f127-bc30-4eac-aa83-fa958da195b0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:06:54.020+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:06:54.021+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bcb19fc7-af4e-48f5-b6be-4f10e1ef9773","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:06:54.029+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4fa9a6e
2025-07-31T13:08:29.480+08:00  WARN 7736 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.auth.filter.JwtFilter            : JWT authentication failed: Invalid JWT token
2025-07-31T13:08:29.480+08:00  WARN 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.auth.filter.JwtFilter            : JWT authentication failed: Invalid JWT token
2025-07-31T13:08:29.480+08:00  WARN 7736 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.auth.filter.JwtFilter            : JWT authentication failed: Invalid JWT token
2025-07-31T13:08:31.465+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T13:08:31.466+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["sam0219mm@ecom.com"],"client_context_id":"f85621ff-22c3-492e-be50-ff7e858e62a9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:31.548+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:31.548+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"03b6ca20-e349-4fc3-94bd-48f7c32b2014","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:31.553+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@381a0c13
2025-07-31T13:08:31.766+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7a73d1fa
2025-07-31T13:08:31.768+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:31.769+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b8dad531-d638-481d-b99d-7da0754e7c87","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:31.775+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@136e1f9d
2025-07-31T13:08:31.777+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:31.777+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"49118937-46a5-4ff1-8d55-de29e3c8602e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:31.795+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T13:08:31.797+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"ee47e4f3-637f-4623-878c-65fe9df3f5f6","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:08:31.809+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T13:08:31.810+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"778b52c2-d8b7-48fe-b42d-b220932029a3","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:08:31.827+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@49129b1e
2025-07-31T13:08:31.829+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:31.830+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f0cfa29d-5888-42a9-bba9-d2ae9064477d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:31.836+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@739d6c1d
2025-07-31T13:08:31.838+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:31.838+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f049743e-95c0-41c6-87d1-44143d557289","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:31.845+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T13:08:31.846+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"06676dc8-0eb0-44c3-989d-0908234ec01e","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:08:31.856+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T13:08:31.857+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"bce8f0f0-daff-4ba4-8d60-969717b70169","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:08:34.505+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@39fa2278
2025-07-31T13:08:34.505+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.506+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0691d8af-21d7-42c9-8648-a9ccecf76c78","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.507+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.510+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"dc765d90-6172-4f74-9e4f-e9042fc15b39","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.517+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3cc99713
2025-07-31T13:08:34.518+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T13:08:34.520+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a6df3cfd-6311-4256-b0df-04e81f18e1c7","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:08:34.521+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@799e76b
2025-07-31T13:08:34.524+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.525+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2cb9b6dc-74de-4b93-bc23-4e9673a4529d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.530+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3ddeff73
2025-07-31T13:08:34.535+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6f18ec02
2025-07-31T13:08:34.538+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.538+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"901ce177-19fc-401d-91c1-a23a4830cb9a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.537+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3742da1e
2025-07-31T13:08:34.541+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.542+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"27ba82a6-5f66-4706-b9b9-a49ebc0f33bd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.545+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@b54fe60
2025-07-31T13:08:34.548+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1eda1f16
2025-07-31T13:08:34.549+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4743a2ea
2025-07-31T13:08:34.550+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.551+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3b410fd4-de46-4055-8890-66f5120e7e2a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.558+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@11ea821d
2025-07-31T13:08:34.558+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@78d8344
2025-07-31T13:08:34.560+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.560+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4de2d1a1
2025-07-31T13:08:34.560+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"23548071-97a4-4934-9f38-b760d9539512","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.562+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.563+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"67bd45c9-0126-4164-9ce9-d171f7fa6ef6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.566+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@734bd3a1
2025-07-31T13:08:34.568+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5189483e
2025-07-31T13:08:34.569+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@61e99183
2025-07-31T13:08:34.570+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.570+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2f851007
2025-07-31T13:08:34.571+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e0034935-b2f6-4506-ab73-fb9fe35088bb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.572+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.573+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"04bd6929-8f51-4eba-b60f-25d6a39cb244","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.576+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3366ce08
2025-07-31T13:08:34.577+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@76d95813
2025-07-31T13:08:34.578+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@44f92110
2025-07-31T13:08:34.579+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.579+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"446577fc-e2a2-4ed7-b4b0-7ee7b187c8ae","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.579+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1f4d8ff7
2025-07-31T13:08:34.581+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.581+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5d06003e-fcdc-423e-85a0-370315ceb9df","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.583+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5ba25bb2
2025-07-31T13:08:34.586+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@32056014
2025-07-31T13:08:34.587+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@35074b7b
2025-07-31T13:08:34.589+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.590+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f3a1a36c-f88d-470f-9fd3-4ab2debcabf5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.594+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@38fb1d6a
2025-07-31T13:08:34.596+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4bba1fb5
2025-07-31T13:08:34.597+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.598+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"549a1dde-03c3-4499-9e17-1f1df8f4e990","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.603+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@52a6d316
2025-07-31T13:08:34.605+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5df516aa
2025-07-31T13:08:34.607+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.608+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f4674f29-c4be-4c3e-b773-9edf982d0fd9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.613+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3d054033
2025-07-31T13:08:34.614+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@26d9a791
2025-07-31T13:08:34.616+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.616+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d0e64a6c-b696-4d99-aeb0-8b5560ff41e8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.622+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4283fe3f
2025-07-31T13:08:34.623+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3736f083
2025-07-31T13:08:34.624+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.625+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cd0b0cc0-c7d8-41f4-912a-68349cb486b6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.630+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@20a53a8e
2025-07-31T13:08:34.631+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4babf424
2025-07-31T13:08:34.632+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.633+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a13b3e6b-0487-4802-8016-b0760aead88a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.637+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@16849968
2025-07-31T13:08:34.639+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1636d1d3
2025-07-31T13:08:34.641+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.641+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"96b7f4ab-b666-497c-9ccf-3b0c33f5539d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.646+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1f4ef8d1
2025-07-31T13:08:34.648+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@bd035c8
2025-07-31T13:08:34.649+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.650+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"85af2c28-723a-402a-801c-f29b0367e4da","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.655+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@392da203
2025-07-31T13:08:34.657+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T13:08:34.659+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T13:08:34.659+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a01a7868-0151-439d-b654-88e1a5d05ddd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.665+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-5] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T13:08:34.667+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T13:08:34.668+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"5c76c970-d94f-4ba5-8847-772ff097e4cd","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T13:08:34.681+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.682+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2be17ac1-ba5c-4208-8831-60206474d5d5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.687+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T13:08:34.688+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"6abbe5ad-0a6d-4ba8-83ea-09606ad078e6","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:08:34.693+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4639bbe6
2025-07-31T13:08:34.695+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.696+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"387f9512-e971-4988-8aa7-ded4429a25ec","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.701+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@968f76e
2025-07-31T13:08:34.703+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2af6ec06
2025-07-31T13:08:34.705+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.705+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"19f02930-4b09-4663-9048-bab30e84bca5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.710+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@278190f0
2025-07-31T13:08:34.711+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2c6cf96d
2025-07-31T13:08:34.713+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.713+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6e579084-de80-46f2-be80-109513a73072","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.718+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@62f1a809
2025-07-31T13:08:34.719+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7ffaee8d
2025-07-31T13:08:34.720+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.721+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"125bf336-d1fb-4c0c-b451-027b56e95971","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.726+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@54d7e792
2025-07-31T13:08:34.727+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1f3bcbf4
2025-07-31T13:08:34.728+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.729+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d6b93112-717e-44e3-8634-288448b0ba8c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.734+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@706589fa
2025-07-31T13:08:34.736+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@58c38ffd
2025-07-31T13:08:34.737+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.738+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"176e324c-d16d-4b7d-bb6e-5636bc0b27a6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.743+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@33431800
2025-07-31T13:08:34.744+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@726611f7
2025-07-31T13:08:34.746+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.746+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7e537962-a8ce-4636-9821-43013a6b58fa","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.751+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2e106c18
2025-07-31T13:08:34.753+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6ae8b240
2025-07-31T13:08:34.754+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.755+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c73c22b3-f3ce-4bb4-8a01-17c0de5a034d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.759+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@41402405
2025-07-31T13:08:34.761+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3eb6c73
2025-07-31T13:08:34.762+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.762+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"95b9b334-a752-4e34-ba84-73139d65d1bd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.767+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2e36b0ba
2025-07-31T13:08:34.769+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1636d8e
2025-07-31T13:08:34.770+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.770+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c3171e21-45a6-4682-8e21-1152fdeec334","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.775+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@414311ab
2025-07-31T13:08:34.777+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@19937504
2025-07-31T13:08:34.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.778+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"05e9efec-25a2-4239-ab0a-c462b721dbcb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.783+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@23bb5ec
2025-07-31T13:08:34.785+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@18aeb738
2025-07-31T13:08:34.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.787+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6df3ee00-9d01-4983-ae46-a2d44f8a63e5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.792+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@41b933cf
2025-07-31T13:08:34.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@438045a9
2025-07-31T13:08:34.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4243761e
2025-07-31T13:08:34.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4a408b19
2025-07-31T13:08:34.796+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3a7e89a8
2025-07-31T13:08:34.797+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c49951ef-3f33-40f6-a611-e7bee946598a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.798+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.799+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.799+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:08:34.799+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"55662bbd-08c0-47f1-8745-6cfd2bc027c5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.800+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c87211fe-ef39-4db1-a4c9-2d6b57890238","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.800+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7b8e739a-1ef9-4e8d-8f8a-2f1549ac4532","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.804+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1c4b1ce0
2025-07-31T13:08:34.807+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5fc0a237
2025-07-31T13:08:34.807+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T13:08:34.809+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T13:08:34.809+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T13:08:34.810+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"35af1b04-7d33-417b-b030-2bc7ec223b8c","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.810+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"28de578d-c86d-46c5-8005-da8a5c497ec8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.812+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3e813a57
2025-07-31T13:08:34.812+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@75bd001
2025-07-31T13:08:34.815+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5cc0b6ec
2025-07-31T13:08:34.816+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T13:08:34.817+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"d13fd7fe-05a9-42d5-acdb-906b59c5310c","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.817+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T13:08:34.817+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6dacd41a
2025-07-31T13:08:34.818+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4eb26994
2025-07-31T13:08:34.819+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T13:08:34.820+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"0811b90a-9698-40c3-94f4-8c32e5f79dc8","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T13:08:34.959+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T13:08:34.960+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"1117ee01-3aca-481a-9ed7-33d241d06951","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:08:34.967+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T13:08:34.968+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208","4f363b43-acef-4580-b066-77f6ace3f1a8"]],"client_context_id":"85b5275d-c3b0-4fd0-a362-49eddc8747a9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:10:38.917+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@71d5af2b
2025-07-31T13:10:38.919+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:10:38.920+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"80e5abe0-f190-4bfc-b988-3df332dc2477","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:10:38.927+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2fc83271
2025-07-31T13:10:38.928+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:10:38.929+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"729e4c40-253a-4e8a-9dd7-90d9cdd1e4e6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:10:38.934+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T13:10:38.935+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"1c636fbd-65fe-4ca7-95f8-65b9e9580d80","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:10:38.942+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T13:10:38.942+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"3b8444d9-3fe3-4ef2-902a-b920cf9b1a8b","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:10:38.954+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1905cce0
2025-07-31T13:10:38.956+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:10:38.957+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"40b8c82c-ec30-4039-8345-82c60fdf6c5f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:10:38.961+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@402faa58
2025-07-31T13:10:38.965+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:10:38.966+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cd57e40f-a748-4d0b-8914-48bcab6e58ec","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:10:38.971+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T13:10:38.972+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"bc8a9cee-e3d1-418a-ad5d-96cf07a94b60","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:10:38.980+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T13:10:38.981+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"ef0d6027-813d-4ca8-bc99-4431ac269c0a","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:10:47.856+08:00 ERROR 7736 --- [ecom-assistant] [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Team ID is required for GROUP access type datasets] with root cause

java.lang.IllegalArgumentException: Team ID is required for GROUP access type datasets
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.createDataset(DatasetManager.java:115) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.createDataset(DatasetController.java:55) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T13:11:17.505+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=com.ecom.ai.ecomassistant.db.model.Dataset@27d11dd7 scope: AI collection: dataset options: null
2025-07-31T13:11:17.515+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: com.ecom.ai.ecomassistant.db.model.Dataset@27d11dd7
2025-07-31T13:11:17.522+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T13:11:17.539+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@40f13040
2025-07-31T13:11:17.541+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:11:17.541+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"07e67843-f18f-4416-bf53-6a7ab1960ca2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:11:17.548+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@794771b7
2025-07-31T13:11:17.551+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:11:17.551+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"aeef0534-4e89-4d2b-840a-8de1b66069cf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:11:17.556+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T13:11:17.558+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"4e06b538-b827-4a5e-baa0-2423fe08933a","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:11:17.567+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T13:11:17.567+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"0d972417-649d-4629-8d67-afe6b29c14ec","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:11:20.334+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@b1509ed
2025-07-31T13:11:20.338+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T13:11:20.339+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"bdaf1091-6b67-46bb-85a9-110e909532e3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:11:20.372+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=25c8b4ae-9124-4647-98a3-a922cd3cbe04 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@4cef4a55
2025-07-31T13:11:20.374+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T13:11:20.375+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["25c8b4ae-9124-4647-98a3-a922cd3cbe04"],"client_context_id":"87ebaed2-9617-49a9-94ba-4b070d698866","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:11:20.386+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : Checking QA verification permission for user: 8e5a59f8-cef9-435d-9271-4ba92a70906e
2025-07-31T13:11:20.386+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@f29b7d6
2025-07-31T13:11:20.388+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:11:20.389+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cc3b8ea3-d853-49bc-bc1e-f235f7f13b1f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:11:20.394+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@27f922cd
2025-07-31T13:11:20.396+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has roles: [system:USER] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:*]
2025-07-31T13:11:20.396+08:00  INFO 7736 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has QA verification permission: false
2025-07-31T13:11:20.404+08:00  INFO 7736 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.controller.QAController          : Checking QA verification permission for user: 8e5a59f8-cef9-435d-9271-4ba92a70906e
2025-07-31T13:11:20.404+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@507d686b
2025-07-31T13:11:20.406+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:11:20.407+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d2924f62-a252-493b-aee1-7304003284c6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:11:20.413+08:00 DEBUG 7736 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1fc883e2
2025-07-31T13:11:20.415+08:00  INFO 7736 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has roles: [system:USER] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:*]
2025-07-31T13:11:20.415+08:00  INFO 7736 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.controller.QAController          : User 8e5a59f8-cef9-435d-9271-4ba92a70906e has QA verification permission: false
2025-07-31T13:11:23.732+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@30f1dae6
2025-07-31T13:11:23.733+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:11:23.734+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d6e373ba-909d-4649-8441-31a15d2fe5fe","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:11:23.740+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@29ff0419
2025-07-31T13:11:23.742+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:11:23.742+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d71c74a1-2b58-4553-81f2-300f355b09e4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:11:23.747+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T13:11:23.748+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"44943b1d-ef9a-4f00-a318-efd4559f42ae","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:11:23.757+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T13:11:23.757+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"cc6387d0-0d94-4b56-aeff-087f7eff5aff","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:11:23.770+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6c64a151
2025-07-31T13:11:23.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:11:23.772+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"175bdc3c-6b79-40cc-812e-34c7d43e952e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:11:23.777+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4f9d9751
2025-07-31T13:11:23.779+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T13:11:23.779+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d0c1c56b-cc1b-4064-bbcc-b6fbcbd4569e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T13:11:23.785+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T13:11:23.786+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"84549b24-3652-4185-99ce-36cb9f59caa0","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:11:23.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T13:11:23.794+08:00 DEBUG 7736 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"588c7e71-91ec-4a50-b7bb-1a9e295c2cb6","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T13:11:34.303+08:00 ERROR 7736 --- [ecom-assistant] [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Team ID is required for GROUP access type datasets] with root cause

java.lang.IllegalArgumentException: Team ID is required for GROUP access type datasets
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.createDataset(DatasetManager.java:115) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.createDataset(DatasetController.java:55) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T13:11:41.975+08:00  INFO 7736 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":83,"percentiles_us":{"50.0":4718.591,"90.0":7929.855,"99.0":141557.759,"99.9":141557.759,"100.0":141557.759}}},"kv":{"get":{"total_count":95,"percentiles_us":{"50.0":565.247,"90.0":770.047,"99.0":1523.711,"99.9":1523.711,"100.0":1523.711}},"upsert":{"total_count":1,"percentiles_us":{"50.0":3276.799,"90.0":3276.799,"99.0":3276.799,"99.9":3276.799,"100.0":3276.799}}}},"meta":{"emit_interval_s":600}}
2025-07-31T13:12:15.128+08:00 ERROR 7736 --- [ecom-assistant] [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Team ID is required for GROUP access type datasets] with root cause

java.lang.IllegalArgumentException: Team ID is required for GROUP access type datasets
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.createDataset(DatasetManager.java:115) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.createDataset(DatasetController.java:55) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

