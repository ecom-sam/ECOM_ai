[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------< com.ecom.ai:ecom-assistant-api >-------------------
[INFO] Building ecom-assistant-api 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.4.5:run (default-cli) > test-compile @ ecom-assistant-api >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ ecom-assistant-api ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ ecom-assistant-api ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 47 source files with javac [debug parameters release 21] to target/classes
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ ecom-assistant-api ---
[INFO] skip non existing resourceDirectory /mnt/e/work/Couchbase/ecom_ai/ecom-assistant/ecom-assistant-api/src/test/resources
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ ecom-assistant-api ---
[INFO] No sources to compile
[INFO] 
[INFO] <<< spring-boot:3.4.5:run (default-cli) < test-compile @ ecom-assistant-api <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.4.5:run (default-cli) @ ecom-assistant-api ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.5)

2025-07-31T22:15:26.897+08:00  INFO 43661 --- [ecom-assistant] [           main] c.e.a.e.EcomAssistantApplication         : Starting EcomAssistantApplication using Java 21.0.8 with PID 43661 (/mnt/e/work/Couchbase/ecom_ai/ecom-assistant/ecom-assistant-api/target/classes started by sam in /mnt/e/work/Couchbase/ecom_ai/ecom-assistant/ecom-assistant-api)
2025-07-31T22:15:26.903+08:00  INFO 43661 --- [ecom-assistant] [           main] c.e.a.e.EcomAssistantApplication         : No active profile set, falling back to 1 default profile: "default"
2025-07-31T22:15:30.997+08:00  INFO 43661 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Couchbase repositories in DEFAULT mode.
2025-07-31T22:15:31.049+08:00  INFO 43661 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 0 Couchbase repository interfaces.
2025-07-31T22:15:32.712+08:00  INFO 43661 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Couchbase repositories in DEFAULT mode.
2025-07-31T22:15:34.038+08:00  INFO 43661 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1322 ms. Found 0 Couchbase repository interfaces.
2025-07-31T22:15:34.046+08:00  INFO 43661 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Couchbase repositories in DEFAULT mode.
2025-07-31T22:15:34.618+08:00  INFO 43661 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 568 ms. Found 11 Couchbase repository interfaces.
2025-07-31T22:15:35.318+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'shiroConfig' of type [com.ecom.ai.ecomassistant.auth.config.ShiroConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lifecycleBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-07-31T22:15:35.552+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseConfig' of type [com.ecom.ai.ecomassistant.db.config.CouchbaseConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:37.261+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseClusterEnvironment' of type [com.couchbase.client.java.env.ClusterEnvironment] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:37.266+08:00  INFO 43661 --- [ecom-assistant] [           main] c.e.a.e.db.config.CouchbaseConfig        : Connecting to Couchbase cluster at 127.0.0.1
2025-07-31T22:15:37.676+08:00  INFO 43661 --- [ecom-assistant] [oundedElastic-1] c.c.c.c.c.DefaultConfigurationProvider   : Resolved seed nodes: [SeedNode{address='127.0.0.1'}]
2025-07-31T22:15:38.672+08:00  INFO 43661 --- [ecom-assistant] [   cb-io-kv-9-1] c.c.c.c.compression.snappy.SnappyHelper  : Using fast Snappy compression codec because this is little-endian hardware and `sun.misc.Unsafe` is accessible.
2025-07-31T22:15:38.725+08:00  INFO 43661 --- [ecom-assistant] [      cb-events] com.couchbase.core                       : [com.couchbase.core][CoreCreatedEvent] {"clientVersion":"3.7.9","clientGitHash":"b5ce2184","coreVersion":"3.7.9","coreGitHash":"b5ce2184","userAgent":"couchbase-java/3.7.9 (Linux 6.6.87.2-microsoft-standard-WSL2 amd64; OpenJDK 64-Bit Server VM 21.0.8+9-Ubuntu-0ubuntu124.04.1)","maxNumRequestsInRetry":32768,"ioEnvironment":{"nativeIoEnabled":true,"eventLoopThreadCount":8,"eventLoopGroups":["EpollEventLoopGroup"]},"ioConfig":{"captureTraffic":[],"mutationTokensEnabled":true,"networkResolution":"auto","dnsSrvEnabled":true,"tcpKeepAlivesEnabled":true,"tcpKeepAliveTimeMs":60000,"configPollIntervalMs":2500,"kvCircuitBreakerConfig":"disabled","queryCircuitBreakerConfig":"disabled","viewCircuitBreakerConfig":"disabled","searchCircuitBreakerConfig":"disabled","analyticsCircuitBreakerConfig":"disabled","managerCircuitBreakerConfig":"disabled","eventingCircuitBreakerConfig":"disabled","backupCircuitBreakerConfig":"disabled","numKvConnections":1,"maxHttpConnections":12,"idleHttpConnectionTimeoutMs":1000,"configIdleRedialTimeoutMs":300000,"memcachedHashingStrategy":"StandardMemcachedHashingStrategy","timerConfig":{"numTimers":1,"tickDurationMs":10,"numBuckets":512},"lowWaterMark":"32 KiB","highWaterMark":"64 KiB","sendBuffer":null,"receiveBuffer":null},"compressionConfig":{"enabled":true,"minRatio":0.83,"minSize":32},"securityConfig":{"tlsEnabled":false,"nativeTlsEnabled":true,"hostnameVerificationEnabled":true,"trustCertificates":null,"trustManagerFactory":null,"ciphers":[]},"timeoutConfig":{"kvMs":2500,"kvDurableMs":10000,"kvScanMs":75000,"managementMs":75000,"queryMs":75000,"viewMs":75000,"searchMs":75000,"analyticsMs":75000,"connectMs":10000,"disconnectMs":10000,"eventingMs":75000,"backupMs":75000},"loggerConfig":{"diagnosticContextEnabled":false},"orphanReporterConfig":{"emitIntervalMs":10000,"sampleSize":10,"queueLength":1024,"enabled":true},"thresholdLoggingTracerConfig":{"enabled":true,"emitIntervalMs":10000,"sampleSize":10,"queueLength":1024,"kvThresholdMs":500,"queryThresholdMs":1000,"searchThresholdMs":1000,"analyticsThresholdMs":1000,"viewThresholdMs":1000,"transactionsThresholdMs":5000},"loggingMeterConfig":{"enabled":true,"emitIntervalMs":600000},"retryStrategy":"BestEffortRetryStrategy","requestTracer":"ThresholdLoggingTracer","meter":"LoggingMeter","numRequestCallbacks":0,"scheduler":"ParallelScheduler","schedulerThreadCount":16,"transactionsConfig":{"durabilityLevel":"MAJORITY","timeoutMs":15000,"cleanupConfig":{"runLostAttemptsCleanupThread":true,"runRegularAttemptsCleanupThread":true,"cleanupWindowMs":60000,"cleanupSet":""},"numAtrs":1024,"metadataCollection":"none","scanConsistency":"none"},"preferredServerGroup":"null"} {"connectionString":"couchbase://127.0.0.1","coreId":"0x481b191600000001","numCoreInstances":1}
2025-07-31T22:15:38.726+08:00  INFO 43661 --- [ecom-assistant] [      cb-events] com.couchbase.transactions               : [com.couchbase.transactions][TransactionsStartedEvent] Transactions successfully initialised, regular cleanup enabled=true, lost cleanup enabled=true
2025-07-31T22:15:38.727+08:00  INFO 43661 --- [ecom-assistant] [      cb-events] com.couchbase.node                       : [com.couchbase.node][NodeCreatedEvent] Node created {"coreId":"0x481b191600000001","managerPort":"8091","remote":"127.0.0.1"}
2025-07-31T22:15:40.191+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseCluster' of type [com.couchbase.client.java.Cluster] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:40.265+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseClientFactory' of type [org.springframework.data.couchbase.SimpleCouchbaseClientFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:40.408+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseCustomConversions' of type [org.springframework.data.couchbase.core.convert.CouchbaseCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:40.433+08:00  INFO 43661 --- [ecom-assistant] [      cb-events] com.couchbase.core                       : [com.couchbase.core][BucketOpenedEvent][139ms] Opened bucket "ECOM" {"coreId":"0x481b191600000001"}
2025-07-31T22:15:40.494+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseMappingContext' of type [org.springframework.data.couchbase.core.mapping.CouchbaseMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:40.562+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6e981e78' of type [org.springframework.beans.factory.config.ObjectFactoryCreatingFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:40.563+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6e981e78' of type [org.springframework.beans.factory.config.ObjectFactoryCreatingFactoryBean$TargetBeanObjectFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:40.577+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingCouchbaseConverter' of type [org.springframework.data.couchbase.core.convert.MappingCouchbaseConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:40.631+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseTranslationService' of type [org.springframework.data.couchbase.core.convert.translation.JacksonTranslationService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:40.852+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseTemplate' of type [org.springframework.data.couchbase.core.CouchbaseTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:40.853+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseRepositoryOperationsMapping' of type [org.springframework.data.couchbase.repository.config.RepositoryOperationsMapping] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:40.861+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#3' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:40.861+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#3' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.475+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.476+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userRepository' of type [jdk.proxy2.$Proxy104] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.477+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userService' of type [com.ecom.ai.ecomassistant.db.service.auth.UserService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.516+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#2' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.516+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#2' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.522+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.523+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRepository' of type [jdk.proxy2.$Proxy106] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.524+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamService' of type [com.ecom.ai.ecomassistant.db.service.auth.TeamService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.528+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#1' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.528+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#1' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.559+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamMembershipRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.560+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamMembershipRepository' of type [jdk.proxy2.$Proxy107] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.560+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamMembershipService' of type [com.ecom.ai.ecomassistant.db.service.auth.TeamMembershipService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.564+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#7' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.565+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#7' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.585+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRoleRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.586+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRoleRepository' of type [jdk.proxy2.$Proxy108] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.586+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRoleService' of type [com.ecom.ai.ecomassistant.db.service.auth.TeamRoleService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.597+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userManager' of type [com.ecom.ai.ecomassistant.core.service.UserManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.617+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseRealm' of type [com.ecom.ai.ecomassistant.auth.realm.CouchbaseRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.774+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.778+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'shiroFilterChainDefinition' of type [org.apache.shiro.spring.web.config.DefaultShiroFilterChainDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:41.954+08:00  WARN 43661 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-31T22:15:43.731+08:00  INFO 43661 --- [ecom-assistant] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-31T22:15:43.777+08:00  INFO 43661 --- [ecom-assistant] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-31T22:15:43.778+08:00  INFO 43661 --- [ecom-assistant] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-07-31T22:15:43.946+08:00  INFO 43661 --- [ecom-assistant] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-31T22:15:43.947+08:00  INFO 43661 --- [ecom-assistant] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 16916 ms
2025-07-31T22:15:46.359+08:00  INFO 43661 --- [ecom-assistant] [           main] o.s.a.v.CouchbaseSearchVectorStore       : Init Cluster Called
2025-07-31T22:15:46.513+08:00  INFO 43661 --- [ecom-assistant] [           main] o.s.a.v.CouchbaseSearchVectorStore       : Created bucket
2025-07-31T22:15:46.564+08:00  INFO 43661 --- [ecom-assistant] [           main] o.s.a.v.CouchbaseSearchVectorStore       : Opened Bucket
2025-07-31T22:15:46.609+08:00  INFO 43661 --- [ecom-assistant] [           main] c.c.client.core.util.ConsistencyUtil     : Waiting for config
2025-07-31T22:15:46.610+08:00  INFO 43661 --- [ecom-assistant] [           main] c.c.client.core.util.ConsistencyUtil     : Adding nodes from global config: [NodeIdentifier{canonical=127.0.0.1:8091, hostForNetworkConnections='127.0.0.1'}]
2025-07-31T22:15:46.610+08:00  INFO 43661 --- [ecom-assistant] [           main] c.c.client.core.util.ConsistencyUtil     : Adding nodes from bucket configs: [NodeIdentifier{canonical=127.0.0.1:8091, hostForNetworkConnections='127.0.0.1'}]
QA VectorStore configured:
  - Bucket: ECOM
  - Scope: AI
  - Collection: qa-vector
  - Expected Index: spring-ai-qa-vector-index
2025-07-31T22:15:46.908+08:00  INFO 43661 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      : 🔧 Tiered RAG Configuration:
2025-07-31T22:15:46.909+08:00  INFO 43661 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Enabled: true
2025-07-31T22:15:46.909+08:00  INFO 43661 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Priority: QA_FIRST
2025-07-31T22:15:46.910+08:00  INFO 43661 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - QA Vector: enabled=true, topK=3, strategy=DIRECT_FTS_FIRST
2025-07-31T22:15:46.910+08:00  INFO 43661 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Document Vector: enabled=true, topK=6, threshold=0.7
2025-07-31T22:15:46.910+08:00  INFO 43661 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Max Results: 8, Fallback: true
2025-07-31T22:15:47.958+08:00  INFO 43661 --- [ecom-assistant] [           main] o.s.d.c.c.m.event.AuditingEventListener  : auditingHandler IS an IsNewAwareAuditingHandler: org.springframework.data.auditing.IsNewAwareAuditingHandler@60cf145
2025-07-31T22:15:49.860+08:00  INFO 43661 --- [ecom-assistant] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-31T22:15:49.866+08:00  INFO 43661 --- [ecom-assistant] [           main] c.e.a.e.EcomAssistantApplication         : Started EcomAssistantApplication in 25.157 seconds (process running for 26.462)
2025-07-31T22:17:02.194+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-31T22:17:02.195+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-31T22:17:02.197+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-31T22:17:02.713+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:02.742+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8268e2ed-b8f6-40dc-b41a-d7091ddb50c6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:02.945+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T22:17:02.946+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"d816fdc5-1378-46c5-9e03-25bf79c22d56","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:17:02.991+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4a3ccabb
2025-07-31T22:17:03.075+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.075+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8d11fe4c-c10e-465e-b7aa-ccb51528850d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.081+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@38cb2525
2025-07-31T22:17:03.086+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@263e0891
2025-07-31T22:17:03.090+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.090+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6f065c3c-38e5-4eaa-b182-f60dedc73a86","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.095+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5c17f617
2025-07-31T22:17:03.097+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3d9402bd
2025-07-31T22:17:03.098+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.099+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0304b45f-a7c7-48b4-ad59-449890ae953a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.104+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6c85803f
2025-07-31T22:17:03.106+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3aa977be
2025-07-31T22:17:03.107+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.108+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a1163bc5-8fc7-47b6-bdd5-1ba2424b6237","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.113+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@596d99b2
2025-07-31T22:17:03.114+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@44f1f9c8
2025-07-31T22:17:03.116+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.117+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"281a6313-5e26-44c7-9e78-bcaebf63b798","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.121+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4350d11
2025-07-31T22:17:03.122+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@75509eae
2025-07-31T22:17:03.125+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.126+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f87554c1-849f-4eab-b389-9144e1e603e3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.131+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@40c539bf
2025-07-31T22:17:03.133+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@b31b7d6
2025-07-31T22:17:03.135+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.136+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5d9138f4-328f-4e71-9ce3-6c5a551af9ab","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.141+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@27c07e24
2025-07-31T22:17:03.143+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5694319c
2025-07-31T22:17:03.144+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.145+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0dfcb3b4-47a8-4078-96f2-5659e3ef8dd8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.149+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3ff5e230
2025-07-31T22:17:03.150+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@397c7d1f
2025-07-31T22:17:03.152+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.153+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5bd38cb3-184e-4ab7-b1c5-64c5b6088dc0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.158+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1d69054a
2025-07-31T22:17:03.159+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6a06dfaa
2025-07-31T22:17:03.162+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.162+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"30514a1f-c8f1-44c5-aff6-ce252b3ee37c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.168+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7af244b8
2025-07-31T22:17:03.169+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@203c4a7c
2025-07-31T22:17:03.172+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.172+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3c3a71a8-f668-4f0a-806c-dfc076d07db2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.178+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@75aa4864
2025-07-31T22:17:03.179+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@298d32f4
2025-07-31T22:17:03.181+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.182+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a2a90f63-a377-4e4d-aa58-8a04d9f950d6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.186+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@413274f9
2025-07-31T22:17:03.188+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@31fa909
2025-07-31T22:17:03.190+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:03.190+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c3d5ddd6-872c-4068-8202-28d0f0c23ff8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.195+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@24d13866
2025-07-31T22:17:03.197+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T22:17:03.198+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T22:17:03.199+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"5aa0b24f-33fd-49b4-926f-36a22aee977c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:03.207+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T22:17:03.209+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T22:17:03.210+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"938bfecf-1b17-458f-b13a-b5b6fc8e4315","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T22:17:50.284+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:50.285+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"dae78ef7-508d-48ee-965f-95e49f857f90","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:50.292+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@39edffc4
2025-07-31T22:17:50.301+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@329fd81c
2025-07-31T22:17:50.303+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:50.303+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6791d02d-11f5-4c87-be30-0271155f4d62","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:50.308+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@53e87780
2025-07-31T22:17:50.310+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7e222739
2025-07-31T22:17:50.311+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:17:50.312+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d4b0f913-f84c-4744-8f39-e757c1db18e0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:17:50.316+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@130eab6e
2025-07-31T22:17:50.324+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=com.ecom.ai.ecomassistant.db.model.Dataset@62060336 scope: AI collection: dataset options: null
2025-07-31T22:17:50.365+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: com.ecom.ai.ecomassistant.db.model.Dataset@62060336
2025-07-31T22:17:50.375+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:18:45.195+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 3222 ms
2025-07-31T22:20:49.927+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@ee9a4c4
2025-07-31T22:20:49.930+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:20:49.932+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8e4cbc71-a5d1-4dcd-b6e4-bfd020c029dd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:20:49.943+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@440adfa8
2025-07-31T22:20:49.946+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@308b515d
2025-07-31T22:20:49.962+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@391656e5
2025-07-31T22:20:49.964+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@78ea66c2
2025-07-31T22:20:49.965+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@fab48ee
2025-07-31T22:20:49.968+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:20:49.969+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2a50fc75-1839-494a-b061-3ba3a6759d99","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:20:49.990+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:20:49.991+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"d790830b-3da6-4130-9f0a-b785fc03f055","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:20:50.006+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7ef61f37
2025-07-31T22:20:50.008+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:20:50.009+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"16465ec8-3773-46c1-a193-66a907dea59a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:20:50.014+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@32c64bfc
2025-07-31T22:20:50.016+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@53e5fad8
2025-07-31T22:20:50.017+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@d8d4430
2025-07-31T22:20:50.018+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@434ced11
2025-07-31T22:20:50.020+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@43d5c72f
2025-07-31T22:20:50.022+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:20:50.023+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b947957e-ce6c-4ccf-8e0e-99a7d68db5e5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:20:50.031+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:20:50.032+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"ee94f865-045d-46d6-af40-cd98d5567b1a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:01.801+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T22:21:01.807+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["sam0219mm@ecom.com"],"client_context_id":"d7a29e6d-f2fb-4fe5-9560-745afc8867b6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:01.884+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:01.885+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"242e77bb-7410-4a33-8998-9992e337a571","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:01.890+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@47dc2436
2025-07-31T22:21:02.126+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@38b975c2
2025-07-31T22:21:02.129+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:02.130+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"018b6b09-b59f-4d5e-96b6-acc5e5ed0c37","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:02.136+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3c86f60d
2025-07-31T22:21:02.138+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:02.139+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8b0b55d2-d33b-4a9f-9c62-d34185053bb0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:02.151+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:21:02.153+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"3a274c13-07dc-4a6d-ba5f-827f07e17f85","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:21:02.166+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:21:02.167+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"b4a9f77f-e7f5-403b-9f57-08911f258ca0","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:21:02.182+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@40d22941
2025-07-31T22:21:02.185+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:02.188+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"30b15895-d141-4094-8adf-ecd0a479d975","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:02.194+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4e15cf2b
2025-07-31T22:21:02.197+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:02.198+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2ffb7242-365b-4112-8479-007897aa7c94","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:02.205+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:21:02.206+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"a0987d3f-e14b-4162-a807-bb3b0c352d53","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:21:02.215+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:21:02.216+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"77f3e71a-1322-44cf-94f0-63db3a08646b","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:21:19.165+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.166+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"db4d71fa-51d8-4aa4-91cd-288d92483a87","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.173+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T22:21:19.174+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"316dfca4-d63f-477c-a72a-b3bd491c2df0","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:21:19.179+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@43479757
2025-07-31T22:21:19.181+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.182+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e6c3c8c6-3d53-4191-8726-e3867c17542f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.186+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@739199b9
2025-07-31T22:21:19.188+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@38075a61
2025-07-31T22:21:19.189+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.190+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4d1f5957-625a-47a3-970d-e9f8d57536f1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.195+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2c6f65ed
2025-07-31T22:21:19.196+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@536db218
2025-07-31T22:21:19.197+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.198+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"67cf53d2-c893-46f7-bf05-70ee61ab324f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.202+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2ccea59d
2025-07-31T22:21:19.204+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2e182637
2025-07-31T22:21:19.205+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.206+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b70563bf-c5aa-4fcb-b24c-42b0e35b33b4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.210+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@790f6e14
2025-07-31T22:21:19.212+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@474cee5f
2025-07-31T22:21:19.213+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.214+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3edc6e43-4d56-47dc-a21b-8e2af4891038","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.218+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1ef75966
2025-07-31T22:21:19.220+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7131fd11
2025-07-31T22:21:19.221+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.222+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e89858cc-3e13-471e-ad7a-f4b4449bb31c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.228+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@734c42ed
2025-07-31T22:21:19.229+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@53d264cd
2025-07-31T22:21:19.231+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.231+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8cb94547-0eba-49a4-9279-6beebebfd02c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.236+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@77ca2bb8
2025-07-31T22:21:19.237+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@9ed9925
2025-07-31T22:21:19.238+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.239+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f2820095-f6c2-427b-8327-503d7c33a151","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.243+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@18a7e9df
2025-07-31T22:21:19.245+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5813120a
2025-07-31T22:21:19.246+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.246+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"805ace66-2a54-47fd-9253-2302923d723d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.250+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7e22655b
2025-07-31T22:21:19.252+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1b63ef0b
2025-07-31T22:21:19.253+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.254+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b489f409-e903-4dc8-90ec-de4db1b1e33e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.258+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3cad04a9
2025-07-31T22:21:19.259+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@110b680f
2025-07-31T22:21:19.261+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.261+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"97f51a7a-5da7-4726-b68d-d691f3b79d58","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.265+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1594d692
2025-07-31T22:21:19.267+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@41c810c5
2025-07-31T22:21:19.268+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.268+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"847c0da6-73df-499d-805a-2ea0a188271c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.273+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4bbf07fa
2025-07-31T22:21:19.275+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@13e4592
2025-07-31T22:21:19.277+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:21:19.277+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"99ce6b82-578e-4224-9ee9-ba6a575b8242","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.282+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@32ad2361
2025-07-31T22:21:19.283+08:00  INFO 43661 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T22:21:19.285+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T22:21:19.285+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"929c7a8e-2c19-49de-9fa9-d350b2f8fad1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:21:19.290+08:00  INFO 43661 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T22:21:19.292+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T22:21:19.293+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"5ecb8f34-2378-447a-81d6-368134f96032","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T22:21:25.965+08:00 ERROR 43661 --- [ecom-assistant] [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Team ID is required for GROUP access type datasets] with root cause

java.lang.IllegalArgumentException: Team ID is required for GROUP access type datasets
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.createDataset(DatasetManager.java:119) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.createDataset(DatasetController.java:55) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T22:25:19.627+08:00  INFO 43661 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"analytics":{"corehttp":{"total_count":2,"percentiles_us":{"50.0":4947.967,"90.0":327155.711,"99.0":327155.711,"99.9":327155.711,"100.0":327155.711}}},"search":{"manager_search_get_all_indexes":{"total_count":1,"percentiles_us":{"50.0":1417.215,"90.0":1417.215,"99.0":1417.215,"99.9":1417.215,"100.0":1417.215}},"corehttp":{"total_count":2,"percentiles_us":{"50.0":4882.431,"90.0":299892.735,"99.0":299892.735,"99.9":299892.735,"100.0":299892.735}}},"management":{"manager_collections_get_all_scopes":{"total_count":2,"percentiles_us":{"50.0":2088.959,"90.0":2539.519,"99.0":2539.519,"99.9":2539.519,"100.0":2539.519}},"corehttp":{"total_count":1,"percentiles_us":{"50.0":2007.039,"90.0":2007.039,"99.0":2007.039,"99.9":2007.039,"100.0":2007.039}},"manager_buckets_get_all_buckets":{"total_count":1,"percentiles_us":{"50.0":32112.639,"90.0":32112.639,"99.0":32112.639,"99.9":32112.639,"100.0":32112.639}}},"query":{"corehttp":{"total_count":2,"percentiles_us":{"50.0":4489.215,"90.0":297795.583,"99.0":297795.583,"99.9":297795.583,"100.0":297795.583}},"query":{"total_count":53,"percentiles_us":{"50.0":3702.783,"90.0":6062.079,"99.0":71303.167,"99.9":71303.167,"100.0":71303.167}}},"kv":{"ping":{"total_count":1,"percentiles_us":{"50.0":856.063,"90.0":856.063,"99.0":856.063,"99.9":856.063,"100.0":856.063}},"get":{"total_count":74,"percentiles_us":{"50.0":475.135,"90.0":823.295,"99.0":8519.679,"99.9":8519.679,"100.0":8519.679}},"upsert":{"total_count":1,"percentiles_us":{"50.0":12976.127,"90.0":12976.127,"99.0":12976.127,"99.9":12976.127,"100.0":12976.127}}},"views":{"corehttp":{"total_count":1,"percentiles_us":{"50.0":29097.983,"90.0":29097.983,"99.0":29097.983,"99.9":29097.983,"100.0":29097.983}}}},"meta":{"emit_interval_s":600}}
2025-07-31T22:33:08.441+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@dfe652d
2025-07-31T22:33:08.444+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:08.445+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8de1ade3-bf06-4611-b53a-46916d59ee04","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:08.453+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7060e5d
2025-07-31T22:33:08.456+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:08.456+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b199189c-ced4-476e-bcb1-2195208fd613","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:08.463+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:33:08.464+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"54131257-ac26-4f1d-85f7-70106668e641","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:33:08.473+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:33:08.474+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"e949df93-a29e-4fbd-9d8d-5692fd776a47","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:33:08.486+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3482be19
2025-07-31T22:33:08.488+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:08.488+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"466ffb40-6698-4098-8396-2bd499e16876","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:08.493+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b5e02f7
2025-07-31T22:33:08.495+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:08.495+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f168039e-0793-46c9-bd99-203dc8691d54","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:08.500+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:33:08.501+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"3b4e6b5f-8f5f-43d4-9503-803673291bac","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:33:08.509+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:33:08.509+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"a8ad9dfc-9e11-42bb-8ff4-d697916295ca","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:33:19.897+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T22:33:19.898+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["sam0219mm@ecom.com"],"client_context_id":"bbfaac94-a274-477c-b097-922245008cdf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:19.976+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:19.977+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"266eeb67-2c78-42e0-a4e3-3420a0e2a5ee","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:19.982+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@28b639f1
2025-07-31T22:33:20.249+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@420480d9
2025-07-31T22:33:20.251+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:20.253+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7dd496a9-c221-4a88-8041-7feca640b818","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:20.258+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3cad52b9
2025-07-31T22:33:20.260+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:20.261+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2aecbee2-9440-433b-bc09-94a8bd64e5a9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:20.266+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:33:20.266+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"39d81711-45e7-4161-9314-55950140d914","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:33:20.274+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:33:20.275+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"19dbb3a8-b172-4a2f-9723-310248ffad85","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:33:20.289+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3a8e545f
2025-07-31T22:33:20.291+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:20.292+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"48a39f77-7818-45e5-af2b-765be15376fb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:20.297+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@33c21888
2025-07-31T22:33:20.299+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:20.299+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1f483129-fa28-48c0-8dcc-554f92f45f41","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:20.306+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:33:20.307+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"98598ef4-cbfc-455a-8db8-405a71e1e51c","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:33:20.317+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:33:20.318+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"fc079c6d-cd48-4408-85e4-27578e06a6fc","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:33:27.403+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.403+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"15ad4238-a6df-4061-9b77-a4cec1ebd9f3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.418+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T22:33:27.419+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"1834cc03-b980-4787-aac8-08682ce35617","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:33:27.426+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7214a224
2025-07-31T22:33:27.428+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.429+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9138fafd-8991-4859-ab98-04ed4e9da1bb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.436+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@44a4dcd3
2025-07-31T22:33:27.439+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1d9f66d2
2025-07-31T22:33:27.441+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.442+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e0ae0b43-c095-4284-bc6f-cbca4df3b3f2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.448+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7be64295
2025-07-31T22:33:27.449+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2c34ca4f
2025-07-31T22:33:27.451+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.452+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c7174acd-3d30-41fd-8987-9578d1da903e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.456+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4e94d95e
2025-07-31T22:33:27.458+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@285b8fa8
2025-07-31T22:33:27.459+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.460+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"edf85b29-cd0e-4a92-98ec-ce5f99c888c1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.466+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@61e092dc
2025-07-31T22:33:27.468+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6b8c4a1d
2025-07-31T22:33:27.469+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.470+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c3157b77-e72b-47ca-bf26-912092582b83","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.475+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@33a301b
2025-07-31T22:33:27.476+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@77e8c91b
2025-07-31T22:33:27.478+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.478+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"620dc2d6-b6af-43be-91e5-87e54c52bd33","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.483+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@12fbc348
2025-07-31T22:33:27.485+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1b2ebfa8
2025-07-31T22:33:27.487+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.487+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0cf02c3d-dd21-4dc1-8a9b-3f24429c2e11","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.492+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@49c6ee3e
2025-07-31T22:33:27.493+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7857560c
2025-07-31T22:33:27.495+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.495+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"123c0b41-6a00-43cb-a6ee-1f51ec23641a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.500+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@347a3bcd
2025-07-31T22:33:27.501+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5ac70115
2025-07-31T22:33:27.503+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.503+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"70ee13dc-add8-4f05-84bb-49f3072a8229","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.509+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@240eb36d
2025-07-31T22:33:27.510+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@662b76d6
2025-07-31T22:33:27.511+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.512+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"140300de-6770-4e36-b2e9-7b31a3a70699","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.516+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3ea8d8d
2025-07-31T22:33:27.518+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@61c7eb4c
2025-07-31T22:33:27.519+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.519+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ab20d1ef-3617-4233-9a9d-72ae0297398b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.524+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3083b9c2
2025-07-31T22:33:27.525+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@d23e4c2
2025-07-31T22:33:27.526+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.527+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1e1c7ca3-9eee-4fa0-acc7-81a13ccf9f63","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.532+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5af2860e
2025-07-31T22:33:27.534+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4b19b97
2025-07-31T22:33:27.535+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:33:27.536+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"425afe45-336a-465a-a0fd-b6f1dbf6994d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.540+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@29d16f6a
2025-07-31T22:33:27.541+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T22:33:27.542+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T22:33:27.543+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"1611f94c-3ed4-4ef6-b5d3-20a0bf8a4bae","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:33:27.547+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T22:33:27.549+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T22:33:27.549+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"6c40e649-c18c-4077-b058-830b5577e251","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T22:33:42.182+08:00 ERROR 43661 --- [ecom-assistant] [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Team ID is required for GROUP access type datasets] with root cause

java.lang.IllegalArgumentException: Team ID is required for GROUP access type datasets
	at com.ecom.ai.ecomassistant.core.service.DatasetManager.createDataset(DatasetManager.java:119) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.DatasetController.createDataset(DatasetController.java:55) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T22:35:01.267+08:00  INFO 43661 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":35,"percentiles_us":{"50.0":4325.375,"90.0":6193.151,"99.0":11010.047,"99.9":11010.047,"100.0":11010.047}}},"kv":{"get":{"total_count":35,"percentiles_us":{"50.0":516.095,"90.0":770.047,"99.0":933.887,"99.9":933.887,"100.0":933.887}}}},"meta":{"emit_interval_s":600}}
2025-07-31T22:39:26.824+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5ee17d95
2025-07-31T22:39:26.828+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:26.829+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"08f49768-0f45-4a7d-9eb3-7c224140809d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:26.840+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@264e6bc3
2025-07-31T22:39:26.842+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:26.843+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1bdb004f-501b-4fb4-ab70-b36de98fc2b2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:26.851+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:39:26.851+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"aec7037f-6fa1-4bfd-8274-7a7a8ec035e8","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:39:26.861+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:39:26.862+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"1395faa3-a7d5-429e-8618-95e157f81702","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:39:26.880+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@632c1af8
2025-07-31T22:39:26.882+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:26.883+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"11f7486c-76ec-4991-acd3-49d3b7eaa4dc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:26.888+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@645b1dbb
2025-07-31T22:39:26.890+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:26.891+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5972cfe8-f38b-465a-ab24-950c13d9a3c1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:26.897+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:39:26.898+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"25ed3892-ad5d-44d3-b056-d0e576ee72d3","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:39:26.908+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:39:26.909+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"d1e33bcb-ff3f-45dd-8455-fe148e28d00b","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:39:31.536+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T22:39:31.537+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["sam0219mm@ecom.com"],"client_context_id":"4a3d6a77-ca2c-4f8a-9ea6-c63e453ad4fb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:31.624+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:31.625+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3e42aa88-a5df-4e2d-9f2d-dd831d852362","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:31.631+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@730b12f1
2025-07-31T22:39:31.946+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@47091b36
2025-07-31T22:39:31.951+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:31.952+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ad5348de-6648-403f-905c-637547dd36ad","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:31.960+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4a562e92
2025-07-31T22:39:31.963+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:31.964+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d24b167d-0541-4ab2-9002-1ee20cbf4966","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:31.973+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:39:31.974+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"d6d0da49-4292-49ba-8016-aec618efdb6c","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:39:31.985+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:39:31.986+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"25350d2e-db21-42f2-a7bd-75e6c23fbb6a","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:39:32.001+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3bc68b66
2025-07-31T22:39:32.004+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:32.005+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"971cfd32-875c-49ee-a107-a7b57db71aa7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:32.011+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@75caa8e6
2025-07-31T22:39:32.015+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:32.016+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"92082099-f749-4cc0-9667-093133c03ad7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:32.024+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:39:32.025+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"7c7a1c00-65d4-44e0-a076-4b0c3b71bcb3","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:39:32.034+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:39:32.035+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"f9ac49fb-d875-45a3-a36e-9d269873b21b","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:39:40.217+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.218+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5faf1a53-ae42-439b-8d93-f55873db7ceb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.225+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T22:39:40.225+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"e9854ea9-8d79-420c-be72-17b1c40ddfee","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:39:40.230+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3a5fffff
2025-07-31T22:39:40.232+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.232+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d21c4d20-6b81-4fa0-94f9-a2a55441feff","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.237+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@688fcf64
2025-07-31T22:39:40.238+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3d4aa1c5
2025-07-31T22:39:40.239+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.239+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e8d6d42b-be51-45a7-8bda-f813d44be266","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.243+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b49a1f1
2025-07-31T22:39:40.245+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@50e2df7b
2025-07-31T22:39:40.246+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.247+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e7058634-ec97-42fb-9854-763f167d954e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.251+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7682aabf
2025-07-31T22:39:40.253+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@383b4804
2025-07-31T22:39:40.254+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.254+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bee8d604-c6e0-4a5f-ba6a-3d9c724ce219","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.259+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@70945dd8
2025-07-31T22:39:40.260+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@364b5db6
2025-07-31T22:39:40.262+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.262+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"269d872c-f6e3-49d7-b259-2d1bcd079e84","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.267+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@557fde92
2025-07-31T22:39:40.268+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3766d751
2025-07-31T22:39:40.270+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.270+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2a4da208-36c4-4241-bc6f-4253ba4aba90","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.276+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@654e26f8
2025-07-31T22:39:40.278+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@984710a
2025-07-31T22:39:40.280+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.280+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"577af417-49c2-4872-b4b3-878ac9e162df","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.285+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2224a5e6
2025-07-31T22:39:40.286+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@237932ac
2025-07-31T22:39:40.287+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.288+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"07eacbed-2ed3-4652-8da9-43c6c4f654ff","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.292+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3794a9dd
2025-07-31T22:39:40.294+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1d329204
2025-07-31T22:39:40.295+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.296+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"c494c28e-5d66-4487-bf19-62d94b536dfe","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.300+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@70b8a278
2025-07-31T22:39:40.302+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@627037f3
2025-07-31T22:39:40.304+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.305+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f67cebe3-1d24-43bb-ab0d-a7ab226a29fd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.310+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b5b2b0b
2025-07-31T22:39:40.312+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1f17136
2025-07-31T22:39:40.314+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.314+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b6fe1b55-b3eb-4346-a0a1-51f7f9e13353","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.319+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@34efa812
2025-07-31T22:39:40.320+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@57c3ced3
2025-07-31T22:39:40.322+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.322+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9811b117-b134-44b8-a6aa-ec4e74b3a98f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.326+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@65f2a453
2025-07-31T22:39:40.328+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6f80011a
2025-07-31T22:39:40.330+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:40.330+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d7d2d8ed-3971-49bf-ac17-e5dd2a3e8e96","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.335+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@26668bc0
2025-07-31T22:39:40.336+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T22:39:40.337+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T22:39:40.337+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"c0a3fc31-faee-480e-b12f-7928f7e2bd3a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:40.342+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T22:39:40.344+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T22:39:40.344+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"44d5b5f3-b63f-41fd-a20b-77b7fde06298","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T22:39:44.128+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:44.129+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"53e9c95b-0ef3-44a7-998e-6e26a45691e5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:44.138+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@236e2cce
2025-07-31T22:39:44.140+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@20160981
2025-07-31T22:39:44.142+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:44.143+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"db10ac1d-bf27-4fdd-aa83-a1f6a0dbc86e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:44.150+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1c9c6efd
2025-07-31T22:39:44.152+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@797594f7
2025-07-31T22:39:44.154+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:44.155+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a7fdce1b-4ac2-4d5b-be63-8fb1fe00eb99","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:44.161+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2b2fcf4b
2025-07-31T22:39:44.164+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=com.ecom.ai.ecomassistant.db.model.Dataset@3b6591ae scope: AI collection: dataset options: null
2025-07-31T22:39:44.166+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: com.ecom.ai.ecomassistant.db.model.Dataset@3b6591ae
2025-07-31T22:39:44.171+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:39:44.187+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@725363d4
2025-07-31T22:39:44.189+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:44.190+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a03e6409-d94d-482d-af1a-deedbbcb3e1d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:44.197+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@642f9170
2025-07-31T22:39:44.200+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:44.201+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bde39938-1b68-477f-93e6-09a1b6ced54f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:44.215+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:39:44.216+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"d6504c22-2836-4eb8-a73b-ef69130918ff","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:39:44.230+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:39:44.231+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"ccedd202-281f-4a4d-a240-66fbb4156b18","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:39:47.020+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@2606eb9d
2025-07-31T22:39:47.029+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4da35b3f
2025-07-31T22:39:47.033+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:47.035+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0cf104fb-b131-4160-acf8-b4b958494865","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:47.044+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2365b10c
2025-07-31T22:39:47.046+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@64504ed9
2025-07-31T22:39:47.048+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:47.049+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a55aa599-6e9d-4504-948d-5f2a2377cb62","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:47.055+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@337d9bcf
2025-07-31T22:39:47.058+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:39:47.059+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"11b53b33-1b20-4a9d-b168-54e76a1ce976","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:47.073+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@7dafe8eb
2025-07-31T22:39:47.075+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5f27720b
2025-07-31T22:39:47.077+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:47.077+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"67ab3da8-b936-493b-b083-3db4c431052c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:47.082+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@50355f32
2025-07-31T22:39:47.084+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7098504a
2025-07-31T22:39:47.085+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:39:47.085+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b119fa4a-d52c-41c7-b932-b29d72acf590","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:39:47.091+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@72721602
2025-07-31T22:39:47.093+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:39:47.093+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"81be9717-ae24-4c58-8958-ee8f382d5ee4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:20.789+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6f1a7c89
2025-07-31T22:40:20.792+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:20.793+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e6f9fd71-6461-41c9-a328-bb145958bd15","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:20.798+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@70ddc739
2025-07-31T22:40:20.800+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:20.801+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"3d7fdea6-d35b-4d23-8e9c-8c96f8e02f76","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:20.806+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:40:20.806+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"a05f2da2-f308-45d7-ae06-41b9d528c817","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:40:20.814+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:40:20.815+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"ebe12b34-72da-4098-8b69-7a288955ab8f","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:40:20.827+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@56c8582d
2025-07-31T22:40:20.829+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:20.830+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8e3f7c41-8c81-4c86-8eb8-08729bf98da3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:20.835+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@38010c39
2025-07-31T22:40:20.837+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:20.837+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"eda23249-7ddb-46c0-85fb-135bcc583d15","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:20.845+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:40:20.845+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"f7ccb8ea-83c6-478a-90e5-d3b3e6e01122","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:40:20.856+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:40:20.857+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"abea4b1d-c71e-4ab2-96e3-a0754826c700","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:40:59.678+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.678+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2c39803d
2025-07-31T22:40:59.679+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9fb9d570-fe22-4512-9973-ef204404cb86","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.681+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.681+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"40d04e4d-d133-4ca3-a0dc-731236d6fcbe","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.691+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6dbf517c
2025-07-31T22:40:59.696+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@d670c9e
2025-07-31T22:40:59.699+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T22:40:59.700+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"884c9600-855c-4d08-b703-eae453784d37","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:40:59.700+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.701+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6c7d3c37-5cce-4578-9d64-57ee566e3f7f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.707+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7445c9f0
2025-07-31T22:40:59.707+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4d9cd6b7
2025-07-31T22:40:59.709+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.709+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f027b508-eb8f-4c4f-b0d6-2fdd71dff409","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.710+08:00 ERROR 43661 --- [ecom-assistant] [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: The given id must not be null!] with root cause

java.lang.IllegalArgumentException: The given id must not be null!
	at org.springframework.util.Assert.notNull(Assert.java:181) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.SimpleCouchbaseRepository.findById(SimpleCouchbaseRepository.java:96) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:173) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy104.findById(Unknown Source) ~[na:na]
	at com.ecom.ai.ecomassistant.db.service.CrudService.findById(CrudService.java:25) ~[ecom-assistant-db-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.PermissionController.getTeamPermissions(PermissionController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.6.jar:6.2.6]
	at com.ecom.ai.ecomassistant.controller.PermissionController$$SpringCGLIB$$0.getTeamPermissions(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.6.jar:6.2.6]
	at com.ecom.ai.ecomassistant.controller.PermissionController$$SpringCGLIB$$1.getTeamPermissions(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T22:40:59.715+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@62d5d02d
2025-07-31T22:40:59.717+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5f4ba2a4
2025-07-31T22:40:59.719+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.720+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f36f6d7f-2cd0-46e7-93a9-148e053d167d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.726+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2665a114
2025-07-31T22:40:59.728+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7cb5e661
2025-07-31T22:40:59.729+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.730+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"727b85f6-c850-451f-a83b-450ea89f90f1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.736+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@302d1562
2025-07-31T22:40:59.737+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@32f1cf41
2025-07-31T22:40:59.739+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.740+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"02ac656e-83b3-474c-9f98-caac373416b9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.747+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3997b50a
2025-07-31T22:40:59.748+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6a42cab7
2025-07-31T22:40:59.750+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.750+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6a9cfa09-3c53-4bcc-a6c8-2bf9de7bcc2a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.755+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@329c5498
2025-07-31T22:40:59.757+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@e2b0e4d
2025-07-31T22:40:59.759+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.760+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"434ae770-2a65-442f-8e46-d395eb9ed4d4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.765+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@a10c567
2025-07-31T22:40:59.767+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@76fbb1e0
2025-07-31T22:40:59.768+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.768+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cc936e3a-4331-4cc5-9e4c-0a729ef51b39","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.774+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@26931333
2025-07-31T22:40:59.776+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@701c28ca
2025-07-31T22:40:59.777+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.777+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"72338749-7842-46d1-94f7-9e265918059c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.783+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7c2bf053
2025-07-31T22:40:59.784+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@57f42a87
2025-07-31T22:40:59.786+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.787+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"06e222e5-2fdf-4f80-86eb-876b29ed2ada","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.792+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@780b9e5b
2025-07-31T22:40:59.794+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5b014061
2025-07-31T22:40:59.796+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.796+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7f9c2399-3f19-436f-8c10-610ec11bfa27","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.801+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2d57f994
2025-07-31T22:40:59.803+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@41f50b56
2025-07-31T22:40:59.804+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.805+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4e1c7c6b-b0fd-44f2-a5df-c7637fd0601d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.809+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@65a8bc75
2025-07-31T22:40:59.811+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@34fbeae9
2025-07-31T22:40:59.812+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.813+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"68e25e14-59bd-4445-9bec-1ebc3cc6e054","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.818+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@26723ebb
2025-07-31T22:40:59.819+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4f343e98
2025-07-31T22:40:59.820+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.821+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"def46159-47d1-4cc5-9ddc-93e2042aeecf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.826+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6fdf681f
2025-07-31T22:40:59.827+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T22:40:59.828+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T22:40:59.829+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"7469db1e-92ca-4ad1-97ad-b323f2705f01","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.835+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T22:40:59.837+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T22:40:59.837+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-3] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"527c7120-597a-4de5-912c-9b23aee7a517","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T22:40:59.852+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7e0610c0
2025-07-31T22:40:59.854+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.854+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1a6ce35f-69bd-4949-ab1d-830a97885dd2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.859+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@73196562
2025-07-31T22:40:59.860+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@162dd2cc
2025-07-31T22:40:59.862+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:40:59.862+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"60416301-d673-4e34-91cd-065c5d27d4ce","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:40:59.867+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3a8390a9
2025-07-31T22:40:59.869+08:00 ERROR 43661 --- [ecom-assistant] [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: The given id must not be null!] with root cause

java.lang.IllegalArgumentException: The given id must not be null!
	at org.springframework.util.Assert.notNull(Assert.java:181) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.SimpleCouchbaseRepository.findById(SimpleCouchbaseRepository.java:96) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.5.jar:3.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.data.couchbase.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:173) ~[spring-data-couchbase-5.4.5.jar:5.4.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.6.jar:6.2.6]
	at jdk.proxy2/jdk.proxy2.$Proxy104.findById(Unknown Source) ~[na:na]
	at com.ecom.ai.ecomassistant.db.service.CrudService.findById(CrudService.java:25) ~[ecom-assistant-db-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.controller.PermissionController.getTeamPermissions(PermissionController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.6.jar:6.2.6]
	at com.ecom.ai.ecomassistant.controller.PermissionController$$SpringCGLIB$$0.getTeamPermissions(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.6.jar:6.2.6]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.6.jar:6.2.6]
	at com.ecom.ai.ecomassistant.controller.PermissionController$$SpringCGLIB$$1.getTeamPermissions(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:65) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-31T22:41:00.037+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.038+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8dc96b10-324a-4543-ab2e-04ae58e59d58","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.044+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T22:41:00.045+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"43f030a6-5ad4-455c-8531-8590c8a6283f","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:00.052+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@16a1956d
2025-07-31T22:41:00.054+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.055+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"1ed0f874-ffa0-4e7b-ac77-93b821ae8666","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.062+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6c178444
2025-07-31T22:41:00.069+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5e3f838c
2025-07-31T22:41:00.072+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.074+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"fd2c1127-710c-4783-86c1-60f6301beb63","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.080+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3c9f5c4f
2025-07-31T22:41:00.083+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@260fbc4c
2025-07-31T22:41:00.087+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.087+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f42e4d83-bb73-47b8-82b8-82e2e898db23","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.092+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@766a296d
2025-07-31T22:41:00.094+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@546be7cf
2025-07-31T22:41:00.096+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.096+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"06e7ce54-f894-467c-8f6a-91d37c69458f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.102+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1250b429
2025-07-31T22:41:00.103+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@49e687f3
2025-07-31T22:41:00.105+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.106+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5786e95b-cdef-4e3c-b0bd-653db7255066","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.111+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6ee0eee3
2025-07-31T22:41:00.114+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@65be296f
2025-07-31T22:41:00.116+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.117+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6f6f8ac4-056e-43ea-a53c-3376ac3dd061","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.122+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@72d8280d
2025-07-31T22:41:00.123+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@f7cf0ba
2025-07-31T22:41:00.125+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.126+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"59af16a3-094f-461b-90cf-f5b5ee6c2282","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.131+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@66828040
2025-07-31T22:41:00.133+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@72e338ae
2025-07-31T22:41:00.135+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.135+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"dbbbb126-7433-41bd-a986-97a5f289ef82","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.140+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4148eebf
2025-07-31T22:41:00.142+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@29d93f0c
2025-07-31T22:41:00.143+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.144+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b3bd98b9-0a01-4987-b119-0e914e5bf267","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.150+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5bab3af7
2025-07-31T22:41:00.151+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@30e64f64
2025-07-31T22:41:00.153+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.154+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4ce12cd4-a2fc-401c-a152-b018c8f6b4aa","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.160+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@36dd72d1
2025-07-31T22:41:00.163+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@561c1a59
2025-07-31T22:41:00.165+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.165+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"47d4e092-5103-42d8-96b3-f625175419d3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.166+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7e9c004d
2025-07-31T22:41:00.168+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.170+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"74e2b3d0-169d-47a1-92da-098555e14149","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.173+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@54e2eeef
2025-07-31T22:41:00.174+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@56fd0678
2025-07-31T22:41:00.175+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5cfb8974
2025-07-31T22:41:00.176+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.177+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@37f26df2
2025-07-31T22:41:00.177+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"376d8d7a-6f22-4372-92c6-816db1d65ae9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.179+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.180+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4f01be05-4996-4a75-8870-d38ee5ae3190","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.184+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@bebbd8c
2025-07-31T22:41:00.186+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3d93a07a
2025-07-31T22:41:00.187+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@585720e7
2025-07-31T22:41:00.188+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.188+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@46d7cdc8
2025-07-31T22:41:00.189+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0efc404e-8bea-4719-95a9-9a49b8bc6883","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.193+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6ca89823
2025-07-31T22:41:00.193+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@652fdf62
2025-07-31T22:41:00.195+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7ec5b4b1
2025-07-31T22:41:00.197+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e permission check result: hasSystemTeamPermission = false, hasAnyTeamPermission = true
2025-07-31T22:41:00.198+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T22:41:00.199+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a73aab83-3b1c-400a-8160-46805bd0172e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.204+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.core.service.TeamManager         : User 8e5a59f8-cef9-435d-9271-4ba92a70906e will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T22:41:00.205+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T22:41:00.206+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"ffa5b8ed-7deb-4402-accd-8254302b0951","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T22:41:00.211+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6ae64ba3
2025-07-31T22:41:00.214+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.214+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5d7f4fce-9b51-450c-80ad-9dd355b724eb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.217+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6e291623
2025-07-31T22:41:00.219+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.220+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d3585226-5ba1-4ccf-a43a-d9b9b93b1cdc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.220+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5c4e75a6
2025-07-31T22:41:00.221+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3bd86f91
2025-07-31T22:41:00.223+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.223+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4e2d590d-7771-4567-ba58-fa48c7d99fc3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.224+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@25b6a9e9
2025-07-31T22:41:00.225+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5b72b976
2025-07-31T22:41:00.227+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:00.227+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ba13f629-cdc5-49c1-9d16-9d47e9e371a0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.228+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@30e5ae68
2025-07-31T22:41:00.231+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@42927a58
2025-07-31T22:41:00.232+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T22:41:00.233+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"0ebf2987-eff4-4d15-b45f-a3c335be81e2","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.234+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T22:41:00.234+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2cef33f9-378d-4080-a30a-a769c283b9df","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.390+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T22:41:00.391+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"0d8f3994-94bd-42c2-b7d7-0e07143f330c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:00.398+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T22:41:00.399+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208","4f363b43-acef-4580-b066-77f6ace3f1a8"]],"client_context_id":"f3f20408-b0d6-472e-9d3a-188e941eb82c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:11.396+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@64811657
2025-07-31T22:41:11.400+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:11.401+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bc172bbf-9105-4a75-a177-2ea36b770057","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:11.410+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@231f745e
2025-07-31T22:41:11.412+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:11.413+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"22733fc4-37e0-4823-af22-1c71a93d167c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:11.420+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:11.421+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"40a91c87-ad14-45d8-94ab-c151a6883b0a","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:11.431+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:11.432+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"81fa8c81-0e79-4404-b363-39562f347d3d","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:11.448+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7ecbf9b7
2025-07-31T22:41:11.450+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:11.450+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6d99e786-9949-4fbd-ac00-d8f853c336d2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:11.457+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5b461156
2025-07-31T22:41:11.462+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:11.466+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0dcf2bc4-2656-4fb4-8272-1b53c4e423fb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:11.474+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:11.475+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"8765edae-f856-4bb8-b9a7-98005c3ceab8","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:11.486+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:11.487+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"c3cf2168-d65a-4f37-b561-68997aa9e45e","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:12.338+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@40b5b3d7
2025-07-31T22:41:12.339+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@16e47190
2025-07-31T22:41:12.341+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:12.342+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"098a6932-227a-433d-bbee-70b71fc047eb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:12.347+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@36548346
2025-07-31T22:41:12.349+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6567c901
2025-07-31T22:41:12.351+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:12.351+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ab88ca2e-df3d-4949-9a29-eab9c7dddc20","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:12.357+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@821f571
2025-07-31T22:41:12.359+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:12.360+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"3cae6393-2822-4036-95dc-d34e300db754","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:12.370+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@1bde6264
2025-07-31T22:41:12.372+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6d14a68d
2025-07-31T22:41:12.375+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:12.375+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8bb6c5c8-e030-47bb-84c3-a30283943cf8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:12.381+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6a45b296
2025-07-31T22:41:12.383+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6963c07d
2025-07-31T22:41:12.384+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:12.385+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"83d5867b-12d1-43ff-8302-39d6aa0b2d6c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:12.390+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1c65277
2025-07-31T22:41:12.392+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:12.399+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"c111a0f6-3ec8-4e2c-ac41-361a7d8ac1c9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:14.065+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3bdec6fe
2025-07-31T22:41:14.067+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:14.068+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f4b40786-9af1-4393-832c-515dedd3f6a0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:14.076+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6dd2dfee
2025-07-31T22:41:14.079+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:14.079+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6a50c06e-1be5-4584-834e-0b70e05b0595","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:14.085+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:14.085+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"2a9ae124-5246-4d2b-ac02-fa9e5b5fc3be","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:14.093+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:14.094+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"e78ac993-b208-4bd1-8ae1-fc018088c2bd","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:14.106+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2ce335cb
2025-07-31T22:41:14.107+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:14.108+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"5fb9be85-f36e-4f00-8f70-dec27ba06871","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:14.114+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@403cadae
2025-07-31T22:41:14.115+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:14.116+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"662aa36a-79a3-4f40-a4c3-9864c50bacbf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:14.121+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:14.122+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"252e8da1-bbd6-4863-a2b4-1e4daa1685d9","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:14.131+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:14.132+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"6775be26-e225-4e6e-8f58-7a9477691a0f","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:19.928+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@243d3179
2025-07-31T22:41:19.929+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6178a76a
2025-07-31T22:41:19.931+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:19.932+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9b1b14f5-3c23-4cac-8e30-744b4cb1433d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:19.944+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2b78995f
2025-07-31T22:41:19.947+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6603d3b0
2025-07-31T22:41:19.949+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:19.950+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"63885aff-6486-431a-a607-98b63a32d623","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:19.956+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@42647bed
2025-07-31T22:41:19.959+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:19.960+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"88c52575-f685-4cef-bbac-e6614a7f78bb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:19.973+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@3dfc7d14
2025-07-31T22:41:19.976+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2fa0875e
2025-07-31T22:41:19.978+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:19.979+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0ab7cda3-a01b-47a1-8f34-95a4dc5877b0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:19.986+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@74546c6a
2025-07-31T22:41:19.987+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@735985ec
2025-07-31T22:41:19.989+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:19.990+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"febda879-03d7-4cb3-a35e-cd201ea4bf80","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:19.995+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2d93424e
2025-07-31T22:41:19.997+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:19.997+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"56092a36-f8a5-4ccc-95e0-e9de03c12f8d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:21.484+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5833405e
2025-07-31T22:41:21.486+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:21.486+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4b194421-a85e-46fe-89e2-b1dd73a74cda","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:21.493+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@75d83af3
2025-07-31T22:41:21.494+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:21.495+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"86dc9995-cb81-4220-9b27-c267f2d86598","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:21.500+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:21.501+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"7b5b336c-ef20-4a5e-9b66-4ac9f632d15e","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:21.510+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:21.511+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"866f7e09-3b8a-41ac-80de-8bef6f3dd136","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:21.524+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@61e0779
2025-07-31T22:41:21.525+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:21.526+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"51ebea54-8796-4ac2-b833-373663680c33","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:21.531+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6f903585
2025-07-31T22:41:21.533+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:21.533+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"88fa14ae-b7a4-45db-9587-b768ab60ab90","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:21.539+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:21.539+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"f853fdd1-cbfc-4b39-87e7-24fa61417c13","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:21.548+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:21.548+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"7d003cfc-aead-4669-88ef-7c14cde187a0","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:22.267+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ec96ee5d-a843-440e-9255-2e3a714d4b55 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@11470d50
2025-07-31T22:41:22.269+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:22.269+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ec96ee5d-a843-440e-9255-2e3a714d4b55"],"client_context_id":"2b10adc9-2abe-4b22-a48d-0954640455f9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:22.284+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ec96ee5d-a843-440e-9255-2e3a714d4b55 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@1efe531a
2025-07-31T22:41:22.286+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:22.286+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ec96ee5d-a843-440e-9255-2e3a714d4b55"],"client_context_id":"8a8d0800-6af1-4ee2-95ec-cf34e3a769c9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:23.655+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@622bad5
2025-07-31T22:41:23.658+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:23.658+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"16d818ff-f1e8-40c9-bbd3-1435d5a05403","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:23.667+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6e8b2866
2025-07-31T22:41:23.669+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:23.669+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"88acb4df-a015-4ba1-82d5-3393e618297b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:23.676+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:23.676+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"c6b76452-0673-4917-a1f7-e6a2e5e96430","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:23.685+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:23.685+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"56681eca-8bfc-43b5-ae03-65978a478231","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:23.699+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@663fee70
2025-07-31T22:41:23.700+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:23.701+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"fd4033e0-784f-4745-8f4f-c65f5cf297cf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:23.706+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@148d7d27
2025-07-31T22:41:23.708+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:23.708+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"89f31a5b-dea9-4719-838a-5f13bdff4c5a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:23.714+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:23.715+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"ab27c809-6330-4bc2-b84d-97a93b76b2f3","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:23.723+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:23.723+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"159069d0-783a-4907-8969-a3fdf80fb36c","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:25.333+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=d354c999-8775-44e5-a02e-c70d09a12022 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@3774968
2025-07-31T22:41:25.335+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4535812b
2025-07-31T22:41:25.337+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:25.338+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"39406a6d-5cc1-4b97-9eff-e5ac6bcf4bc0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:25.345+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5d3444cf
2025-07-31T22:41:25.346+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@64316a08
2025-07-31T22:41:25.347+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:25.348+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"27dcedad-bf08-49aa-ae2b-90e4b20d87fa","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:25.353+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@d64937c
2025-07-31T22:41:25.354+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:25.355+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["d354c999-8775-44e5-a02e-c70d09a12022"],"client_context_id":"49a41208-aaf5-4750-be36-0d54a0bbad98","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:25.365+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=d354c999-8775-44e5-a02e-c70d09a12022 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@492236a2
2025-07-31T22:41:25.366+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7c5a0f20
2025-07-31T22:41:25.368+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:25.368+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7d68cb0c-b8b8-4bd9-acc0-dfeb2dffec40","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:25.374+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@592e9cd8
2025-07-31T22:41:25.376+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@702a2720
2025-07-31T22:41:25.377+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:25.377+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"27e9fefd-71d6-413c-b1be-573089f9e196","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:25.384+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@286588a1
2025-07-31T22:41:25.386+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:25.386+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["d354c999-8775-44e5-a02e-c70d09a12022"],"client_context_id":"618cbec4-68bd-4ee6-b458-b7eecb0605fe","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:26.043+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@48b78171
2025-07-31T22:41:26.045+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:26.046+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4ab4cd45-13e3-4f17-b08f-4fc365dfc287","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:26.051+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4fa74e92
2025-07-31T22:41:26.053+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:26.054+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2398428c-9150-4ede-b1bb-4110af46ec5f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:26.060+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:26.061+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"fbaf7215-1355-41ab-ae07-5aad806f668c","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:26.070+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:26.070+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"9101b34b-e635-4435-a491-84b5725c83fe","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:26.082+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@593d96cb
2025-07-31T22:41:26.084+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:26.084+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"035bf0f2-8a65-4ca9-a78a-105bbfd0ba50","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:26.089+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4a5a7b2b
2025-07-31T22:41:26.091+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:26.091+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"b9e82e5c-923a-4408-973f-edd911aadcf6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:26.096+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:26.097+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"af58512c-b29f-45bf-9bd2-3703beeab0cd","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:26.104+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:26.105+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"ca8a2f64-cf47-4404-bd82-4eadbabd1a14","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:26.641+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=da40f074-fe94-46ea-b335-c44ef215c453 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@4c7d82d0
2025-07-31T22:41:26.643+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:26.643+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["da40f074-fe94-46ea-b335-c44ef215c453"],"client_context_id":"5253b833-9c15-4d65-83d0-f1619485213e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:26.656+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=da40f074-fe94-46ea-b335-c44ef215c453 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@d1bd640
2025-07-31T22:41:26.659+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:26.660+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["da40f074-fe94-46ea-b335-c44ef215c453"],"client_context_id":"0a90b9ae-bb20-4375-ad94-55b2ffed46de","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:27.427+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@46aa182
2025-07-31T22:41:27.429+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:27.429+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a06d2436-7306-4d10-9da6-cd8e759b4764","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:27.435+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@290f358b
2025-07-31T22:41:27.437+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:27.443+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"415426cf-6363-43cb-a3e9-e7f4990f625d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:27.456+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:27.457+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"9a2cbda9-c5e3-4379-b8d9-4a1a8298c5af","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:27.469+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:27.470+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"3713266f-6298-450d-83a4-9c1b1e03b724","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:27.484+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@22d19dc0
2025-07-31T22:41:27.486+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:27.487+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ba56f541-c544-41d3-a021-c560ab0bdd3f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:27.492+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4e5b7c03
2025-07-31T22:41:27.494+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:27.495+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9875c889-c706-4d5c-99fa-d9a35a11fbc8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:27.502+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:27.502+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"fc23c860-a444-42dd-91e1-4b24ec2d988d","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:27.511+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:27.512+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"cb5d3bd6-d924-45b3-8488-7a3715193579","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:28.021+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=9956e90c-5704-48f7-83ba-32404c9aa839 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@ed6b3be
2025-07-31T22:41:28.024+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:28.024+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["9956e90c-5704-48f7-83ba-32404c9aa839"],"client_context_id":"123b19de-841f-4d74-8883-c4462915976e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:28.035+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=9956e90c-5704-48f7-83ba-32404c9aa839 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@2f2d379a
2025-07-31T22:41:28.037+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:28.038+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["9956e90c-5704-48f7-83ba-32404c9aa839"],"client_context_id":"753c1d75-f98f-4a2e-b929-3084f980e368","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:28.695+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7276f910
2025-07-31T22:41:28.697+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:28.698+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"9916292f-f820-4746-8f79-543dd21aad3a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:28.706+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1d78bc7c
2025-07-31T22:41:28.709+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:28.710+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"30b088e6-c31b-45b0-8115-9c2bc760091d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:28.717+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:28.718+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"4de67d41-9a2b-4349-9f42-32b5ef5f9382","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:28.728+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:28.729+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"395fb91f-7743-407a-bb6a-0a7da3573638","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:28.744+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@8bd14ad
2025-07-31T22:41:28.746+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:28.747+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"ed934b17-5b75-4924-a97b-035391719e6b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:28.752+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@c99b59b
2025-07-31T22:41:28.754+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:28.755+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a2937e6d-42a6-4cb1-a750-b246fcb79337","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:28.761+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:28.762+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"34afc158-f624-4e60-a2f6-1dfba7568931","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:28.770+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:28.771+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"2a5f5e0a-f83d-4676-a791-4fe33adbd6a5","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:29.251+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@3a93d0b0
2025-07-31T22:41:29.253+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4fb5caae
2025-07-31T22:41:29.255+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:29.256+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e1340111-f940-4fdb-be14-c72e6b1692a4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:29.261+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@61246105
2025-07-31T22:41:29.262+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@748aa246
2025-07-31T22:41:29.264+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:29.265+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"4c61dee9-6143-4c6e-a1ad-f27da02632dc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:29.271+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@50b8fa37
2025-07-31T22:41:29.272+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:29.273+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"d1c2b519-2113-4412-8670-69d8762e093e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:29.283+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@3929621a
2025-07-31T22:41:29.285+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@c17203a
2025-07-31T22:41:29.286+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:29.287+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a2fab1bd-4dd0-4878-9ad8-50dc1194ffa8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:29.293+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@158d91b0
2025-07-31T22:41:29.294+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2e7d8bfc
2025-07-31T22:41:29.296+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:29.296+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"042caf72-cbcd-40f0-8e4d-8206b97a1152","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:29.303+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5c36059b
2025-07-31T22:41:29.305+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:29.305+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"d58aaf13-5b7e-49ba-b900-df3be39ff231","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:30.010+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@36781061
2025-07-31T22:41:30.012+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:30.013+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"bb017be6-b294-45ba-9da4-ff996d614c71","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:30.017+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@496337cc
2025-07-31T22:41:30.019+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:30.019+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"6a7db7de-27a1-442e-87cf-e3b81c45a366","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:30.026+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:30.026+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"db1dc558-39ac-4d9f-beb5-618992e60ec0","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:30.035+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:30.036+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"bb353f6f-94ab-46b7-b7a0-28d20d1c45eb","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:30.047+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@342e33dc
2025-07-31T22:41:30.049+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:30.049+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"f0874fd3-937f-4a0b-8918-340aa408f762","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:30.054+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@67545acf
2025-07-31T22:41:30.056+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:30.056+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"71f53ab0-7273-4052-8b61-1713ec78ee7b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:30.061+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:30.062+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"fe89fa5d-d524-4c28-8543-238840a2266d","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:30.068+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:30.068+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"8affe44a-326f-4b61-b1b7-5a7c7bdc3918","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:31.705+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ec96ee5d-a843-440e-9255-2e3a714d4b55 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@ddda668
2025-07-31T22:41:31.707+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:31.708+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ec96ee5d-a843-440e-9255-2e3a714d4b55"],"client_context_id":"4ccef832-37a5-4b89-8c00-e6e06913533d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:31.722+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ec96ee5d-a843-440e-9255-2e3a714d4b55 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@31b9ba34
2025-07-31T22:41:31.727+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:31.728+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ec96ee5d-a843-440e-9255-2e3a714d4b55"],"client_context_id":"ec1b9d1e-e0a7-4f8f-a243-676294ce14bc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:32.526+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6915e8d7
2025-07-31T22:41:32.529+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:32.530+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"8b491365-7ecf-4fc7-bade-0ac45f06e81a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:32.536+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@10ecf454
2025-07-31T22:41:32.538+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:32.539+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"436ee7e7-c908-4ee8-8250-5f0dfc290500","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:32.545+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:32.546+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"7fb95027-59c2-41e1-ad2c-acb44b2fad64","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:32.553+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:32.554+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"3aae16d4-4199-4449-b529-2ba6a3cd8c90","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:32.567+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@69a85732
2025-07-31T22:41:32.568+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:32.569+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"7fcc835f-5ec1-4d85-9bd2-89bff3a73fd3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:32.574+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2f7f3c7a
2025-07-31T22:41:32.576+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:32.576+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"15855fe9-b062-4599-a5c5-b8cb4b288f42","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:32.582+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:32.583+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"b5451175-9499-4dd2-b3ed-9ebe85d79b31","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:32.591+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:32.592+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"e24e42d1-19fc-4cbf-bb08-12d984fbc9fc","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:34.904+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@222f914c
2025-07-31T22:41:34.906+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7a6c4229
2025-07-31T22:41:34.908+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:34.909+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"a7128d5b-9983-4738-ba63-6fdbffbbca5a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:34.918+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7a5e9965
2025-07-31T22:41:34.920+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2425c293
2025-07-31T22:41:34.922+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:34.922+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0396444a-e676-4427-8078-ba2609429c4a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:34.929+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3c40a134
2025-07-31T22:41:34.932+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:34.932+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"f240189b-fb87-4d77-a6d3-d5e0732bd27d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:34.942+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@2cd18650
2025-07-31T22:41:34.943+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2489f4a
2025-07-31T22:41:34.945+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:34.945+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"0f4f3376-84f3-4ca4-a10e-401f58a85f21","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:34.951+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@62c6878d
2025-07-31T22:41:34.952+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2138e514
2025-07-31T22:41:34.954+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:34.954+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"811fb9c1-adbe-44a6-957f-8dc6bab62f10","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:34.959+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1fb1465
2025-07-31T22:41:34.961+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:34.962+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"cbb14736-a1a0-4b6e-bb50-9c456c22c1ef","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:36.043+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7357d94f
2025-07-31T22:41:36.045+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:36.048+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"119a5143-e9b3-4608-a913-47b85066723e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:36.056+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@526ecdf1
2025-07-31T22:41:36.058+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:36.058+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d986f10f-6ac0-4914-afea-84bb47b06e61","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:36.065+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:36.066+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"cd21e932-860a-4494-a9d2-83d44ed22253","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:36.075+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:36.075+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"9c3a56d8-d266-4f55-8219-b2c351d1f6f6","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:36.090+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@520cafde
2025-07-31T22:41:36.091+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:36.092+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"60f23765-d194-470f-9750-3301f3f121fb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:36.098+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3efa62d9
2025-07-31T22:41:36.100+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:36.100+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"18886a9e-3406-41bc-8102-d13493cab15d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:36.106+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:36.107+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"6ba9d38f-4cfb-46d2-95f4-82e02c43a7de","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:36.116+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:36.117+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"a501d0ad-b721-4850-889b-21b67918f952","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:37.356+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=9956e90c-5704-48f7-83ba-32404c9aa839 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@5972caec
2025-07-31T22:41:37.358+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:37.358+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["9956e90c-5704-48f7-83ba-32404c9aa839"],"client_context_id":"5e53ee37-5eff-4bb3-ba0c-d299022b6088","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:37.370+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=9956e90c-5704-48f7-83ba-32404c9aa839 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@4a5caaa1
2025-07-31T22:41:37.372+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:41:37.372+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["9956e90c-5704-48f7-83ba-32404c9aa839"],"client_context_id":"a63b6d83-0950-4104-acb1-347b0c436ff6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:38.124+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@478f79df
2025-07-31T22:41:38.126+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:38.126+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"cd8a3428-3d21-4a7c-aa2a-e5deab851115","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:38.131+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@11a3644c
2025-07-31T22:41:38.133+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:38.133+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"75e40f74-c17b-422f-a534-c3ac9090efea","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:38.138+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:38.139+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"deb136ae-84f0-403d-986f-a7f2ff544b72","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:38.147+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:38.148+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"565e1806-edcf-4fb5-8b1a-0a56aeb49c56","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:38.162+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4510ecc9
2025-07-31T22:41:38.164+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:38.164+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"43276e69-a9fa-4454-b486-9467a7344eae","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:38.170+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@39849645
2025-07-31T22:41:38.172+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:41:38.173+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"d26a82fc-5b8e-4f26-8dd2-34b230ea705a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:41:38.179+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name))) ORDER BY createdDateTime DESC LIMIT 12
2025-07-31T22:41:38.180+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"d85b060d-8a8c-4f2f-acdf-910c47084c6c","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:41:38.189+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT(*) AS count FROM (SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE (accessType = 'PUBLIC' OR (accessType = 'GROUP' AND teamId IN $userTeamIds) OR (accessType = 'PRIVATE' AND createdBy = $userId)) AND ($name = '' OR contains(lower(`name`), lower($name)))) predicate_query
2025-07-31T22:41:38.189+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"$name":"","$userId":"8e5a59f8-cef9-435d-9271-4ba92a70906e","client_context_id":"0b20eafc-5dcb-41d3-9bd0-8141cef5d807","metrics":false,"$userTeamIds":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:42:07.057+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-31T22:42:07.058+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin@example.com"],"client_context_id":"c211ffe8-5328-46d4-a029-e948a9e4c793","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:07.140+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:07.141+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"72d23acd-be69-4565-9c27-952ef72f6941","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:07.145+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7fb07c5c
2025-07-31T22:42:07.146+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@71334492
2025-07-31T22:42:07.148+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@59e6caf0
2025-07-31T22:42:07.149+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@263f33c6
2025-07-31T22:42:07.150+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5a11f9c1
2025-07-31T22:42:07.506+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@22459c93
2025-07-31T22:42:07.508+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:07.511+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"19c7b85c-4f05-4445-9ccb-03c9a048e855","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:07.518+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@748ff84d
2025-07-31T22:42:07.519+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3b65699a
2025-07-31T22:42:07.521+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4833482c
2025-07-31T22:42:07.522+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@461cf4bd
2025-07-31T22:42:07.524+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4dda21a3
2025-07-31T22:42:07.528+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:42:07.528+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"9f574c4b-c28d-48af-87c5-78bfd461aec0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:07.535+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:42:07.536+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"04c57ae4-f83b-4939-92f0-e88a04b075f4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:07.548+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4447973e
2025-07-31T22:42:07.550+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:07.550+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"75de6d1b-88a8-4850-86a1-17f403366d1c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:07.556+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4efcf47f
2025-07-31T22:42:07.557+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@770ca595
2025-07-31T22:42:07.559+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@582a0077
2025-07-31T22:42:07.560+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@20ac922b
2025-07-31T22:42:07.561+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@9dac54d
2025-07-31T22:42:07.563+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:42:07.563+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"18c363da-4b42-485a-b129-89ae78ba492a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:07.570+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:42:07.571+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"022b0e08-90b8-4c2f-83a9-3d5a911dda97","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:09.487+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ec96ee5d-a843-440e-9255-2e3a714d4b55 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@77d52329
2025-07-31T22:42:09.490+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:42:09.490+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ec96ee5d-a843-440e-9255-2e3a714d4b55"],"client_context_id":"30df4460-77a2-4e44-83bc-0bdb0115360b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:09.506+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ec96ee5d-a843-440e-9255-2e3a714d4b55 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@7454bd9b
2025-07-31T22:42:09.509+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:42:09.509+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ec96ee5d-a843-440e-9255-2e3a714d4b55"],"client_context_id":"0fa4b693-cadf-4847-bec9-4b16a1d9de4f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:09.789+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4813b6b3
2025-07-31T22:42:09.791+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:09.792+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5bd2b8a4-390b-4517-a453-6e3d465ebc95","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:09.809+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@21de5076
2025-07-31T22:42:09.811+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@42a5a8f
2025-07-31T22:42:09.813+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@27c84ff2
2025-07-31T22:42:09.815+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72bbc396
2025-07-31T22:42:09.817+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@21b56057
2025-07-31T22:42:09.820+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:42:09.820+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"1c54dfcf-6355-4288-9713-86ee82a70a68","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:09.828+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:42:09.828+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"1213d1b5-72c3-4fd1-82cb-4e8420f79bbb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:09.838+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3210b69b
2025-07-31T22:42:09.840+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:09.841+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e592cf14-58ac-4e2f-a2b7-1be040a02b19","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:09.846+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@72726292
2025-07-31T22:42:09.847+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@626d02ae
2025-07-31T22:42:09.848+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@16acb6b4
2025-07-31T22:42:09.850+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@21bf6e94
2025-07-31T22:42:09.851+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@40b8fec3
2025-07-31T22:42:09.853+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:42:09.853+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"258b22b1-cd34-4b96-aeeb-5b97c6392162","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:09.860+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:42:09.860+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2d8d4081-3490-456c-90a1-d5a896c2da68","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:09.854+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=f560409a-778b-49d0-a6ba-b0b44d4266cc scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@1be8e9ee
2025-07-31T22:42:09.856+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:42:09.857+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["f560409a-778b-49d0-a6ba-b0b44d4266cc"],"client_context_id":"9e573681-d842-47cb-9586-10e18f058678","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:09.867+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=f560409a-778b-49d0-a6ba-b0b44d4266cc scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@12a98c0e
2025-07-31T22:42:09.870+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:42:09.870+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["f560409a-778b-49d0-a6ba-b0b44d4266cc"],"client_context_id":"574358b9-0c82-4c42-a013-26d510cb6566","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:10.500+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5071e7a5
2025-07-31T22:42:10.501+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:10.502+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6275a011-0d6e-4aaf-a3c5-911c57701bcb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:10.506+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@12c52fc6
2025-07-31T22:42:10.508+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@f6ea565
2025-07-31T22:42:10.509+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5e876976
2025-07-31T22:42:10.509+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@194f1cc
2025-07-31T22:42:10.510+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3a144527
2025-07-31T22:42:10.512+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:42:10.512+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"faffb760-e5fb-45d6-a3d9-b082a5afa210","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:10.518+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:42:10.518+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"e88c87d5-96e5-4102-96c8-f7e6abfb3c75","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:10.527+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@771da8cc
2025-07-31T22:42:10.529+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:10.530+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"32b9baac-a082-444c-a3ec-5c0a7a4f8bab","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:10.534+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@12cfde02
2025-07-31T22:42:10.535+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3e4418be
2025-07-31T22:42:10.537+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@34f960f9
2025-07-31T22:42:10.537+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2eb8e562
2025-07-31T22:42:10.539+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@426b0179
2025-07-31T22:42:10.540+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:42:10.540+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"c9f81ca5-8564-40ff-a652-66074565e71a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:10.545+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:42:10.546+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"0e55cbcd-84a7-4509-bc76-4a14389ee7ae","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:10.938+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=da40f074-fe94-46ea-b335-c44ef215c453 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@4acafc08
2025-07-31T22:42:10.940+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:42:10.941+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["da40f074-fe94-46ea-b335-c44ef215c453"],"client_context_id":"64e0cd45-a63c-4d38-9496-dadc6db982c0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:10.952+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=da40f074-fe94-46ea-b335-c44ef215c453 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@13c97b5c
2025-07-31T22:42:10.954+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:42:10.954+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["da40f074-fe94-46ea-b335-c44ef215c453"],"client_context_id":"46a9b9da-af27-4b67-a42f-fee1e86782cf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:11.458+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@18a21b13
2025-07-31T22:42:11.460+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:11.461+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"be92f741-ca64-488e-84b3-8c68f9f66838","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:11.467+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4630bf45
2025-07-31T22:42:11.468+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4a24a600
2025-07-31T22:42:11.469+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@14339ab6
2025-07-31T22:42:11.470+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1c4171a0
2025-07-31T22:42:11.471+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5f483ffa
2025-07-31T22:42:11.473+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:42:11.473+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"83b34273-5512-409e-9bca-39549e260a66","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:11.480+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:42:11.480+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"cda763b1-b397-4d67-a047-2ade6f858590","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:11.491+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@40ab9a8d
2025-07-31T22:42:11.493+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:11.493+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c0c5fba3-0466-4739-9fa8-4e17e843a00b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:11.497+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@25828737
2025-07-31T22:42:11.499+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3be18da
2025-07-31T22:42:11.499+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1b9b48f7
2025-07-31T22:42:11.500+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7f8d6fb
2025-07-31T22:42:11.501+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@36f2420c
2025-07-31T22:42:11.502+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:42:11.503+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"112b05b6-d124-4252-840f-1ca345fa9860","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:11.509+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:42:11.510+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3025d65c-dd3f-4c7e-b31c-1c320e498772","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:11.887+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@5c746062
2025-07-31T22:42:11.889+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@23f52dbd
2025-07-31T22:42:11.890+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:11.891+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"30b02cb8-343d-4112-920d-380804e9e464","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:11.897+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4a0f5f54
2025-07-31T22:42:11.900+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5075efa5
2025-07-31T22:42:11.902+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f7df2b9
2025-07-31T22:42:11.904+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@25efba2e
2025-07-31T22:42:11.905+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@15aaa438
2025-07-31T22:42:11.907+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:42:11.907+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"e7f4d772-8bb2-45b8-b1f6-0f95eea841f1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:11.916+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=41622378-79bc-48c7-9536-2594074303e4 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@3920faf3
2025-07-31T22:42:11.918+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6331e88d
2025-07-31T22:42:11.920+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:11.920+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"59919d18-9a6d-4cb9-9dfd-f076a7433e8e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:11.925+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@64f84cce
2025-07-31T22:42:11.927+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@79cfc6e5
2025-07-31T22:42:11.928+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@47864c4d
2025-07-31T22:42:11.929+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2b1fb1b0
2025-07-31T22:42:11.930+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@da70621
2025-07-31T22:42:11.931+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:42:11.932+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["41622378-79bc-48c7-9536-2594074303e4"],"client_context_id":"f009ccde-fd02-4479-8d2f-05592c06c55d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:12.579+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@57b08ec4
2025-07-31T22:42:12.581+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:12.582+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e1edf147-b8aa-4cb1-b2cc-e2c218764182","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:12.587+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@89fd9d2
2025-07-31T22:42:12.588+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5464f6b6
2025-07-31T22:42:12.590+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@c2f64fd
2025-07-31T22:42:12.591+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5f3a1d12
2025-07-31T22:42:12.592+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@291d0e6e
2025-07-31T22:42:12.593+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:42:12.593+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8e797039-6c54-477f-812b-6017236ba799","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:12.599+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:42:12.599+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"07e6b626-62d5-47cb-a1cf-498f8ac3a743","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:12.607+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@303386b5
2025-07-31T22:42:12.608+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:42:12.609+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"dbe064d6-0119-4a3c-afc1-e16e145fe730","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:12.613+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@38dd4c2f
2025-07-31T22:42:12.614+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f86f6e5
2025-07-31T22:42:12.615+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@312fbb00
2025-07-31T22:42:12.615+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1d8585be
2025-07-31T22:42:12.616+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4feb0e15
2025-07-31T22:42:12.618+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:42:12.618+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3c879917-90dd-4df2-9719-8bc7f059175b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:42:12.624+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:42:12.624+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"aeb96591-a0ec-4d11-84ec-9847d861604c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:44:42.654+08:00  INFO 43661 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":274,"percentiles_us":{"50.0":4653.055,"90.0":7077.887,"99.0":14024.703,"99.9":148897.791,"100.0":148897.791}}},"kv":{"get":{"total_count":320,"percentiles_us":{"50.0":638.975,"90.0":856.063,"99.0":1179.647,"99.9":1261.567,"100.0":1261.567}},"upsert":{"total_count":1,"percentiles_us":{"50.0":1204.223,"90.0":1204.223,"99.0":1204.223,"99.9":1204.223,"100.0":1204.223}}}},"meta":{"emit_interval_s":600}}
2025-07-31T22:45:54.187+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@45f9f4c0
2025-07-31T22:45:54.190+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:45:54.190+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f7261793-861d-475f-b1de-8cf66ed3b9df","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:45:54.198+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@456a9101
2025-07-31T22:45:54.199+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@612c5982
2025-07-31T22:45:54.200+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6bf9ee93
2025-07-31T22:45:54.200+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@493c1484
2025-07-31T22:45:54.201+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@58cf663b
2025-07-31T22:45:54.203+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:45:54.203+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"6152d088-b196-4063-a097-0b53dd6d0635","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:45:54.208+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:45:54.209+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"123059f5-1b76-49b8-aa22-9ebac3dbeb8c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:45:54.219+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6add69ef
2025-07-31T22:45:54.220+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:45:54.221+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"bcac51a1-f335-4e9e-a058-bbd3b15384c6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:45:54.226+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2a75b637
2025-07-31T22:45:54.228+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7293479d
2025-07-31T22:45:54.229+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3258b693
2025-07-31T22:45:54.229+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@334b2326
2025-07-31T22:45:54.230+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3408ef76
2025-07-31T22:45:54.232+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:45:54.232+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"399b29e6-f16e-4ddf-8937-6762797e4ce2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:45:54.237+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:45:54.237+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"747f926e-2a5e-44f4-b7cf-593d3cf3e0cc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.573+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.574+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5d341f79-dc82-4af6-a3fd-3895b5b2ad6b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.581+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T22:46:08.582+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"f88b6b59-4ecb-4266-a7f4-91d8caffeead","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:46:08.587+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7f49c0ac
2025-07-31T22:46:08.588+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.589+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b423b083-59ab-4e03-9bf2-ceeb47c98875","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.593+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@298d6cc4
2025-07-31T22:46:08.594+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1caef1da
2025-07-31T22:46:08.595+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@56b0c720
2025-07-31T22:46:08.595+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@67cd21fa
2025-07-31T22:46:08.596+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@25648a8b
2025-07-31T22:46:08.597+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4eaf8fdc
2025-07-31T22:46:08.598+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.598+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3e16887b-fcae-44ca-8078-42422687155c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.602+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1ef6d8ee
2025-07-31T22:46:08.603+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@103ae83b
2025-07-31T22:46:08.604+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@110b0865
2025-07-31T22:46:08.605+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2368b4f7
2025-07-31T22:46:08.605+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@bf139dc
2025-07-31T22:46:08.606+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4c4d73a9
2025-07-31T22:46:08.607+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.607+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"06514f94-d6e4-4b83-8319-68ec9896115d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.611+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@54c0265
2025-07-31T22:46:08.612+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6365d137
2025-07-31T22:46:08.613+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@61d83b5e
2025-07-31T22:46:08.614+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@46afccf7
2025-07-31T22:46:08.619+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2315b16d
2025-07-31T22:46:08.621+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6eb42051
2025-07-31T22:46:08.622+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.622+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6a445079-c243-45c5-8fd4-967fd6f20784","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.626+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4e96f412
2025-07-31T22:46:08.628+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@76665143
2025-07-31T22:46:08.628+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@78f6083b
2025-07-31T22:46:08.629+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@370f09dc
2025-07-31T22:46:08.630+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4e404d4b
2025-07-31T22:46:08.631+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@a68f189
2025-07-31T22:46:08.632+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.633+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"36145e26-eff9-4bf2-bd8f-7f866c2c2b74","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.636+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4297972f
2025-07-31T22:46:08.638+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@d193748
2025-07-31T22:46:08.638+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@41ff19b5
2025-07-31T22:46:08.639+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@c564cba
2025-07-31T22:46:08.640+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72868cf0
2025-07-31T22:46:08.641+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@128061dc
2025-07-31T22:46:08.643+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.644+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"58bfcd67-2622-40b5-a756-26dda729c5a4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.648+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1881e51d
2025-07-31T22:46:08.649+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6b80f237
2025-07-31T22:46:08.650+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6bb58119
2025-07-31T22:46:08.651+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7aaa9332
2025-07-31T22:46:08.652+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6d143877
2025-07-31T22:46:08.653+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1696ea8
2025-07-31T22:46:08.654+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.654+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2d047f0f-e541-485a-9dc6-9edfcfb4dfe1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.658+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@46939ad5
2025-07-31T22:46:08.659+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@688ea236
2025-07-31T22:46:08.660+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2495f8d0
2025-07-31T22:46:08.661+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6ec3dec4
2025-07-31T22:46:08.661+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@345cb4fb
2025-07-31T22:46:08.662+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@29de3f54
2025-07-31T22:46:08.663+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.664+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b51099b9-59e4-4232-aa47-3827d1679d87","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.668+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@228611c7
2025-07-31T22:46:08.669+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5243dead
2025-07-31T22:46:08.671+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5b95e8d4
2025-07-31T22:46:08.672+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@498fd248
2025-07-31T22:46:08.672+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5f5cb62
2025-07-31T22:46:08.673+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4c4efa6d
2025-07-31T22:46:08.674+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.675+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e38585bb-4fc6-466c-8380-75c80f4530d4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.679+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@38e96878
2025-07-31T22:46:08.680+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@f43e0bf
2025-07-31T22:46:08.681+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@244684ee
2025-07-31T22:46:08.682+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1fe08f99
2025-07-31T22:46:08.682+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6c398eb5
2025-07-31T22:46:08.683+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7cefdd95
2025-07-31T22:46:08.684+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.684+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"abf669e0-76f7-45d3-acb9-b30e1ae5a086","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.689+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6c9e5712
2025-07-31T22:46:08.690+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7719915f
2025-07-31T22:46:08.691+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@57f5e52f
2025-07-31T22:46:08.691+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@55749931
2025-07-31T22:46:08.692+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4b4c624a
2025-07-31T22:46:08.693+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@70e48115
2025-07-31T22:46:08.694+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.694+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"10ca5521-f448-4113-9751-531e65a0c4ff","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.698+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@8c0debb
2025-07-31T22:46:08.699+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@790c7383
2025-07-31T22:46:08.700+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@51fa10da
2025-07-31T22:46:08.700+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5c2cfd9
2025-07-31T22:46:08.701+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@bf9fcdc
2025-07-31T22:46:08.702+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1173064b
2025-07-31T22:46:08.703+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:08.704+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f804eaa3-c9cf-4f5f-b237-9d0bc8913807","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.707+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@100eb87f
2025-07-31T22:46:08.708+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3a101a0
2025-07-31T22:46:08.709+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@477a0214
2025-07-31T22:46:08.710+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4eb205ee
2025-07-31T22:46:08.711+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2b1a8107
2025-07-31T22:46:08.712+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T22:46:08.713+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T22:46:08.713+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"7f54ea81-898b-413b-ae0b-d76c7099d546","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:08.718+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T22:46:08.719+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T22:46:08.720+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"03d52f03-4fe6-44d5-8ceb-543cd200f8ff","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T22:46:23.515+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=com.ecom.ai.ecomassistant.db.model.Dataset@683f7029 scope: AI collection: dataset options: null
2025-07-31T22:46:23.516+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: com.ecom.ai.ecomassistant.db.model.Dataset@683f7029
2025-07-31T22:46:23.517+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:46:23.526+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5742f8d3
2025-07-31T22:46:23.527+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:23.528+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"7c2ad86d-6fca-4337-ab09-748c69897c44","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:23.534+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2ae07024
2025-07-31T22:46:23.535+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3dec58cb
2025-07-31T22:46:23.536+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7d28bbc5
2025-07-31T22:46:23.536+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2bf3875e
2025-07-31T22:46:23.537+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@23bb354
2025-07-31T22:46:23.538+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:46:23.538+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a5f670f6-d122-4fc6-a94e-344fa1ee1bcd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:23.543+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:46:23.544+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"137628f7-477f-4cb4-adc0-f5491f9d7331","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:26.469+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@5bacc4e9
2025-07-31T22:46:26.471+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:46:26.472+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"cd18109b-e4c5-4f6c-acfc-ddcd72152b3b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:26.482+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@5ccff9c5
2025-07-31T22:46:26.484+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:46:26.485+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"b164c79c-f585-403b-a0b2-099387481d9e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:55.224+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@3ddb9b1c
2025-07-31T22:46:55.226+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6c5aa7e0
2025-07-31T22:46:55.227+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:55.228+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"7fd31e52-65e2-4df6-b3db-018fda50c78f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:55.233+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7e75d4a7
2025-07-31T22:46:55.234+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@291bc561
2025-07-31T22:46:55.235+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@10c71205
2025-07-31T22:46:55.236+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@328bc110
2025-07-31T22:46:55.237+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@620beb0a
2025-07-31T22:46:55.246+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=com.ecom.ai.ecomassistant.db.model.Document@d4f6df0 scope: AI collection: document options: null
2025-07-31T22:46:55.257+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: com.ecom.ai.ecomassistant.db.model.Document@d4f6df0
2025-07-31T22:46:55.261+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:46:55.299+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.e.listener.AiFileEventListener   : Processing file upload with Q/A generation: Couchbase 使用說明文件 - 1.pdf (dataset: ab928e07-6097-4a93-8f13-1db082dfb681, document: 0743bb0b-1a48-40b6-9526-6c1983ae9853)
2025-07-31T22:46:55.310+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@1d3b55e4
2025-07-31T22:46:55.312+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.ai.service.EtlService            : Processing file with Q/A generation: Couchbase 使用說明文件 - 1.pdf (dataset: public_test)
2025-07-31T22:46:55.320+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@691a3376
2025-07-31T22:46:55.322+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:46:55.323+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"4a24ea1d-afea-4aed-a00a-34ba438e2f8d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:55.346+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:46:55.347+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@58a9082
2025-07-31T22:46:55.348+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:46:55.349+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"d3738500-333c-4ab4-856f-f91ef3257b8c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:46:55.353+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5113cace
2025-07-31T22:46:55.354+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3ab0d992
2025-07-31T22:46:55.355+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@662621e5
2025-07-31T22:46:55.356+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3779b323
2025-07-31T22:46:55.357+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@78735ab8
2025-07-31T22:46:55.358+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:46:55.358+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:46:55.360+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:46:55.361+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"d6c4a29c-62ab-4a44-8a47-b584ca85aaf6","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:46:55.489+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : QA stats for document 0743bb0b-1a48-40b6-9526-6c1983ae9853: total=0, pending=0, approved=0, rejected=0
2025-07-31T22:46:55.651+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Processing PDF with 9 pages
2025-07-31T22:46:56.077+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Processing 2 images in parallel for page 1
2025-07-31T22:47:09.447+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@700850d0
2025-07-31T22:47:09.450+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:09.450+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8677c24c-4afb-4745-ad35-30ff6f83993b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:09.458+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@343c456f
2025-07-31T22:47:09.460+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@c64f328
2025-07-31T22:47:09.461+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f8a5428
2025-07-31T22:47:09.463+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@29d16f95
2025-07-31T22:47:09.464+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7f9040fd
2025-07-31T22:47:09.465+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:47:09.466+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a61683d2-c569-483d-b20b-329286329d61","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:09.472+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:47:09.472+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8c858a75-e127-4fca-9309-78e6e7a2aca0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:09.486+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2b5420e1
2025-07-31T22:47:09.488+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:09.488+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a7c7076d-836c-47c1-b2cf-da5612c381d5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:09.493+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@416c74be
2025-07-31T22:47:09.494+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@32ec40ba
2025-07-31T22:47:09.495+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@114e96f3
2025-07-31T22:47:09.496+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1b17ff13
2025-07-31T22:47:09.496+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@397ca14b
2025-07-31T22:47:09.497+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:47:09.498+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"96d45f43-88a5-4a6d-8013-2d0e1b6e125f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:09.502+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:47:09.503+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"f6487eab-c9f4-4538-a05c-e511e489dd59","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:11.935+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Position sorted content for page 1: 8 text elements, 2 image elements
2025-07-31T22:47:11.994+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Processing 3 images in parallel for page 2
2025-07-31T22:47:28.195+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Position sorted content for page 2: 6 text elements, 3 image elements
2025-07-31T22:47:28.209+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Processing 1 images in parallel for page 3
2025-07-31T22:47:37.926+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Position sorted content for page 3: 10 text elements, 1 image elements
2025-07-31T22:47:37.952+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Processing 1 images in parallel for page 4
2025-07-31T22:47:42.092+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.094+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"82a951ef-dd60-4ac4-bd59-97e308c697c6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.101+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T22:47:42.101+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"89a47b28-5391-4915-92cc-1463196825d5","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:47:42.107+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5db74e88
2025-07-31T22:47:42.109+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.109+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c5e13dcb-0ede-4ee5-b69e-48ce33cbb027","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.113+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3cb3f7bb
2025-07-31T22:47:42.114+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@73f019b3
2025-07-31T22:47:42.115+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@435cdcbc
2025-07-31T22:47:42.116+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@74a21ff2
2025-07-31T22:47:42.116+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@79d80e2a
2025-07-31T22:47:42.118+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@a16bd23
2025-07-31T22:47:42.120+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.121+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"97e6521b-2b2b-42bb-8243-e3c61c358786","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.125+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2f0a29e1
2025-07-31T22:47:42.127+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4bb3fe7d
2025-07-31T22:47:42.127+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72a3107f
2025-07-31T22:47:42.128+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d6344ad
2025-07-31T22:47:42.129+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@335829c1
2025-07-31T22:47:42.130+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@674c79c1
2025-07-31T22:47:42.131+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.131+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6e840497-d332-4c62-832d-02372a0f0822","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.135+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@d06bdbf
2025-07-31T22:47:42.137+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5a17d69e
2025-07-31T22:47:42.138+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@28f3ea3c
2025-07-31T22:47:42.139+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2c750c92
2025-07-31T22:47:42.140+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@14a6b7e6
2025-07-31T22:47:42.141+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@70e120ca
2025-07-31T22:47:42.142+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.142+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"dccebd5c-ae15-4fb2-90bc-85a8ceeeaf8b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.146+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@477486e0
2025-07-31T22:47:42.147+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@43610300
2025-07-31T22:47:42.148+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@62d9950d
2025-07-31T22:47:42.149+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1b471eec
2025-07-31T22:47:42.149+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@78e7c8e2
2025-07-31T22:47:42.150+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@33d5bdfd
2025-07-31T22:47:42.152+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.152+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c96f9e51-b168-47da-a3ed-fc58a723fe34","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.155+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1d8a3777
2025-07-31T22:47:42.156+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3e99fa54
2025-07-31T22:47:42.157+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@787f95bd
2025-07-31T22:47:42.158+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@66dbe51a
2025-07-31T22:47:42.159+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2aa65739
2025-07-31T22:47:42.160+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5b9c4363
2025-07-31T22:47:42.161+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.161+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a0622709-a70e-4502-a1f9-8cd087e16e2b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.166+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5f4ae7d0
2025-07-31T22:47:42.167+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@66002a16
2025-07-31T22:47:42.167+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7e07b670
2025-07-31T22:47:42.168+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@47397588
2025-07-31T22:47:42.169+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4f456ed8
2025-07-31T22:47:42.170+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@28f2adbc
2025-07-31T22:47:42.170+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.171+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"36a0d29a-04f8-4d17-b714-e54955c4ebb5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.174+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6b853ae4
2025-07-31T22:47:42.175+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@679c9729
2025-07-31T22:47:42.176+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3cb16ac
2025-07-31T22:47:42.176+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3e69d424
2025-07-31T22:47:42.177+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7c798b17
2025-07-31T22:47:42.178+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7f5f6e6e
2025-07-31T22:47:42.179+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.179+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"1476c283-bee0-4d72-b183-26b91ff1051a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.182+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@24fa795f
2025-07-31T22:47:42.183+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@54c24110
2025-07-31T22:47:42.184+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@64d349ac
2025-07-31T22:47:42.184+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@60fb6746
2025-07-31T22:47:42.185+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@173cca87
2025-07-31T22:47:42.186+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5130c3b1
2025-07-31T22:47:42.187+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.187+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"815552cb-17ed-4a20-a8cc-1f46fc86c275","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.190+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2fd06e12
2025-07-31T22:47:42.191+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@142aedf9
2025-07-31T22:47:42.192+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@65b36509
2025-07-31T22:47:42.193+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@32c90f45
2025-07-31T22:47:42.193+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1e4557f0
2025-07-31T22:47:42.194+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5dc334e4
2025-07-31T22:47:42.195+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.195+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6b62e29b-b69d-4360-9feb-8f2c9efb51a6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.198+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@23a69978
2025-07-31T22:47:42.200+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@596f096e
2025-07-31T22:47:42.200+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6da12f64
2025-07-31T22:47:42.201+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@29015220
2025-07-31T22:47:42.202+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3e7b7321
2025-07-31T22:47:42.202+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1f7e39f9
2025-07-31T22:47:42.203+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.203+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f646654d-1ebc-4be5-afc7-7608e82cfb0b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.207+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7bc0ff7d
2025-07-31T22:47:42.208+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@58f32277
2025-07-31T22:47:42.209+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3d74b033
2025-07-31T22:47:42.210+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@53abf795
2025-07-31T22:47:42.211+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f6cd18a
2025-07-31T22:47:42.212+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6e4dbe8a
2025-07-31T22:47:42.213+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:47:42.213+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"14f3d9f7-34a2-4456-bb82-14f976b25d23","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.216+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@76206e58
2025-07-31T22:47:42.217+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7a3b3856
2025-07-31T22:47:42.218+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3312461a
2025-07-31T22:47:42.218+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@30a8171c
2025-07-31T22:47:42.219+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@450fedff
2025-07-31T22:47:42.220+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T22:47:42.220+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T22:47:42.220+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"e3ae7874-b7ce-4ad6-9898-e2979cba116a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:47:42.224+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T22:47:42.225+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T22:47:42.225+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3d801b4c-5ded-4181-8166-ec9f985bcc52","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T22:48:13.972+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Position sorted content for page 4: 10 text elements, 1 image elements
2025-07-31T22:48:13.989+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Processing 1 images in parallel for page 5
2025-07-31T22:48:15.562+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:48:15.563+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3ba217a5-a916-45d4-bf4b-c38a8dfc05fc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:15.568+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@43d7901
2025-07-31T22:48:15.569+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3148a7ff
2025-07-31T22:48:15.570+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:48:15.571+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c6d900c6-62ea-419f-b058-9f59fcdad14d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:15.574+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4ec5ec4e
2025-07-31T22:48:15.575+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@68afed3
2025-07-31T22:48:15.576+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@69907a72
2025-07-31T22:48:15.577+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1d934fe0
2025-07-31T22:48:15.578+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7c556780
2025-07-31T22:48:15.579+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=com.ecom.ai.ecomassistant.db.model.Dataset@4751de88 scope: AI collection: dataset options: null
2025-07-31T22:48:15.580+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: com.ecom.ai.ecomassistant.db.model.Dataset@4751de88
2025-07-31T22:48:15.583+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:48:15.593+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@72efb201
2025-07-31T22:48:15.595+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:48:15.595+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b8d8beae-3ceb-4ada-8994-97c74317e204","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:15.599+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@205df75b
2025-07-31T22:48:15.600+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@490a9a64
2025-07-31T22:48:15.601+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@36f69a60
2025-07-31T22:48:15.602+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@39865905
2025-07-31T22:48:15.603+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@76ae9641
2025-07-31T22:48:15.604+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:48:15.605+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"bd6ebbf7-c2fe-447c-87e8-c272178a64ac","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:15.609+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:48:15.610+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b6fa6eac-5f0f-4232-a77b-9f5b0a154470","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:36.125+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Position sorted content for page 5: 10 text elements, 1 image elements
2025-07-31T22:48:36.138+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Processing 1 images in parallel for page 6
2025-07-31T22:48:36.859+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@54c60194
2025-07-31T22:48:36.861+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:48:36.862+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"11daaa4c-2af5-416c-a896-c0f5d4a1edec","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:36.890+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@69c5df4e
2025-07-31T22:48:36.891+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:48:36.892+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"9550e029-7960-4ce1-81f6-db9cb6026fab","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:36.902+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:48:36.902+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1c758d7
2025-07-31T22:48:36.904+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:48:36.904+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5aef3264-7744-451a-b23d-ba328a52edcd","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:36.909+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4d49963f
2025-07-31T22:48:36.911+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3b3a9d61
2025-07-31T22:48:36.912+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6086d4d5
2025-07-31T22:48:36.913+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5b3c29f2
2025-07-31T22:48:36.914+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5ac5b4c4
2025-07-31T22:48:36.915+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:48:36.915+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:48:36.916+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:48:36.916+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"45ed6747-a83e-4352-ba5d-77333d04cdc4","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:48:36.981+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : QA stats for document 0743bb0b-1a48-40b6-9526-6c1983ae9853: total=0, pending=0, approved=0, rejected=0
2025-07-31T22:48:36.986+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:48:36.987+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@c366264
2025-07-31T22:48:36.988+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:48:36.988+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"97480540-18e3-44dd-a03e-93d015027476","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:36.992+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5fc2332d
2025-07-31T22:48:36.993+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@340e90cc
2025-07-31T22:48:36.995+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@77c16af6
2025-07-31T22:48:36.996+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@485b1328
2025-07-31T22:48:36.997+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6ce1a55
2025-07-31T22:48:36.997+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:48:36.998+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:48:36.999+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:48:36.999+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"ceb1388f-7727-41e4-846a-31f457bdca83","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:48:37.064+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : QA stats for document 0743bb0b-1a48-40b6-9526-6c1983ae9853: total=0, pending=0, approved=0, rejected=0
2025-07-31T22:48:39.489+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@62087b90
2025-07-31T22:48:39.491+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:48:39.492+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"bf0d5e80-c05c-40d4-a91c-ca214dc487ea","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:39.499+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@5c1ae2ed
2025-07-31T22:48:39.500+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5f1a5b92
2025-07-31T22:48:39.502+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7e6f6f1a
2025-07-31T22:48:39.503+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@29064b4c
2025-07-31T22:48:39.504+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2280d90b
2025-07-31T22:48:39.506+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:48:39.506+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"dc392c3a-9f65-4de1-a6cf-1be87386a08c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:39.512+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:48:39.513+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a6e8829c-991e-4de5-b104-559eff6acb76","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:39.524+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4cc74eb7
2025-07-31T22:48:39.525+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:48:39.526+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f80206ff-ca93-4ef8-ae88-820ccf14f4a2","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:39.531+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@34045e51
2025-07-31T22:48:39.532+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@122496a0
2025-07-31T22:48:39.533+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@e4cbf82
2025-07-31T22:48:39.534+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7808ea0a
2025-07-31T22:48:39.535+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6e68c58c
2025-07-31T22:48:39.536+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:48:39.537+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"3bb70e7e-9756-48fe-9394-25d6118019a3","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:39.542+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:48:39.542+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"faa45fa2-c6bd-4740-af63-ee43cce24cb7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:48:49.538+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Position sorted content for page 6: 9 text elements, 1 image elements
2025-07-31T22:48:49.650+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Processing 2 images in parallel for page 7
2025-07-31T22:49:16.209+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Position sorted content for page 7: 10 text elements, 2 image elements
2025-07-31T22:49:16.243+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Processing 2 images in parallel for page 8
2025-07-31T22:49:25.876+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@5e35ac9a
2025-07-31T22:49:25.879+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:49:25.880+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"18179fb3-d914-48f7-9d7c-990c2fa90108","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:25.897+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@cd9258b
2025-07-31T22:49:25.899+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:49:25.900+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"02fbb29f-0d18-4f40-ba3f-3fa8f4a9899f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:25.902+08:00  INFO 43661 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:49:25.902+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@342a42ef
2025-07-31T22:49:25.904+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:25.904+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"7967cc9b-08ac-4ff3-84d1-2dd6c59ab6f0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:25.909+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2bde2d59
2025-07-31T22:49:25.911+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3f43013f
2025-07-31T22:49:25.912+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@f93a22a
2025-07-31T22:49:25.913+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@69c8b40d
2025-07-31T22:49:25.914+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3326f888
2025-07-31T22:49:25.914+08:00  INFO 43661 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:49:25.915+08:00  INFO 43661 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:49:25.916+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:49:25.916+08:00 DEBUG 43661 --- [ecom-assistant] [io-8080-exec-10] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"34bf107e-91ae-4fef-a5b7-6a7f55bc0c69","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:49:25.582+08:00  INFO 43661 --- [ecom-assistant] [io-8080-exec-10] c.e.a.e.controller.QAController          : QA stats for document 0743bb0b-1a48-40b6-9526-6c1983ae9853: total=0, pending=0, approved=0, rejected=0
2025-07-31T22:49:25.587+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:49:25.587+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@468672b0
2025-07-31T22:49:25.589+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:25.589+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2c65f979-209b-4fb7-a973-e7ba83aed7a7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:25.593+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3aec364c
2025-07-31T22:49:25.594+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2abeb06a
2025-07-31T22:49:25.595+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5c541bda
2025-07-31T22:49:25.596+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2932e112
2025-07-31T22:49:25.597+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72b7fc2e
2025-07-31T22:49:25.598+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:49:25.598+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:49:25.599+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:49:25.599+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-9] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"e3c6d478-bad4-4b9a-ab58-d882a8a8ec9e","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:49:25.665+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-9] c.e.a.e.controller.QAController          : QA stats for document 0743bb0b-1a48-40b6-9526-6c1983ae9853: total=0, pending=0, approved=0, rejected=0
2025-07-31T22:49:36.370+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Position sorted content for page 8: 10 text elements, 2 image elements
2025-07-31T22:49:36.413+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Processing 2 images in parallel for page 9
2025-07-31T22:49:42.970+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2f4bd002
2025-07-31T22:49:42.972+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:42.973+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b5ef00dd-6ef6-48b9-990c-81dc3dbc3049","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:42.978+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@319e0f62
2025-07-31T22:49:42.979+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@15f2d0db
2025-07-31T22:49:42.979+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6448c9a7
2025-07-31T22:49:42.980+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@51a6b6d
2025-07-31T22:49:42.981+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@44be91b3
2025-07-31T22:49:42.982+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:49:42.983+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"51f3394e-c94d-4b06-902e-d5fd022c53f0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:42.986+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:49:42.987+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"aaa9880f-611e-47bb-bb91-6bae5ad87877","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:42.995+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3ac28752
2025-07-31T22:49:42.997+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:42.997+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"01ac02ba-d072-4007-b10a-3857c2e009a1","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:43.001+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4bf68e01
2025-07-31T22:49:43.002+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@16750cdc
2025-07-31T22:49:43.003+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5c6029f7
2025-07-31T22:49:43.004+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72b6dd3e
2025-07-31T22:49:43.004+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@dcfc3ef
2025-07-31T22:49:43.005+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:49:43.005+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"5f9555df-2359-47ec-a892-be01bb059537","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:43.010+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:49:43.010+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"744e1789-973b-472f-a939-6ca6507a4d1d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.316+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.316+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2812bc64
2025-07-31T22:49:44.316+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a817a4bc-f8ba-4cb5-a313-ae00e8892b68","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.318+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.318+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"63a89ff5-bfdd-4fdb-9936-78197e118f7a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.324+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@33c0b8a2
2025-07-31T22:49:44.325+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T22:49:44.325+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7670362c
2025-07-31T22:49:44.325+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"659ae322-2c55-42a9-9361-90a0e751b5b0","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:49:44.327+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4bbc551a
2025-07-31T22:49:44.328+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7e87543f
2025-07-31T22:49:44.329+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@48b4e6e5
2025-07-31T22:49:44.330+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1ab50e0d
2025-07-31T22:49:44.331+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.332+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3ade7fd7-55b7-4a8c-89ca-91bf5370c3bf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.340+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@e9283d3
2025-07-31T22:49:44.342+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5288c69a
2025-07-31T22:49:44.344+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@514f3229
2025-07-31T22:49:44.346+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@63388b6b
2025-07-31T22:49:44.347+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@719e05d7
2025-07-31T22:49:44.350+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@792e10c4
2025-07-31T22:49:44.351+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.351+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6d86a56d
2025-07-31T22:49:44.352+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c72bef74-7e3d-474b-a346-7f51a5fc0aa8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.353+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.354+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"b6d74580-a2c6-4c09-8d03-096e7ca06bd9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.359+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4428f486
2025-07-31T22:49:44.360+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@45f01c8e
2025-07-31T22:49:44.361+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6f2aabda
2025-07-31T22:49:44.362+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6234a488
2025-07-31T22:49:44.363+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@65fb1996
2025-07-31T22:49:44.364+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6b15203a
2025-07-31T22:49:44.364+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@64ca0843
2025-07-31T22:49:44.365+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@33604df8
2025-07-31T22:49:44.366+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@67c54c98
2025-07-31T22:49:44.367+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@76b12376
2025-07-31T22:49:44.368+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@31e6d9cc
2025-07-31T22:49:44.370+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.371+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"1af20b9d-46c0-4fb6-8fb5-7abfc155ae0a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.377+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@73303b3a
2025-07-31T22:49:44.379+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@428ea729
2025-07-31T22:49:44.380+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3ddb969d
2025-07-31T22:49:44.381+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3af41053
2025-07-31T22:49:44.382+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@486f05dc
2025-07-31T22:49:44.384+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7fef4417
2025-07-31T22:49:44.386+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.386+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2f02dae6-1365-443c-8f4a-df4453129938","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.392+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1ee14a09
2025-07-31T22:49:44.393+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@48da70e
2025-07-31T22:49:44.394+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@347c13a6
2025-07-31T22:49:44.395+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@313626c2
2025-07-31T22:49:44.397+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@251383ef
2025-07-31T22:49:44.398+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4c4fe594
2025-07-31T22:49:44.400+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.401+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"0f6ff822-4c7c-48ff-80a1-56a60579cbf8","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.406+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@187a3e98
2025-07-31T22:49:44.407+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@187a0b63
2025-07-31T22:49:44.408+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@21cfff78
2025-07-31T22:49:44.409+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@121fcd90
2025-07-31T22:49:44.410+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5b58bfb5
2025-07-31T22:49:44.411+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@13b196ae
2025-07-31T22:49:44.413+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.413+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"63f38146-b4fc-41f4-8fd4-6f6c1c0dd789","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.418+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4d5b9f9f
2025-07-31T22:49:44.419+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@21c4b8e9
2025-07-31T22:49:44.421+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3f7f0e73
2025-07-31T22:49:44.422+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@20e4ebd4
2025-07-31T22:49:44.424+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@31523f30
2025-07-31T22:49:44.425+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3555da03
2025-07-31T22:49:44.427+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.427+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3f1ce752-2738-4962-8174-c85a4e0b7b7f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.432+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@729e564c
2025-07-31T22:49:44.433+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@75a3a980
2025-07-31T22:49:44.434+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5528a3bb
2025-07-31T22:49:44.435+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4eb6fedf
2025-07-31T22:49:44.436+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4e1afd73
2025-07-31T22:49:44.437+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@261db299
2025-07-31T22:49:44.439+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.439+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8378d717-4757-4916-adba-d14353ba83e7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.444+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@36b8e89a
2025-07-31T22:49:44.445+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4f81a894
2025-07-31T22:49:44.446+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@56e93572
2025-07-31T22:49:44.447+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1d2bdc4c
2025-07-31T22:49:44.448+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6c260b4b
2025-07-31T22:49:44.450+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2ea1cb53
2025-07-31T22:49:44.451+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.451+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"af503c49-97b6-497f-8609-0c3b3da59def","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.456+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@317c2950
2025-07-31T22:49:44.458+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72764a8f
2025-07-31T22:49:44.459+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2e566bd9
2025-07-31T22:49:44.460+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@e8dc613
2025-07-31T22:49:44.461+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5eeb583b
2025-07-31T22:49:44.462+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1e09435b
2025-07-31T22:49:44.463+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.464+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"0e689ac6-f6fc-4a78-842b-735d565da98c","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.468+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@39cfbe0
2025-07-31T22:49:44.469+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@634118de
2025-07-31T22:49:44.470+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@676fbe0d
2025-07-31T22:49:44.471+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@33a83a20
2025-07-31T22:49:44.472+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@570f944e
2025-07-31T22:49:44.473+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3ce3f199
2025-07-31T22:49:44.474+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.475+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"94b7f301-5ee3-4140-9a6f-2f6192bfdc16","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.479+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2666bfde
2025-07-31T22:49:44.480+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@54edf808
2025-07-31T22:49:44.481+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7f6bab3f
2025-07-31T22:49:44.482+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5c27e272
2025-07-31T22:49:44.483+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4fac2e67
2025-07-31T22:49:44.484+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@743aa222
2025-07-31T22:49:44.485+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.485+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"bc9bd41d-6cf4-42cf-99f6-93afe04b8cee","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.489+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@56aacdc9
2025-07-31T22:49:44.490+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@357d911c
2025-07-31T22:49:44.491+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1b0c5ec2
2025-07-31T22:49:44.492+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3a86d433
2025-07-31T22:49:44.493+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3ac2922f
2025-07-31T22:49:44.494+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T22:49:44.495+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T22:49:44.496+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"fc20c625-fa17-458e-bdbb-c45af6968c36","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.500+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T22:49:44.502+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T22:49:44.503+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"eccb2fff-b143-4a1c-97ad-a269e4195fbf","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T22:49:44.514+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.514+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a5053168-ea54-4212-a903-7da0a68ee359","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.519+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" AND META().id IN $ids ORDER BY name ASC
2025-07-31T22:49:44.520+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"e8ae9018-a6d1-4b5c-91ee-c3f2d4f893b6","metrics":false,"$ids":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"scan_consistency":"request_plus"}
2025-07-31T22:49:44.524+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@47c9e5f7
2025-07-31T22:49:44.526+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.526+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"0475481f-e2a8-4e14-8eee-02d7c4dd3e25","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.530+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@656e1958
2025-07-31T22:49:44.531+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@33f9479b
2025-07-31T22:49:44.532+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@37a7b5e
2025-07-31T22:49:44.533+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@b94d09b
2025-07-31T22:49:44.534+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1ea5bc68
2025-07-31T22:49:44.535+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6799e5b8
2025-07-31T22:49:44.536+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.536+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"4f80e9ba-8f08-46d4-8f92-497c2e56c40d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.540+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3769d29e
2025-07-31T22:49:44.541+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1a54dce0
2025-07-31T22:49:44.542+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2921753e
2025-07-31T22:49:44.543+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1bdf187
2025-07-31T22:49:44.544+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@78b93e0c
2025-07-31T22:49:44.545+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@44365e27
2025-07-31T22:49:44.546+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.546+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"cfd3b905-fd2a-41c5-ac66-c0d8a08b2753","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.550+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@661c5b1a
2025-07-31T22:49:44.551+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@843bf97
2025-07-31T22:49:44.552+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@39bbb9cd
2025-07-31T22:49:44.553+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4f8a1fbb
2025-07-31T22:49:44.554+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4b4a49db
2025-07-31T22:49:44.555+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5e60e822
2025-07-31T22:49:44.556+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.556+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"be359a6c-dbee-44e9-a1aa-4fc908ad6e85","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.561+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3af147f2
2025-07-31T22:49:44.562+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2519e0d0
2025-07-31T22:49:44.563+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3c847139
2025-07-31T22:49:44.564+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@65fcbf73
2025-07-31T22:49:44.565+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5502bae9
2025-07-31T22:49:44.566+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3ff7dff9
2025-07-31T22:49:44.567+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.567+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"809ecf95-4880-4a41-bb5e-4d429a0af82a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.572+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@20656c87
2025-07-31T22:49:44.573+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@206258df
2025-07-31T22:49:44.574+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@60776bc8
2025-07-31T22:49:44.574+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@61fe7828
2025-07-31T22:49:44.575+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6a7431c4
2025-07-31T22:49:44.576+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@586238f5
2025-07-31T22:49:44.577+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.577+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"52740642-8049-48f2-ba8c-d20a01dbcfae","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.582+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@390211a
2025-07-31T22:49:44.583+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@11bd2678
2025-07-31T22:49:44.584+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5a8ccf9a
2025-07-31T22:49:44.584+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@13e0e1ae
2025-07-31T22:49:44.585+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@11fa8a39
2025-07-31T22:49:44.586+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@698cf098
2025-07-31T22:49:44.587+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.587+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f6dfeaa7-9dd5-483a-9a58-84062b9a23df","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.592+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@55c0122c
2025-07-31T22:49:44.593+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@413974ab
2025-07-31T22:49:44.594+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d785f7
2025-07-31T22:49:44.595+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@ad1adc5
2025-07-31T22:49:44.596+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5f559fc1
2025-07-31T22:49:44.597+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@55c324ac
2025-07-31T22:49:44.598+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.598+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"ebfb4b66-5f4b-49f0-8b30-7f1b56ff86c0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.602+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6d03ebde
2025-07-31T22:49:44.603+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6abbdc3e
2025-07-31T22:49:44.604+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@19e3ed3f
2025-07-31T22:49:44.605+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@55495ceb
2025-07-31T22:49:44.606+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@27660087
2025-07-31T22:49:44.607+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@13886279
2025-07-31T22:49:44.608+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.609+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"1d1b1f41-f844-44e1-ab6a-50805aa2f655","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.613+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1584ff22
2025-07-31T22:49:44.615+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@ab5477d
2025-07-31T22:49:44.616+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@584fdf77
2025-07-31T22:49:44.616+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6e10857c
2025-07-31T22:49:44.616+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1d401c94
2025-07-31T22:49:44.617+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.618+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.618+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"0f04d7a9-373e-4056-9ea4-877a8264609e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.618+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"25f67500-62bf-464e-ba3c-d756b629ac99","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.618+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d8b3eef
2025-07-31T22:49:44.620+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7f44b593
2025-07-31T22:49:44.621+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5f6a9ba9
2025-07-31T22:49:44.623+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2a0beaad
2025-07-31T22:49:44.623+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.623+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3314cb53
2025-07-31T22:49:44.624+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e5cb1169-6913-4ca9-8714-4d6eb3de962a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.624+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@59a894b8
2025-07-31T22:49:44.625+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@c733f81
2025-07-31T22:49:44.625+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7b838be6
2025-07-31T22:49:44.626+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@249fcf26
2025-07-31T22:49:44.627+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@11d2ca8f
2025-07-31T22:49:44.627+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@20d18a5
2025-07-31T22:49:44.628+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6479049a
2025-07-31T22:49:44.628+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@175605e4
2025-07-31T22:49:44.629+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4253986c
2025-07-31T22:49:44.630+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2ccbfb8
2025-07-31T22:49:44.630+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T22:49:44.630+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@56bbaa8f
2025-07-31T22:49:44.630+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"360c866c-f045-4296-a853-ac54e14043f7","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.631+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@c0975e6
2025-07-31T22:49:44.631+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5a25958c
2025-07-31T22:49:44.633+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@300cec13
2025-07-31T22:49:44.633+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@735001d
2025-07-31T22:49:44.634+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@597b686f
2025-07-31T22:49:44.636+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@529f4e1d
2025-07-31T22:49:44.637+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.638+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"a34952d7-ef68-4f31-ac55-9684d2d8338a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.643+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@15feb7ed
2025-07-31T22:49:44.644+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1440c72e
2025-07-31T22:49:44.646+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3a6468a7
2025-07-31T22:49:44.647+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.647+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6ad4cae7-fdc7-490e-9254-cbcb95af3208","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.648+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@385e5794
2025-07-31T22:49:44.649+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@10990924
2025-07-31T22:49:44.652+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@70388505
2025-07-31T22:49:44.653+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@b583f4e
2025-07-31T22:49:44.654+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6980faf5
2025-07-31T22:49:44.654+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@78914fbd
2025-07-31T22:49:44.655+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@57c80e15
2025-07-31T22:49:44.655+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:49:44.656+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"8c6039ef-4cf3-456e-970d-5e0c8e58a679","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.657+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@45a3da75
2025-07-31T22:49:44.659+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@f4b2fc0
2025-07-31T22:49:44.662+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2328f2a6
2025-07-31T22:49:44.662+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T22:49:44.663+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"fc782ec7-d557-4bc5-863e-5266bd8d5434","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.663+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7ba01fce
2025-07-31T22:49:44.665+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4f04bd12
2025-07-31T22:49:44.666+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@21bdb155
2025-07-31T22:49:44.668+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@45e4da06
2025-07-31T22:49:44.669+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User super_admin permission check result: hasSystemTeamPermission = true, hasAnyTeamPermission = false
2025-07-31T22:49:44.671+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team options: null statement: SELECT `_class`, META(`team`).`id` AS __id, `name`, `description`, `ownerId`, `active`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.Team" ORDER BY name ASC
2025-07-31T22:49:44.673+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"156a95c0-4d55-4ddc-b3f9-547b31de65fe","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.682+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.core.service.TeamManager         : User super_admin will see 3 teams (all teams: YES, context teams: 1)
2025-07-31T22:49:44.684+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement:         SELECT '' AS __id, tm.teamId AS teamId, COUNT(*) AS count
        FROM `team-membership` tm
        WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership"
        AND tm.teamId IN $teamIds
        GROUP BY tm.teamId

2025-07-31T22:49:44.684+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"2d8c5cf5-05d0-4489-98cf-50f2f274aa94","metrics":false,"$teamIds":["aedb1365-fd24-4169-927a-f493fdfc4ff9","c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","default_team"],"scan_consistency":"request_plus"}
2025-07-31T22:49:44.737+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T22:49:44.737+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"f9f6e80e-356f-433f-9e76-81e0134ab2d0","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:44.743+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T22:49:44.744+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208","4f363b43-acef-4580-b066-77f6ace3f1a8"]],"client_context_id":"2303e3e4-56f2-4901-b73d-aa4e10cf4337","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:49:48.600+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Position sorted content for page 9: 0 text elements, 2 image elements
2025-07-31T22:49:48.601+08:00  INFO 43661 --- [ecom-assistant] [         task-1] .e.a.e.a.e.r.p.CombinedPdfDocumentReader : Generated 9 documents from PDF
2025-07-31T22:49:48.727+08:00  INFO 43661 --- [ecom-assistant] [         task-1] o.s.a.transformer.splitter.TextSplitter  : Splitting up document into 2 chunks.
2025-07-31T22:49:48.731+08:00  INFO 43661 --- [ecom-assistant] [         task-1] o.s.a.transformer.splitter.TextSplitter  : Splitting up document into 2 chunks.
2025-07-31T22:49:48.735+08:00  INFO 43661 --- [ecom-assistant] [         task-1] o.s.a.transformer.splitter.TextSplitter  : Splitting up document into 2 chunks.
2025-07-31T22:49:48.738+08:00  INFO 43661 --- [ecom-assistant] [         task-1] o.s.a.transformer.splitter.TextSplitter  : Splitting up document into 2 chunks.
2025-07-31T22:49:48.743+08:00  INFO 43661 --- [ecom-assistant] [         task-1] o.s.a.transformer.splitter.TextSplitter  : Splitting up document into 2 chunks.
2025-07-31T22:49:48.746+08:00  INFO 43661 --- [ecom-assistant] [         task-1] o.s.a.transformer.splitter.TextSplitter  : Splitting up document into 2 chunks.
2025-07-31T22:49:50.604+08:00  INFO 43661 --- [ecom-assistant] [         task-1] o.s.a.v.CouchbaseSearchVectorStore       : Trying Add
2025-07-31T22:49:50.604+08:00  INFO 43661 --- [ecom-assistant] [         task-1] o.s.a.v.CouchbaseSearchVectorStore       : ECOM
2025-07-31T22:49:50.607+08:00  INFO 43661 --- [ecom-assistant] [         task-1] o.s.a.v.CouchbaseSearchVectorStore       : AI
2025-07-31T22:49:54.813+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.ai.service.QAGenerationService   : Generating Q/A pairs for entire document: Couchbase 使用說明文件 - 1.pdf (dataset: public_test, 15 pages)
2025-07-31T22:49:54.816+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.ai.service.QAGenerationService   : Document content for Q/A generation: file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 1
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

=== Page 1 (Position Sorted) ===

Couchbase 使用說明文件
1. 如何建立 Bucket、Scopes 和 Collections
2. 如何從 CSV 和 JSON 檔案匯入文件
3. 如何建立 Full Text Indexes
4. 如何建立 USER 與權限
如何建立 Bucket、Scopes 和 Collections
1. 建立 Bucket
1. 填寫以下資訊：

Image 1: The image depicts a user interface screen from an application or platform named "ecom," specifically showing the "Buckets" section. Below is a detailed analysis covering the requested focus points:

1. **Text Content Visible in the Image:**
   - The title or breadcrumb indicates the current page: **"ecom > Buckets"**.
   - A search/filter box labeled with placeholder text: **"filter buckets..."**.
   - Two bucket names are listed: **"IEDM"** and **"POC"**.
   - Column headers: **name, items, resident, ops/sec, RAM used/quota, disk used**.
   - Each bucket row contains the following data:
     - IEDM: 303,150 items, 90.9% resident, 0 ops/sec, 5.87GiB / 7.81GiB RAM used/quota, 11.6GiB disk used.
     - POC: 0 items, 100% resident, 0 ops/sec, 54.6MiB / 3.9GiB RAM used/quota, 126MiB disk used.
   - On the right side of each bucket row, clickable links for **"Documents"** and **"Scopes & Collections"**.
   - On the left side navigation menu, visible options are: **Dashboard, Servers, Buckets (highlighted), Backup, XDCR, Security, Settings**.
   - A button at the top right corner labeled **"ADD BUCKET"**.

2. **Process Flows, Diagrams, or Organizational Charts:**
   - The image does not contain any process flows, diagrams, or organizational charts. It is a data overview table with navigation options.

3. **Key Visual Elements and Their Relationships:**
   - The interface is divided into:
     - A vertical navigation menu on the left.
     - A main content area displaying bucket information in a tabular format.
     - A search bar at the top of the main content area to filter buckets.
     - An action button "ADD BUCKET" positioned on the top right, suggesting the ability to add new buckets.
   - Each bucket is represented by a row with multiple data columns and action links.
   - The "Buckets" menu item is highlighted to indicate the current section.
   - Colored bars (green) next to bucket names may signify bucket status or health but exact meaning isn’t provided.

4. **Technical Content, Steps, or Procedures:**
   - The screen appears to be part of a system managing data storage "buckets" which hold items/documents.
   - Data columns provide operational metrics:
     - **Items:** Number of objects/items in the bucket.
     - **Resident:** Percentage of items resident in RAM.
     - **Ops/sec:** Operations per second, currently zero for both buckets.
     - **RAM used/quota:** Amount of RAM used versus allocated quota.
     - **Disk used:** Amount of disk space used.
   - The presence of "Documents" and "Scopes & Collections" links implies further drill-down into bucket contents and structure.
   - The "ADD BUCKET" button likely opens a workflow or form to create a new bucket.

5. **Important Data, Numbers, or Specific Details:**
   - Bucket "IEDM": 303,150 items, 90.9% resident in RAM, 5.87GiB RAM used out of 7.81GiB quota, 11.6GiB disk used.
   - Bucket "POC": 0 items, 100% resident in RAM, 54.6MiB RAM used out of 3.9GiB quota, 126MiB disk used.
   - Both buckets have zero operations per second currently.
   - The RAM and disk usage are displayed in GiB or MiB units, indicating binary units of measurement.

---

### Summary

This image is a dashboard or management interface for controlling and monitoring data storage buckets within the "ecom" platform. It provides a summary view of each bucket's usage statistics such as item count, memory residency, operational throughput, RAM consumption versus quota, and disk usage. The user can filter buckets using the search bar and has options to view further details via "Documents" and "Scopes & Collections" links. The highlighted left menu and the "ADD BUCKET" button facilitate navigation and bucket creation respectively.

No explicit process flow or SOP is shown, but the interface supports the operational procedure of managing data buckets, monitoring their performance, and expanding storage by adding new buckets.
Image 2: This image shows a user interface dialog box titled **"Add Data Bucket"**. The dialog is likely part of a software application related to data management or database configuration, specifically for adding a new data bucket.

---

### 1. Text Content Visible in the Image

- Title: **Add Data Bucket**
- Form fields and labels:
  - **Name**: Text input field with the value "TEST"
  - **Bucket Type** (radio button options):
    - Couchbase (selected)
    - Memcached
    - Ephemeral
  - **Storage Backend** (radio button options):
    - CouchStore (selected)
    - Magma
  - **Memory Quota** *in mebibytes per server node*: Input field with value "2000" MiB
- Legend under the Memory Quota bar:
  - other buckets (7.81 GiB)
  - this bucket (3.9 GiB)
  - available (0B)
- Expandable option: **Advanced bucket settings**
- Buttons:
  - **Cancel**
  - **Add Bucket** (highlighted in blue)

---

### 2. Process Flows, Diagrams, or Organizational Charts

- There are no explicit process flows, diagrams, or organizational charts.
- The UI represents a step in a process where a user configures and adds a new data bucket with specific attributes.

---

### 3. Key Visual Elements and Their Relationships

- **Name Field**: A text box for entering the bucket's name.
- **Bucket Type Section**: Three radio buttons allowing the user to select the type of bucket. The "Couchbase" option is selected.
- **Storage Backend Section**: Two radio buttons for choosing the storage backend; "CouchStore" is selected.
- **Memory Quota Input**: A text box to define the memory quota in MiB, with a label explaining the unit.
- **Memory Usage Bar**: A horizontal bar chart showing memory allocation:
  - Other buckets' memory usage (7.81 GiB, dark blue)
  - This bucket's memory allocation (3.9 GiB, lighter blue)

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 1
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

- Available memory (0B, light gray)
- **Advanced Bucket Settings**: Collapsible/expandable section (currently collapsed).
- **Action Buttons**: "Cancel" to dismiss the dialog, and "Add Bucket" to confirm and create the bucket.

The relationships indicate that the user inputs a name, selects bucket type and storage backend, sets a memory quota, and then adds the bucket. The memory usage bar visually informs the user how memory is allocated among buckets and how much is available.

---

### 4. Technical Content, Steps, or Procedures

This interface is part of a procedure for creating a new data bucket in a system managing multiple buckets with memory quotas.

**Steps in the process:**

1. **Enter Bucket Name**: The user inputs a unique identifier for the new bucket.
2. **Select Bucket Type**: Choose among Couchbase, Memcached, or Ephemeral bucket types. Couchbase is selected here.
3. **Select Storage Backend**: Choose between CouchStore and Magma storage backends. CouchStore is selected.
4. **Set Memory Quota**: Specify the amount of memory in mebibytes allocated for this bucket per server node.
5. **Review Memory Usage**: Visual bar displays memory already allocated to other buckets, this bucket's allocation, and remaining available memory.
6. **(Optional) Configure Advanced Settings**: Expand the advanced settings to specify additional parameters (not shown).
7. **Add the Bucket**: Click "Add Bucket" to finalize creation or "Cancel" to abort.

---

### 5. Important Data, Numbers, or Specific Details

- Bucket Name: "TEST"
- Bucket Type: Couchbase
- Storage Backend: CouchStore
- Memory Quota: 2000 MiB (2 GiB) per server node
- Memory usage bar:
  - Other buckets use 7.81 GiB
  - This bucket is allocated 3.9 GiB (which seems inconsistent with 2000 MiB input, possibly due to system calculations or defaults)
  - Available memory is 0B, indicating no free memory left after allocations

---

### Summary

This image represents a user interface for adding a new data bucket in a system that manages buckets with memory and storage configurations. The user specifies the bucket's name, type, storage backend, and memory quota. The interface provides a memory usage visualization showing the distribution of memory across buckets and the remaining available memory. The dialog offers an option to configure advanced settings and buttons to cancel or confirm the addition of the bucket.

No decision branches or conditional logic are visible in the UI; it is a straightforward form submission process. The highlighted "Add Bucket" button suggests the final action to create the bucket after configuring the parameters.

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 2
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

=== Page 2 (Position Sorted) ===

2. 建立 Scopes
1. 點擊已建立的 Bucket 名稱以進入設定。
2. 前往 Scopes & Collections 頁面。
3. 點擊 Add Scope，輸入 Scope 的名稱。
3. 建立 Collections
1. 在指定 Scope 下，點擊 Add Collection。

Image 1: This image appears to be a detailed dashboard or status page related to a Couchbase database cluster. Here is a comprehensive description based on the visible content:

---

### 1. Text Content Visible in the Image

- **Title/Identifier:** "TEST"
- **Type:** Couchbase
- **Bucket RAM Quota:** 3.9 GiB
- **Cluster RAM Quota:** 5.85 GiB
- **Replicas:** 1
- **Server Nodes:** 2
- **Ejection Method:** Value-Only
- **Conflict Resolution:** Sequence Number

**Memory Section:**
- Cluster quota: 11.7 GiB
- Memory usage bars with labels:
  - Other buckets (7.81 GiB)
  - This bucket (3.9 GiB)
  - Available (0 B)

**Disk Section:**
- Total cluster storage: 376 GiB
- Disk usage bars with labels:
  - Other buckets (11.6 GiB)
  - This bucket (8.87 MiB)
  - Available (276 GiB)

**Top Summary Line:**
- 0 (likely document count or errors)
- 100%
- 0 (possibly errors or warnings)
- 60.2 MiB / 3.9 GiB (used/total bucket RAM)
- 8.87 MiB (disk usage for this bucket)

**Navigation or Tabs:**
- Documents
- Scopes & Collections (highlighted with a red box)

---

### 2. Process Flows, Diagrams, or Organizational Charts

- The image contains no explicit flowchart, process flow, or organizational chart.
- The layout is a dashboard style with bar charts representing resource usage (Memory and Disk).
- The horizontal bars visually compare the usage of memory and disk between "this bucket," "other buckets," and "available" resources.

---

### 3. Key Visual Elements and Their Relationships

- **Memory and Disk Usage Bars:** These are the main visual indicators showing how the cluster's resources are allocated.
- The bars are segmented into parts indicating:
  - Usage by other buckets in the cluster
  - Usage by the current bucket ("this bucket")
  - Available resources remaining
- The memory bar is almost fully utilized (0 B available), with the current bucket using 3.9 GiB, and other buckets using 7.81 GiB out of an 11.7 GiB cluster quota.
- The disk bar shows a large amount of available space (276 GiB), with relatively small usage by this bucket (8.87 MiB) and other buckets (11.6 GiB).

---

### 4. Technical Content, Steps, or Procedures

- This is a status and resource monitoring interface for a Couchbase bucket within a cluster.
- It informs about:
  - RAM quotas allocated at both the bucket level and the cluster level.
  - The number of replicas for data redundancy.
  - The number of server nodes contributing to the cluster.
  - The method of ejection ("Value-Only"), which relates to how Couchbase handles memory pressure by evicting values but keeping metadata.
  - Conflict resolution strategy in the database (using sequence numbers).

---

### 5. Important Data, Numbers, or Specific Details

- **Bucket RAM Quota:** 3.9 GiB allocated to this bucket.
- **Cluster RAM Quota:** 5.85 GiB allocated across the cluster.
- **Cluster Quota Visual:** 11.7 GiB total cluster memory quota (seems higher than the "Cluster RAM Quota" text, possibly indicating total available or configured memory).
- **Disk Storage Total:** 376 GiB total cluster storage.
- **Disk Usage by This Bucket:** 8.87 MiB, very low compared to total available.
- **Memory Available:** 0 B (indicating full utilization).
- **Replicas:** 1 replica, meaning data is duplicated once for redundancy.
- **Server Nodes:** 2 nodes in the cluster.
- **Ejection Method:** Value-Only, a memory management policy.
- **Conflict Resolution:** Sequence Number, a method to resolve concurrent data changes.

---

### Summary

This image is a Couchbase cluster bucket resource usage dashboard displaying memory and disk utilization, bucket configurations, and cluster details. The key focus is on memory and disk usage, quota allocations, and operational settings like replicas, ejection method, and conflict resolution. The visual elements clearly separate this bucket's resource usage from other buckets and available resources, providing a snapshot of cluster health and capacity.

There are no process steps or decision points; instead, it is a status monitoring interface used for managing and observing Couchbase cluster resources. The "Scopes & Collections" tab highlighted suggests further detailed configuration or data organization views related to the bucket.
Image 2: The image depicts a user interface dialog box titled "Add Scope." This appears to be part of a software application, likely related to managing buckets and scopes, which can be common in data storage or database management systems.

1. **Text Content:**
   - Title at the top: "Add Scope"
   - Labels and fields:
     - "Bucket Name" with a dropdown selector containing the value "TEST"
     - "New Scope Name" with an input text box currently containing the text "TEST"
   - Buttons at the bottom:
     - "Cancel" (text button)
     - "Save" (blue button)

2. **Process Flow / Diagram:**
   - This is a simple form interface, not a process flow or diagram.
   - The flow implied is: the user selects a bucket from the dropdown, then enters a new scope name, and finally clicks "Save" to add the scope or "Cancel" to abort.

3. **Key Visual Elements and Relationships:**
   - The dialog box is a modal window over a likely dimmed background (typical UI pattern).
   - The dropdown for "Bucket Name" is pre-selected with "TEST".
   - The text box for "New Scope Name" is active or selected, showing the word "TEST".
   - Cancel and Save buttons are horizontally aligned at the bottom right.
   - The "Save" button is highlighted in blue, indicating it is the primary action.

4. **Technical Content, Steps, or Procedures:**
   - Step 1: Select a bucket from the "Bucket Name" dropdown.
   - Step 2: Enter the name for the new scope in the "New Scope Name" field.
   - Step 3: Click "Save" to add the new scope to the selected bucket.
   - Alternative: Click "Cancel" to close the dialog without saving changes.

5. **Important Data, Numbers, or Specific Details:**

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 2
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

- The bucket name present is "TEST".
   - The new scope name is also "TEST" (possibly a default or user-entered value).
   - No numerical data or additional parameters are visible.

**Summary:**
This image shows a modal dialog for adding a new scope within a specified bucket. The user must select the bucket, provide a new scope name, and confirm with "Save" or cancel the operation. There are no further decision points or branches visible. The interface is straightforward and designed for quick data entry related to bucket and scope configuration.
Image 3: This image is a screenshot of a user interface, likely from a database management or data collection system. The main content is a table listing different "scopes" with associated metadata and available actions.

1. **Text Content:**
   - Dropdown or button labeled "TEST" at the top-left.
   - Column headers: "scope name", "collections", "items", "memory used", "disk utilization", "ops/sec".
   - Three rows of data under these columns, with scope names: "TEST", "_default", and "_system".
   - Under each row, there are action links such as "Drop", "Documents", and "Add Collection".
   - A search box with placeholder text "filter scopes" is visible at the top-right.

2. **Process Flows, Diagrams, or Organizational Charts:**
   - No explicit diagrams or flowcharts are present.
   - The layout suggests a management interface for database scopes/collections where users can view stats and perform actions.

3. **Key Visual Elements and Their Relationships:**
   - The table rows represent different scopes.
   - Columns provide specific metrics or counts related to each scope.
   - Action links on the right side allow the user to manage each scope (e.g., add collections, view documents).
   - The "Add Collection" link is highlighted with a red border around the one for "TEST" scope, drawing attention to this control.

4. **Technical Content, Steps, or Procedures:**
   - The table shows:
     - "scope name": Name of the data scope.
     - "collections": Number of collections within the scope.
     - "items": Number of items/documents in the scope.
     - "memory used": Memory footprint.
     - "disk utilization": Disk space used.
     - "ops/sec": Operations per second.
   - "Drop" appears only for the TEST scope, indicating the ability to delete or remove it.
   - "Documents" likely links to view the documents/items in the scope.
   - "Add Collection" is an action to add a new collection to the scope.

5. **Important Data, Numbers, or Specific Details:**
   - TEST scope: 0 collections, no data for items or memory/disk/ops.
   - _default scope: 1 collection, 0 items, 0B memory, 0B disk, 0 ops/sec.
   - _system scope: 2 collections, 0 items, 0B memory, 90.5KiB disk utilization, 0 ops/sec.

**Summary:**
This interface is for managing database scopes and collections. Users can view resource usage and perform actions like adding collections or viewing documents. The TEST scope is empty and offers the option to drop it. The _default and _system scopes have some collections but no items currently. Disk utilization is only noticeable for the _system scope. The highlighted "Add Collection" action for the TEST scope suggests the user might be prompted or encouraged to add a new collection there.

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 3
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

=== Page 3 (Position Sorted) ===

如何從 CSV 和 JSON 檔案匯入文件
1. 匯入 CSV 檔案
1. 準備 CSV 文件，須確保包含標題列.
2. 使用 Couchbase 提供的 cbimport 工具。
o 範例命令：
./opt/couchbase/bin/cbimport csv --infer-types
-c <HOST>:8091 -u <USERNAME> -p <PASSWORD> -d
' <FILE_PATH> ' -b '<BUCKET_NAME>' --scope-
collection-exp "<SCOPE>.<COLLECTION>" -g
%<KEY>%  -t 4

Image 1: This image is a screenshot of a dialog box from a software interface, titled **"Add Collection To TEST Scope"**. It appears to be part of a workflow or process related to setting up or configuring a collection within a scope named "TEST." Here's a detailed analysis of the content:

### 1. Text Content Visible:
- **Title:** "Add Collection To TEST Scope"
- **Field Labels:**
  - "Name"
  - "Collection Max Time-To-Live"
- **Input Field Values:**
  - Name: "TEST" (pre-filled)
  - Collection Max Time-To-Live: "0" (pre-filled)
- **Buttons:**
  - "Cancel" (text button)
  - "Save" (blue button)
- There is a small information icon (represented by a lowercase "i" in a circle) next to the "Collection Max Time-To-Live" label, suggesting additional explanatory information is available, likely via a tooltip or popup.

### 2. Process Flows, Diagrams, or Organizational Charts:
- No explicit flowcharts, diagrams, or organizational charts are present.
- The interface implies a step in a configuration or setup process where the user inputs or confirms parameters before saving.

### 3. Key Visual Elements and Their Relationships:
- The dialog box is modal, meaning it requires user interaction before continuing.
- The title bar includes a close button ("X") on the right.
- Two input fields stacked vertically for user data entry.
- Action buttons aligned at the bottom right (Save) and bottom left (Cancel).
- The "Save" button is visually emphasized in blue, suggesting it is the primary action.
- The "Cancel" button is less prominent, likely to dismiss the dialog without changes.

### 4. Technical Content, Steps, or Procedures:
- The dialog is used to add a collection to a predefined scope ("TEST").
- The user must provide:
  - A **Name** for the collection (already filled as "TEST," possibly editable).
  - A **Collection Max Time-To-Live** value, which is a numerical input specifying the maximum lifespan of the collection, with a default or initial value of "0." The presence of an info icon suggests that setting this value is important and may affect how long the collection remains active or stored.
- After filling in or confirming these fields, the user can:
  - Click **Save** to add the collection with the specified parameters.
  - Click **Cancel** to exit without saving changes.

### 5. Important Data, Numbers, or Specific Details:
- The collection's **Name** is "TEST."
- The **Collection Max Time-To-Live** is set to "0," which likely means either no expiration or immediate expiration depending on system context.
- The dialog is scoped specifically to "TEST Scope," indicating collections are organized or limited by scopes.

---

### Summary of Purpose and Usage:
This dialog is part of a configuration or management system where users add collections to a specific scope. The key inputs are the collection's name and how long it should live (time-to-live). The user must confirm or adjust these settings before saving. This dialog likely appears in workflows related to data management, monitoring, or software configuration where collections are dynamically created and managed with lifecycle considerations.

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 4
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

=== Page 4 (Position Sorted) ===

 <SCOPE> 和 <COLLECTION>: 目標 Scope 和
Collection。
 <KEY>: Document ID 要取的對應 tag，名稱不能有重複
 -t: threads 數
o 官方文件:
https://docs.couchbase.com/server/current/tools/cbimport-
csv.html
3. 也能在 Couchbase Web Console 做匯入，檔案限制大小 100MB 內
以上設定完後，按 Import Data 即可
2. 匯入 JSON 檔案

Image 1: Here is a comprehensive description and analysis of the provided image from a PDF document:

---

### 1. Text Content Visible in the Image

- **Buttons and Labels:**
  - "Select File to Import..."
  - "Parse File As"
  - "Keyspace"
  - "Import With Document ID"
  - Options for document ID setting: "UUID" or "Value of Field"
  - Dropdown label: "Value of Field:"
  - File name with size: "couchbase_data.csv (66.5 MiB)"
  - Information text: "found 107277 records"
  - File format options: CSV / JSON (with Chinese text "選擇CSV / JSON檔" meaning "Select CSV / JSON file")
  - Keyspace selection labeled with Chinese text "選擇目標Collection" meaning "Select target Collection"
  - Document ID setting with Chinese description "doc id設置，可選擇UUID 或是文檔中的Field" meaning "doc id setting, can select UUID or field in document"

- **Command-line snippet:**
  ```
  cbimport csv --infer-types -c http://192.168.11.151:8091 -u <login> -p <password> -d 'file://couchbase_data.csv' -b 'TEST' --scope-collection-exp "TEST.TEST" -g %ID%
  ```
  - This command is noted as "command generated from your file, destination, and ID selections on the left"
  - Additional note: "For faster performance, or datasets greater than 100MB, use the command-line tool cbimport."

- **File Contents Preview (Raw File):**
  - Displays CSV content starting with a header row and subsequent data rows.
  - Header fields: `CLIENT_IP, CLIENT_MSG_ID, CLIENT_PORT, CLIENT_SYSTEM_ID, CLIENT_TIMESTAMP, CREATED_BY, CREATED_TIMESTAMP, EC_FLAG, EC_TX_GUID, EC_TX_GUID2`
  - Sample data rows showing IP addresses, message IDs, system IDs, timestamps, and other fields.

---

### 2. Process Flows, Diagrams, or Organizational Charts

- No visual diagrams or flowcharts are present.
- The layout suggests a step-by-step interface for importing data files into a database collection.
- Steps are implied by sections and UI elements:
  1. File selection (CSV/JSON)
  2. Parsing file format selection
  3. Keyspace and collection selection
  4. Document ID configuration
  5. Command generation and file content preview

---

### 3. Key Visual Elements and Their Relationships

- **File Import Button:** Large, prominent blue button labeled "Select File to Import...". This is the starting point for the data import process.
- **File Information:** Filename and size displayed immediately below the import button.
- **Parse File As Dropdown:** Lets user select the file type to parse (CSV or JSON).
- **Keyspace Selection:** Three dropdowns labeled "Keyspace" indicating a hierarchical selection system (bucket, scope, collection).
- **Document ID Import Options:** Radio buttons to choose how document IDs are assigned — either a UUID generated automatically or based on a specific field in the data.
- **Command-line Instruction Box:** Shows a pre-generated command that reflects the user's selections, which can be used for bulk or faster imports.
- **File Contents Section:** Shows raw file data preview, with tabs for Raw File, Parsed Table, and Parsed JSON (Raw File tab is active).
- **Chinese Annotations:** Supplementary explanations in Chinese are placed near the key UI controls, explaining options and settings.

---

### 4. Technical Content, Steps, or Procedures

**The image represents a Standard Operating Procedure (SOP) or workflow for importing CSV or JSON data files into a Couchbase database collection using a GUI and optionally a command-line tool.**

**Steps Identified:**

1. **Select File to Import:**
   - User begins by clicking "Select File to Import..." and choosing a CSV or JSON file.
   - Example given is `couchbase_data.csv` with size 66.5 MiB and 107,277 records found.

2. **Parse File As:**
   - User selects the file format type (CSV or JSON) for parsing.
   
3. **Select Keyspace:**
   - User selects the target Couchbase bucket, scope, and collection where the data will be imported.
   - In the example, all three dropdowns currently show "TEST".

4. **Import With Document ID:**
   - User chooses how to assign document IDs for imported documents.
   - Two options:
     - UUID (auto-generated unique IDs)
     - Value of Field (user selects a field from the data to use as the document ID).
   - In the screenshot, "Value of Field" is selected with the field "ID".

5. **Command Generation:**
   - Based on the above choices, a command-line import command is generated.
   - This command uses `cbimport csv` with parameters for cluster URL, user credentials, file path, bucket, scope, collection, and document ID generation.
   - The command can be copied and run externally for performance or large files (>100MB).

6. **File Content Preview:**
   - User can view the raw content of the selected file.
   - The preview shows the CSV header row and sample data rows.
   - Tabs suggest that the file can also be viewed as a parsed table or parsed JSON, but the "Raw File" tab is currently active.

---

### 5. Important Data, Numbers, or Specific Details

- File name: `couchbase_data.csv`
- File size: 66.5 MiB
- Number of records found: 107,277
- Command-line tool: `cbimport`
- Cluster URL in command: `http://192.168.11.151:8091`
- Bucket/Scope/Collection: all set to "TEST"
- Document ID field chosen: "ID"
- Sample CSV header fields:
  - CLIENT_IP
  - CLIENT_MSG_ID
  - CLIENT_PORT
  - CLIENT_SYSTEM_ID
  - CLIENT_TIMESTAMP
  - CREATED_BY
  - CREATED_TIMESTAMP
  - EC_FLAG
  - EC_TX_GUID
  - EC_TX_GUID2
- Sample data rows include IP addresses, message IDs, timestamps, global IDs, and other metadata.

---

### Summary:

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 4
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

The image depicts a user interface for importing large CSV or JSON datasets into a Couchbase database. The workflow guides the user through selecting the file, specifying parsing type, choosing the target keyspace and collection, deciding how to assign document IDs, and previewing the data. It also generates an equivalent `cbimport` command-line instruction for faster or bulk imports. The interface supports large data handling (noted by file size and record count) and provides detailed previews of the raw file content. Chinese annotations clarify selections related to file format, target collection, and document ID configuration.

This is a practical SOP for data import into Couchbase, combining GUI convenience with command-line flexibility.

---

If you need further details or explanation on any part, please let me know!

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 5
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

=== Page 5 (Position Sorted) ===

 <PASSWORD>: 密碼。
 <BUCKET_NAME>: 目標 Bucket。
 <FILE_PATH>: Json 文件路徑。
 <SCOPE> 和 <COLLECTION>: 目標 Scope 和
Collection。
 <KEY>: Document ID 要取的對應 tag，名稱不能有重複
 -t: threads 數
o 官方文件:
https://docs.couchbase.com/server/current/tools/cbimport-
json.html

Image 1: Here is a comprehensive analysis and description of the image from the PDF document:

---

### 1. Text Content Visible in the Image

- **Buttons and Labels:**
  - "Select File to Import..."
  - "Parse File As" with a dropdown showing "CSV"
  - "Keyspace" with three dropdowns labeled "TEST"
  - "Import With Document ID" with options "UUID" and "Value of Field" (selected)
  - Dropdown for field selection with "ID" chosen
  - Additional text labels in Chinese:
    - "選擇 CSV / JSON 檔" (Select CSV / JSON file)
    - "選擇目標 Collection" (Select target Collection)
    - "doc id 設置，可選擇 UUID 或是文檔中的 Field" (doc id setup, can select UUID or a Field in the document)

- **Instructional Text:**
  - "For faster performance, or datasets greater than 100MB, use the command-line tool cbimport."
  - Example command for command-line import:
    ```
    cbimport csv --infer-types -c http://192.168.11.151:8091 -u <login> -p <password> -d 'file://couchbase_data.csv' -b 'TEST' --scope-collection-exp "TEST.TEST" -g %ID%
    ```
  - "command generated from your file, destination, and ID selections on the left"

- **File Details:**
  - "couchbase_data.csv (66.5 MiB)"
  - "found 107277 records"

- **Tabs for File Content:**
  - "Raw File" (selected)
  - "Parsed Table"
  - "Parsed JSON"

- **File Content Preview (CSV data):**
  ```
  1 CLIENT_IP,CLIENT_MSG_ID,CLIENT_PORT,CLIENT_SYSTEM_ID,CLIENT_TIMESTAMP,CREATED_BY,CREATED_TIMESTAMP,EC_FLAG,EC_TX_GUID,EC_TX_GUID2,...
  2 10.128.23.247,msg-413,10457,SYS2,1728889518459,CAMP_APP,1728889518459,y,,,GLOBALID1,00000001,,AAAAAAAAAAAAAAAAAA...
  3 10.128.15.77,msg-646,59186,SYS2,1728889518460,CAMP_APP,1728889518460,y,,,GLOBALID2,00000002,,AAAAAAAAAAAAAAAAAA...
  ...
  9 10.128.54.25,msg-927,3881,SYS2,1728889518466,CAMP_APP,1728889518466,Y,,,GLOBALID9,00000009,,AAAAAAAAAAAAAAAAAA...
  ```

---

### 2. Process Flows, Diagrams, or Organizational Charts

- No explicit diagrams or flowcharts are present.
- The image represents a **file import configuration interface** with options and a preview window.
- The process implied is a step-by-step file import setup for data ingestion into a database (Couchbase).

---

### 3. Key Visual Elements and Their Relationships

- **"Select File to Import..." Button:** Main action to upload or select the CSV/JSON file.
- **Parse File As Dropdown:** Lets the user specify the file format (CSV in this case).
- **Keyspace Selection:** Three dropdown menus to select the bucket, scope, and collection within Couchbase. All three are set to "TEST", indicating the target location for the import.
- **Import With Document ID Section:**
  - Choice between UUID (auto-generated unique ID) or using a value from one of the fields in the imported data as the document ID.
  - "Value of Field" is selected here, and the field chosen is "ID".
- **File Contents Preview:** Shows the raw CSV data lines with headers and sample rows to verify the content before import.
- **Instructional Text & CLI Command:** Offers an alternative method for import via command line (cbimport), useful for large datasets or faster performance.

---

### 4. Technical Content, Steps, or Procedures

The image shows the **procedure for importing data into Couchbase** via a web interface:

**Step 1:** Select the file to import (CSV/JSON).  
- The file shown is `couchbase_data.csv` sized 66.5 MiB with 107,277 records.

**Step 2:** Specify the file type for parsing.  
- CSV is selected here.

**Step 3:** Choose the target keyspace (bucket, scope, collection).  
- All set to "TEST" in the example.

**Step 4:** Define how to assign Document IDs to the imported documents.  
- Option to use UUID (auto-generated) or value of a specific field in the data.
- The field "ID" is selected here.

**Step 5:** Review the raw file contents or parsed views to confirm data.

**Step 6:** For large files (>100MB), the interface suggests using the command-line tool `cbimport` for better performance.  
- A sample command is provided which includes:
  - URL to Couchbase cluster
  - User credentials placeholders
  - File path
  - Bucket name
  - Scope/collection expression
  - Document ID template using `%ID%` from the data

---

### 5. Important Data, Numbers, or Specific Details

- File size: **66.5 MiB**
- Number of records found: **107,277**
- Keyspace set to: **bucket = TEST, scope = TEST, collection = TEST**
- Document ID is assigned using the field: **ID**
- CSV headers include fields like CLIENT_IP, CLIENT_MSG_ID, CLIENT_PORT, CLIENT_SYSTEM_ID, CLIENT_TIMESTAMP, CREATED_BY, CREATED_TIMESTAMP, EC_FLAG, EC_TX_GUID, etc.
- Example data rows show IP addresses, message IDs, system IDs, timestamps, global IDs, and long string values.

---

### Summary

The image is a **data import interface for Couchbase**, showing:

- Selection of CSV/JSON file to import.
- Configuration for parsing the file.
- Selection of target bucket/scope/collection.
- Options to specify how document IDs are assigned (UUID or field value).
- Preview of raw data to be imported.
- Instructions and a sample command for using the command-line tool `cbimport` for large files or faster imports.

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 5
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

This interface facilitates the import of large CSV/JSON datasets into Couchbase with flexibility in document ID assignment and target data location, with guidance on using CLI tools for performance optimization.

---

If you need, I can also help write step-by-step instructions or explain any part further.

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 6
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

=== Page 6 (Position Sorted) ===

如何建立 Full Text Indexes
1. 建立 Full Text Index
1. 登入 Couchbase Web Console。
2. 在左側選單中選擇 Search。
3. 點擊左上角 Quick Index。
4. 填寫以下資訊：
o Index Name: 輸入索引名稱。
o Keyspace: 選擇目標 Bucket/ scope/ collection。
o Index Partitions: 輸入 node 的倍數即可

Image 1: This image appears to be a screenshot of a document management or database interface from a software dashboard, likely related to a NoSQL or document-oriented database system.

Here is a comprehensive description analyzing the key elements:

1. **Text Content Visible:**
   - The left sidebar shows navigation menu options:  
     **Dashboard, Servers, Buckets, Backup, XDCR, Security, Settings, Logs** and a highlighted section titled **Documents** with a sub-item **Query**.
   - At the top center, there is a section labeled **Keyspace** with three dropdown selections:  
     - "IEDM" (probably for bucket name)  
     - "umc" (likely for scope)  
     - "data" (likely for collection)
   - Next to these dropdowns are two input fields labeled **Limit** (set to 200) and **Offset** (set to 0).
   - Below this, a line reads:  
     **200 Results for IEDM.umc.data, limit: 200, offset: 0**
   - The main content area shows table columns with header **id** and rows of data.
   - Each row has a set of blue buttons on the left (icons for edit, duplicate/copy, delete, save) and a document ID (e.g., "000043fb-7768-4b05-875a-eca72c355deb").
   - To the right of the ID is a snippet of JSON-like content starting with `{"color"` and some numerical values.

2. **Process Flows, Diagrams, or Organizational Charts:**
   - There is no explicit flowchart or diagram in this image. The interface is a data query and document management screen.

3. **Key Visual Elements and Relationships:**
   - The **Keyspace** dropdowns define the current database context: bucket, scope, and collection.
   - The **Limit** and **Offset** fields control pagination of results.
   - The blue action buttons on each row provide CRUD operations: edit, copy, delete, and save.
   - The list below displays document IDs and partial JSON content indicating that these are individual documents stored in the selected collection.
   - The sidebar navigation indicates the broader system functionality, with the active section being **Documents > Query**.

4. **Technical Content, Steps, or Procedures:**
   - The interface allows users to query and manage documents within a NoSQL document store.
   - The user selects a **Keyspace** (bucket.scope.collection), sets a limit and offset, and views up to 200 document results.
   - Each document can be edited, duplicated, deleted, or saved using the buttons.
   - The JSON snippet suggests documents have fields like `"color"` and identifiers (`c_id`).

5. **Important Data, Numbers, or Details:**
   - Limit is set to 200, offset 0, meaning the first 200 documents from the selected collection are shown.
   - Document IDs are GUID-like strings (universally unique identifiers) for each document.
   - Partial document data includes JSON field `"color"` with numeric values and some identifier fields.
   - The selected keyspace is **IEDM.umc.data**.

### Summary:
This image is a user interface screen from a document database management tool focused on querying and managing documents. The user can select a specific bucket, scope, and collection (keyspace), set pagination parameters (limit and offset), and then view up to 200 documents from that collection. Each document is identified by a unique ID and partially shown as JSON content. Users can perform CRUD operations via buttons (edit, copy, delete, save). The sidebar menu shows system-wide options, with the highlighted section being Documents > Query. This is not a process flow or SOP but a data management interface snapshot.

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 7
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

=== Page 7 (Position Sorted) ===

5.    Select Fields：直接點選哪些字段需要被納入 Full Text Index
Edit Fields 部分，進一步設置索引字段的屬性：
o Type: 定義字段的類型，例如 vector。
o Dimension: 設定向量的維度，例如 1536。
o Similarity Metric: 選擇相似性度量，例如 dot_product。
6. 點擊 Create Index。
官方文件: https://docs.couchbase.com/server/current/vector-search/create-
vector-search-index-ui.html
3. 測試 Index
1. 前往 Search 的頁面，選擇剛建立的 Indexes。

Image 1: This image appears to be a screenshot of a user interface related to configuring or creating an index for a database or search system, likely within a NoSQL or document-oriented database environment.

Here is a detailed description focusing on the requested points:

1. **Text Content:**
   - At the top, there is a message in red text: "No documents available in this collection."
   - Labels and inputs shown include:
     - "Index Name" with a text input field containing the value "TEST."
     - "Keyspace" followed by a reference format "bucket.scope.collection," then three dropdown menus each set to "TEST."
     - "Index Replicas" with a dropdown menu set to "1."
     - "Index Partitions" with a text input field containing "6."

2. **Process Flows, Diagrams, or Organizational Charts:**
   - The image does not contain any diagrams or flowcharts. It is a form-based configuration interface.

3. **Key Visual Elements and Their Relationships:**
   - The UI is structured into fields for defining the index:
     - The "Index Name" field is for naming the index.
     - The "Keyspace" section breaks down the location of data into three hierarchical dropdowns, probably representing bucket, scope, and collection, which are common terms in document databases.
     - "Index Replicas" allows selection of the number of replicas for the index, indicating fault tolerance or redundancy.
     - "Index Partitions" indicates how many partitions the index will be split into, which affects scalability and performance.

4. **Technical Content, Steps, or Procedures:**
   - The user is expected to:
     - Provide an index name.
     - Select the keyspace components (bucket, scope, collection).
     - Choose the number of index replicas.
     - Specify the number of partitions for the index.
   - The red message at the top suggests that there are currently no documents in the selected collection, which might affect index creation or functionality.

5. **Important Data, Numbers, or Specific Details:**
   - Index Name: "TEST"
   - Keyspace components: all set to "TEST"
   - Index Replicas: 1
   - Index Partitions: 6
   - Notification: "No documents available in this collection."

**Summary:**

This image shows a configuration screen for creating or managing an index in a document database system. The user must specify the index name, select the keyspace (bucket, scope, collection), and configure index replicas and partitions. The absence of documents in the collection is noted, likely impacting index behavior. There are no process flows or decision branches visible—just form fields for inputting configuration parameters.
Image 2: This image depicts a user interface (UI) screen related to configuring an indexing system for a dataset, likely involving vector data for search or similarity purposes. The interface allows selection and editing of fields from a JSON-like data structure, with detailed options for how vector fields are indexed and searched.

---

### 1. Text Content Visible in the Image

- **Header/Option:**  
  - "Index everything* from collection: *data*" (checkbox, unchecked)  
  - "Select Fields documents selected randomly from the keyspace above"  
  - "Show xattr fields" (checkbox, unchecked)

- **JSON Data Snippet (partial):**  
  This JSON-like snippet shows bibliographic references followed by a key `"umc": "data",` and a key `"vector":` with an associated array of floating-point numbers such as:  
  ```
  "vector": [
    -0.002592427084755205,
    0.0059643984,
    -0.023695661432094665,
    ...
    -0.0063335886,
  ```
  This array appears to represent a numerical vector embedding of dimension 1536.

- **Edit Fields Section:**  
  Text: "The field at path *vector* is in the index as:"  
  - **Type:** Dropdown with value "vector" selected  
  - **Dimension:** Text input with value "1536"  
  - **Similarity Metric:** Dropdown with value "dot_product"  
  - **Optimized For:** Dropdown with value "recall"  
  - **Searchable As:** Text input with value "vector"  
  - **Update button**

- **Mapped Fields Table (partial):**  
  Columns:  
  - data (field name)  
  - searchable as: vector  
  - source JSON path: vector  
  - field mapping details: vector (dims: 1536; metric: dot_product; optimize...)  
  - Delete option

- **Bottom Buttons:**  
  - "Create Index" (blue button)  
  - "Cancel" (link)

---

### 2. Process Flows, Diagrams, or Organizational Charts

No explicit process flow diagram or organizational chart is present. However, the UI implies a workflow for indexing setup:

- User selects or confirms fields from a data collection (possibly JSON documents).  
- User edits the indexing configuration for a specific field (`vector`).  
- User specifies vector dimension, similarity metric, and optimization goals.  
- User confirms the configuration by clicking "Update" or "Create Index."

---

### 3. Key Visual Elements and Their Relationships

- **Checkboxes:** Control indexing scope and visibility of extended attributes.  
- **JSON Text Area:** Displays data sample for field selection and mapping.  
- **Edit Fields Panel:** Allows fine-tuning of vector indexing parameters.  
- **Mapped Fields Table:** Summarizes configured fields and their index settings.  
- **Action Buttons:** Facilitate saving or canceling the index creation.

The JSON snippet is on the left, editable indexing parameters on the right, and a summary table below, suggesting a left-to-right and top-to-bottom workflow for configuration.

---

### 4. Technical Content, Steps, or Procedures

The UI is part of a vector search or indexing system configuration. The technical steps inferred are:

1. **Field Selection:**  
   Choose which fields from the dataset to index. Here, the `"vector"` field is selected.

2. **Field Configuration:**  
   For the vector field, specify:  
   - **Type:** The data type is "vector".

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 7
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

- **Dimension:** The vector dimension is set to 1536, indicating each vector has 1536 numerical components.  
   - **Similarity Metric:** The dot product metric is selected for similarity calculations.  
   - **Optimization Target:** The system is optimized for "recall," meaning it prioritizes retrieving all relevant results over precision or speed.  
   - **Searchable As:** The field is searchable as "vector".

3. **Mapping Confirmation:**  
   The bottom table confirms the mapping of the `vector` field with metadata including dimension and metric.

4. **Create Index:**  
   The final step is to create the index with the configured parameters by clicking the "Create Index" button.

---

### 5. Important Data, Numbers, Specific Details

- **Vector Dimension:** 1536  
- **Similarity Metric:** dot_product  
- **Optimization Goal:** recall  
- **Sample Vector Values:** Negative and positive floating-point numbers, example:  
  ```
  -0.002592427084755205,
  0.0059643984,
  -0.023695661432094665,
  -0.024402417,
  -0.004968309537388534,
  0.017907532,
  -0.07308263131992357,
  -0.0063335886
  ```
- **Mapped Field:**  
  - Field Name: data  
  - Searchable as: vector  
  - Source JSON path: vector  
  - Details: dims: 1536; metric: dot_product; optimized for recall

---

### Summary

The image shows a configuration interface for creating a vector index on a dataset named "data." The user is selecting and editing fields to be indexed, focusing on a `"vector"` field that contains 1536-dimensional numerical embeddings. The system uses the dot product similarity metric and is optimized for recall in search operations. The interface displays a sample vector array, editable indexing parameters, and a summary of mapped fields. The final action available is to create the index with the current configuration. This setup is typical for vector-based search systems used in machine learning, recommendation engines, or semantic search applications.

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 8
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

=== Page 8 (Position Sorted) ===

2. 輸入測試查詢，檢查結果是否正確。
如何建立 USER 與設定權限
1. 建立 USER
1. 登入 Couchbase Web Console。
2. 在左側選單中選擇 Security，然後進入 Users 頁面。
3. 點擊 Add User 按鈕。
4. 填寫以下資訊：
Username: 輸入使用者名稱。
Password: 設定密碼。
Full Name: （可選）輸入使用者的完整名稱。

Image 1: The image depicts a user interface section titled "Full Text Indexes." This interface appears to be part of a software application or database management system designed for managing and searching indexed data. Below is a detailed breakdown based on the requested focus areas:

1. **Text Content Visible:**
   - The main heading reads: "Full Text Indexes."
   - There is a table-like row with the following column headers and values:
     - scoped access: (a checkmark icon is shown, indicating this is enabled or selected)
     - index name: "IEDM"
     - bucket: "IEDM"
     - scope: "umc"
     - collections: "data"
   - A search input box is present with placeholder text: "search this index..."
   - A blue search button with a magnifying glass icon is to the right of the input box.
   - Below the search box, there is a link or text: "query syntax help" (displayed in blue, suggesting it is clickable).
   - There are two expandable/collapsible options indicated by triangular icons:
     - "Show index definition JSON"
     - "Search Index Stats"

2. **Process Flows, Diagrams, or Organizational Charts:**
   - There are no explicit process flows, diagrams, or organizational charts visible in this image.
   - The UI elements suggest a workflow where a user can search within a specific full text index and optionally view detailed JSON definitions or statistics about the index.

3. **Key Visual Elements and Their Relationships:**
   - The checkmark icon at the start of the row suggests selection or active status of the "IEDM" index.
   - The row shows metadata about the index: its name, bucket, scope, and collection.
   - The search input and button are related; the user types a query into the box and clicks the button to perform a search within the selected index.
   - The "query syntax help" link provides guidance on how to format queries for the search.
   - The expandable sections below allow users to view more technical details about the index or its statistics, supporting deeper analysis or configuration.

4. **Technical Content, Steps, or Procedures:**
   - The interface appears to be part of a system managing full text search indexes, possibly for a database or document store.
   - The user can select an index (here, "IEDM" is selected) and run searches against it.
   - The presence of JSON definition and stats options implies that the user can inspect the underlying index structure and performance or usage metrics.
   - No explicit step-by-step procedure is shown, but the implied workflow is:
     1. Select or confirm the index to search.
     2. Enter a search query in the input box.
     3. Click the search button to execute the query.
     4. Optionally view index definition or stats for more information.

5. **Important Data, Numbers, or Specific Details:**
   - Index name: IEDM
   - Bucket: IEDM
   - Scope: umc
   - Collections: data
   - The checkmark indicates scoped access is enabled/active for this index.
   - The search box is empty, awaiting user input.
   - No numeric statistics or other numerical data are shown in this image.

---

### Summary
This image shows a user interface component for managing and searching full text indexes within a data environment. The currently selected index is "IEDM," scoped under "umc" with collections labeled "data." Users can input search queries targeting this index, access help for query syntax, and expand sections to view the index’s JSON definition or statistics. The interface supports efficient searching and index management but does not display detailed workflows or operational steps beyond basic search functionality.
Image 2: This image depicts a user interface screen from a software application named "ecom," specifically within the "Security" section. Here's a comprehensive analysis based on the specified points:

1. **Text Content:**
   - The main header shows the breadcrumb path: "ecom > Security."
   - There are several tabs visible near the top: "Users & Groups," "Certificates," "Audit," "SAML," "Other Settings."
   - The right side of the header contains buttons or links labeled "LDAP," "ADD GROUP," and "ADD USER" (highlighted with a red box).
   - Below, a filter box is present with placeholder text: "filter by username..."
   - A message area indicates two statuses: 
     - "saslauthd authentication is not enabled"
     - "LDAP/SAML is not enabled"
   - The main table displays columns: "username," "groups," "roles," "auth domain," and "password set."
   - Usernames listed are: allen, gordon, john, jordan, sam.
   - Groups listed: groupA (for gordon and jordan).
   - Roles listed:
     - gordon: Full Admin
     - john: Query Use Sequential Scans [*:*:*], Query Select [*:*:*], Data Reader [*:*:*]
     - jordan: Full Admin
     - sam: Full Admin
     - allen: no role listed.
   - Authentication domain for all users is "Couchbase."
   - Password set dates range from 6 Nov, 2024 to 7 Nov, 2024.
   - On the left side is a navigation menu with options: Dashboard, Servers, Buckets, Backup, XDCR, Security (highlighted), Settings, Logs.
   - Above the user list, toggle options "Users" (selected) and "Groups" are visible.

2. **Process Flows, Diagrams, or Organizational Charts:**
   - No explicit diagrams or flowcharts are present.
   - The layout implies a user management interface with options to filter, view, and add users or groups.

3. **Key Visual Elements and Their Relationships:**
   - The interface is divided into:
     - Navigation pane on the left.
     - Top bar with tabs and action buttons.
     - Main content area showing user information in a table.
   - The "ADD USER" button is emphasized, suggesting user addition is a key function here.
   - The filter box allows searching users by username.
   - The user table links usernames to groups, roles, authentication domains, and password set dates.

4. **Technical Content, Steps, or Procedures:**

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 8
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

- The interface is part of security user management, likely for an application or system managing access controls.
   - Users can be assigned roles with specific permissions, e.g., Full Admin or specific query rights.
   - Authentication is managed through domains like Couchbase.
   - The note about "saslauthd authentication is not enabled" and "LDAP/SAML is not enabled" indicates that external authentication methods are currently disabled.
   - The presence of "ADD USER" and "ADD GROUP" suggests procedures for adding new users or groups.
   - The filter feature supports locating specific user accounts quickly.

5. **Important Data, Numbers, or Specific Details:**
   - Usernames: allen, gordon, john, jordan, sam.
   - Groups: groupA (for gordon and jordan).
   - Roles:
     - Full Admin (gordon, jordan, sam)
     - Query Use Sequential Scans, Query Select, Data Reader (john)
   - Authentication domain: Couchbase for all.
   - Password set dates: Mostly 6 Nov, 2024; one on 7 Nov, 2024.
   - Authentication methods saslauthd and LDAP/SAML are disabled.

---

### Summary Interpretation:

This screen is a **User Management Interface** within a security module for an application called "ecom." It allows administrators to view current users, their group memberships, roles, authentication domains, and password set dates. It also provides options to add new users or groups. The interface shows that external authentication methods (saslauthd, LDAP/SAML) are currently disabled, implying local authentication is in use.

There is no flowchart or SOP explicitly shown, but the interface supports standard user management functions such as filtering users, viewing user details, and adding new users or groups. The roles indicate different permission levels, with some users having full administrative rights and others assigned specific query-related permissions.

No decision points or branching processes are visible in this static screenshot, but the presence of various tabs and buttons suggests that this interface is part of a larger security management workflow.

file_full_path: /tmp/uploads/ab928e07-6097-4a93-8f13-1db082dfb681/super_admin/Couchbase 使用說明文件 - 1.pdf
content_type: combined_text_image
datasetName: public_test
datasetId: ab928e07-6097-4a93-8f13-1db082dfb681
documentId: 0743bb0b-1a48-40b6-9526-6c1983ae9853
page: 9
source: Couchbase 使用說明文件 - 1.pdf
total_pages: 9

=== Page 9 (Position Sorted) ===

Image 1: This image depicts a user interface dialog box titled "Add New Group." It appears to be part of a software application, likely related to user management or access control within a system.

### 1. Text Content
- **Title:** "Add New Group" (located at the top in a blue header bar with a close button labeled "X" on the right).
- **Form Labels:**
  - Group Name
  - Description
  - Map to LDAP Group
  - Roles
- **Button Texts:**
  - Cancel (bottom left, in blue text)
  - Save (bottom right, on a blue button)

### 2. Process Flows, Diagrams, or Organizational Charts
- No explicit diagrams or flowcharts are present.
- The layout suggests a form submission process for creating or defining a new group with specific attributes and roles.

### 3. Key Visual Elements and Their Relationships
- The dialog box is divided primarily into two sections:
  - **Left section:** Contains three input text fields:
    - "Group Name" (single-line input)
    - "Description" (multi-line text area)
    - "Map to LDAP Group" (multi-line text area, suggesting possible multiple mappings)
  - **Right section:** Contains a collapsible list of "Roles." Each role category has a small triangle icon indicating it can be expanded or collapsed to show additional options or permissions under each category.
  
- The roles listed are:
  - Administrative
  - Bucket
  - Data
  - Views
  - Query & Index
  - Search
  - Analytics
  - Eventing
  - XDCR
  - Backup
  - Mobile

- At the bottom, two buttons allow the user to either cancel the operation or save the new group.

### 4. Technical Content, Steps, or Procedures
- This interface is used to create a new user group by specifying:
  1. The group's name.
  2. A description explaining the purpose or details of the group.
  3. An LDAP group mapping, which suggests integration with an LDAP directory for authentication or group synchronization.
  4. Assigning roles/permissions by expanding role categories and selecting specific roles (not shown but implied by expandable lists).

### 5. Important Data, Numbers, or Specific Details
- The roles listed are important as they define the scope of permissions or capabilities assigned to the group.
- The presence of "Map to LDAP Group" indicates this system supports directory integration.
- No numeric data is present.

---

### Summary of the Process to Add a New Group

1. **Input Group Name:** Enter a string representing the new group's name.
2. **Provide Description:** Optionally add details about the group.
3. **Map to LDAP Group:** Optionally enter the corresponding LDAP group for synchronization.
4. **Assign Roles:** Expand each role category to select appropriate permissions for the group.
5. **Save or Cancel:** Finalize the group creation by clicking "Save" or abort by clicking "Cancel."

No conditional branches or decision points are explicitly shown, but the expandable role sections imply that the user must decide which roles to assign. The form likely enforces validation, such as requiring a group name before saving.

---

This UI is a typical component of administrative software used to manage user groups and their permissions in a controlled environment, possibly for a database, content management system, or enterprise application.
Image 2: This image shows a user interface screen titled "Add New User," likely part of an administrative or user management system, specifically designed for creating a new user account with assigned roles or groups.

1. **Text Content:**
   - Title: "Add New User"
   - Form Fields:
     - Username (with example input: "TEST")
     - Full Name (optional, blank)
     - Password (masked input with four dots indicating entry)
     - Verify Password (blank)
   - Tabs:
     - "Roles" (selected)
     - "Groups" (not selected)
   - Roles Categories (listed under the Roles tab):
     - Administrative
     - Bucket
     - Data
     - Views
     - Query & Index
     - Search
     - Analytics
     - Eventing
     - XDCR
     - Backup
     - Mobile
   - Buttons:
     - "Cancel" (bottom left)
     - "Add User" (bottom right, highlighted in blue)

2. **Process Flows / Diagrams / Organizational Charts:**
   - No explicit diagrams or flowcharts are present.
   - The screen represents a step in the process of adding a new user, where a username and password are entered, and roles or groups are assigned.

3. **Key Visual Elements and Relationships:**
   - The form is divided into two main sections:
     - Left side: User credential inputs (username, full name, password, verify password).
     - Right side: Role or group assignment, with tabs to switch between roles and groups.
   - The "Roles" tab is currently active and displays a collapsible list of role categories. Each category can presumably be expanded to assign specific permissions or roles to the user.
   - The "Add User" button is highlighted to indicate the primary action after filling in the form.
   - The "Cancel" button is a secondary action to dismiss the form without saving.

4. **Technical Content, Steps, or Procedures:**
   - This screen is part of the procedure for adding a new user:
     - Step 1: Enter a unique username for the new user.
     - Step 2: Optionally provide the full name of the user.
     - Step 3: Enter and verify the password to ensure correctness.
     - Step 4: Assign roles or groups to the user by selecting from the categories shown.
     - Step 5: Confirm by clicking "Add User" to create the user account.
     - Alternatively, the user can cancel the operation.

5. **Important Data, Numbers, or Specific Details:**
   - Username example is "TEST."
   - Password field shows four characters masked.
   - Roles categories indicate a comprehensive permission system covering:
     - Administrative controls
     - Data management (Bucket, Data, Views)
     - Querying and indexing
     - Search functionalities
     - Analytics
     - Eventing mechanisms
     - XDCR (Cross Data Center Replication)
     - Backup operations
     - Mobile access

**Summary:**
This interface is designed for system administrators to create new user accounts by entering credentials and assigning specific roles or group memberships. The presence of detailed role categories suggests a fine-grained permission model. The process involves entering a username, optional full name, password, verifying the password, selecting roles or groups, and finally confirming with "Add User." The interface supports easy cancellation of the operation.
2025-07-31T22:49:54.817+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.ai.service.QAGenerationService   : Generating 10 Q/A pairs for entire document: Couchbase 使用說明文件 - 1.pdf (total content length: 65382 characters, 15 pages)
2025-07-31T22:50:08.856+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@63ee011a
2025-07-31T22:50:08.858+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:08.859+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3761926b-070f-4f64-93e6-975fb10dccaf","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:08.865+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@16c6c1c9
2025-07-31T22:50:08.867+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@383b6ad4
2025-07-31T22:50:08.868+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2bce5a18
2025-07-31T22:50:08.869+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5c1b9c6b
2025-07-31T22:50:08.870+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7c73c6a8
2025-07-31T22:50:08.871+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=aedb1365-fd24-4169-927a-f493fdfc4ff9 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1ffd6e38
2025-07-31T22:50:08.872+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=5eea8a5c-3264-4e19-ade5-d959381cff05 scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@46baf945
2025-07-31T22:50:08.872+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4642dd3d
2025-07-31T22:50:08.880+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@45ea98c5
2025-07-31T22:50:08.881+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:08.882+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"28c8b792-522c-40c5-8e8f-c41dae0112e5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:08.886+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1251881f
2025-07-31T22:50:08.887+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@437aa8c5
2025-07-31T22:50:08.888+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5f6531e6
2025-07-31T22:50:08.889+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4e58b67f
2025-07-31T22:50:08.890+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5057cedb
2025-07-31T22:50:08.891+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T22:50:08.892+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"f3974b2e-80c4-42d9-8e23-9f7e814b5d29","$teamId":"aedb1365-fd24-4169-927a-f493fdfc4ff9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:08.987+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T22:50:08.988+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["aedb1365-fd24-4169-927a-f493fdfc4ff9"],"client_context_id":"663d5bc3-213f-4f39-8401-b0053740c84a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:08.993+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T22:50:08.994+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[[]],"client_context_id":"19a63af9-e929-42e7-8658-1e3b44fdc057","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:09.141+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6afa743a
2025-07-31T22:50:09.142+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:09.143+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"1f4d223c-ba93-4d20-b4b1-f830a9baf7fc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:09.147+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@31517b62
2025-07-31T22:50:09.148+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@67b277a7
2025-07-31T22:50:09.149+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3198ea8f
2025-07-31T22:50:09.149+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@87a1322
2025-07-31T22:50:09.150+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@32cae324
2025-07-31T22:50:09.151+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T22:50:09.151+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"da80e420-b660-41aa-9d73-978f9cdc001d","$teamId":"aedb1365-fd24-4169-927a-f493fdfc4ff9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:10.837+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3e41e31b
2025-07-31T22:50:10.837+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@8475dc4
2025-07-31T22:50:10.837+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5d0b5fc1
2025-07-31T22:50:10.839+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:10.839+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:10.839+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"d2b87bb3-f509-4070-97f6-bdfd4e4a96e6","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:10.839+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:10.839+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2a2f1491-a8d7-4cc8-970a-32535e34db06","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:10.840+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"231cc479-37bd-4aa6-ad13-1307d606ca8d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:10.844+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@18bc0138
2025-07-31T22:50:10.844+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@14c09b6d
2025-07-31T22:50:10.844+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@54bd5e0c
2025-07-31T22:50:10.845+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7bebccc3
2025-07-31T22:50:10.845+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2d0c2e4f
2025-07-31T22:50:10.846+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@19d1798f
2025-07-31T22:50:10.846+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4a03b19e
2025-07-31T22:50:10.846+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1f97ef57
2025-07-31T22:50:10.847+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1e23c823
2025-07-31T22:50:10.847+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@27868567
2025-07-31T22:50:10.848+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@162e46bd
2025-07-31T22:50:10.848+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@701eba8a
2025-07-31T22:50:10.848+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5f4be56e
2025-07-31T22:50:10.849+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@625ace6
2025-07-31T22:50:10.849+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4eedd7bb
2025-07-31T22:50:10.849+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=default_team scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@7a63a790
2025-07-31T22:50:10.850+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T22:50:10.850+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T22:50:10.850+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=system scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2dbb6603
2025-07-31T22:50:10.850+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"ead22a70-3fcd-4b9b-9087-0a4cb8b5a782","$teamId":"default_team","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:10.850+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"f4577feb-8f4f-4b5a-bded-adcf886a25fc","$teamId":"default_team","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:10.851+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3e85736e
2025-07-31T22:50:10.929+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T22:50:10.930+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["default_team"],"client_context_id":"b58945e2-d228-40ae-a4bd-def5fb4c6c44","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:10.933+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T22:50:10.934+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[[]],"client_context_id":"82b4e2e8-f880-415c-b8bf-1a46cb81b611","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:12.280+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@467d6894
2025-07-31T22:50:12.280+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@b56b96f
2025-07-31T22:50:12.280+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4631b595
2025-07-31T22:50:12.281+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:12.281+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:12.282+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:12.282+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"5e2007c4-7766-4c1a-a2e0-2cfecd1a552e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:12.282+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"0d53c9b1-b125-47ea-994c-e6f6eb8ffd4f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:12.282+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"75ba09a9-c557-47cc-8c0d-efb0bdbe8d4f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:12.287+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@218989fd
2025-07-31T22:50:12.287+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3b813881
2025-07-31T22:50:12.287+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@68b0156e
2025-07-31T22:50:12.289+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@56d58610
2025-07-31T22:50:12.290+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@55ce083c
2025-07-31T22:50:12.290+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@d86189f
2025-07-31T22:50:12.290+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@68f6c064
2025-07-31T22:50:12.290+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@78daf3d9
2025-07-31T22:50:12.291+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@46d099a7
2025-07-31T22:50:12.291+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@67205afa
2025-07-31T22:50:12.291+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@445a3b05
2025-07-31T22:50:12.292+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@292e03a0
2025-07-31T22:50:12.292+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@a0be182
2025-07-31T22:50:12.292+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@762d463f
2025-07-31T22:50:12.293+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@415d788e
2025-07-31T22:50:12.293+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T22:50:12.293+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=aedb1365-fd24-4169-927a-f493fdfc4ff9 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@53872f2e
2025-07-31T22:50:12.294+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"6566f094-da10-4613-b714-f58bc0c1a5b6","$teamId":"aedb1365-fd24-4169-927a-f493fdfc4ff9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:12.294+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T22:50:12.294+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"73858af8-88cd-491f-bb66-69c4be850e43","$teamId":"aedb1365-fd24-4169-927a-f493fdfc4ff9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:12.294+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=5eea8a5c-3264-4e19-ade5-d959381cff05 scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7c6c5abc
2025-07-31T22:50:12.295+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-5] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@697bd427
2025-07-31T22:50:12.371+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T22:50:12.372+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["aedb1365-fd24-4169-927a-f493fdfc4ff9"],"client_context_id":"2f39fa30-b422-41eb-9902-93d053d9a074","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:12.375+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T22:50:12.376+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[[]],"client_context_id":"520a6917-a771-44c9-a721-e0a77336c649","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:13.411+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3e659145
2025-07-31T22:50:13.412+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@24e605db
2025-07-31T22:50:13.412+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4a97843b
2025-07-31T22:50:13.413+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:13.413+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"391a019d-e630-4bd3-956f-a51d75d48c23","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:13.413+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:13.413+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:13.414+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"c9f8ed99-4a99-4383-9881-06fed4d6c9a4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:13.414+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"fab6f1c0-104c-4efd-b3e8-c85002e95686","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:13.417+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@595dee3e
2025-07-31T22:50:13.418+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2f201068
2025-07-31T22:50:13.419+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@501e23d1
2025-07-31T22:50:13.419+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@e258f31
2025-07-31T22:50:13.420+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3aab18e1
2025-07-31T22:50:13.420+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@417f8846
2025-07-31T22:50:13.421+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@254c408f
2025-07-31T22:50:13.421+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@28564948
2025-07-31T22:50:13.421+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@11041e61
2025-07-31T22:50:13.421+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@538cbe41
2025-07-31T22:50:13.422+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1ecc7e62
2025-07-31T22:50:13.422+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5d81947
2025-07-31T22:50:13.423+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@68d6aa36
2025-07-31T22:50:13.423+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT '' as __id, tm.teamId AS teamId, tm.teamRoles AS teamRoles,
{
  "id": META(u).id,
  "name": u.name,
  "email": u.email,
  "status": u.status
} AS user
FROM `team-membership` tm
JOIN `user` u ON KEYS tm.userId
WHERE tm.teamId = $teamId

2025-07-31T22:50:13.423+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2479a286
2025-07-31T22:50:13.423+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4a28ec1a
2025-07-31T22:50:13.423+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"4d64ddd9-8248-4914-98af-8a81a7048b98","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:13.425+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@da795e8
2025-07-31T22:50:13.425+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT META(r).id AS __id,
              r.name AS name,
              r.description AS description,
              r.permissions AS permissions,
              r.isSystemRole AS isSystemRole,
              COUNT(DISTINCT m.userId) AS userCount
       FROM `team-role` r
       LEFT JOIN `team-membership` m
         ON ARRAY_CONTAINS(m.teamRoles, META(r).id)
         AND m.teamId = $teamId
       WHERE r.isSystemRole = true
       GROUP BY
           META(r).id,
           r.name,
           r.description,
           r.permissions,
           r.isSystemRole

2025-07-31T22:50:13.426+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"cc45da42-2989-4da8-84ba-e2dd2d6def74","$teamId":"c79e8f7a-7d4d-47d7-982e-e87b69df5ab5","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:13.426+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3b6f4cab
2025-07-31T22:50:13.426+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@66b5d6ea
2025-07-31T22:50:13.498+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement: SELECT `_class`, META(`team-role`).`id` AS __id, `teamId`, `name`, `description`, `permissions`, `isSystemRole` FROM `team-role` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamRole" AND `teamId` = $1
2025-07-31T22:50:13.498+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["c79e8f7a-7d4d-47d7-982e-e87b69df5ab5"],"client_context_id":"7e799043-b6cb-479a-9d41-3ea3f349b3f9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:13.502+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-role options: null statement:            SELECT '' AS __id, META(r).id AS roleId, COUNT(DISTINCT m.userId) AS userCount
           FROM `team-role` r
           LEFT JOIN `team-membership` m
           ON r.teamId = m.teamId
           AND ARRAY_CONTAINS(m.teamRoles, META(r).id)
           WHERE META(r).id IN $1
           GROUP BY META(r).id

2025-07-31T22:50:13.503+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":[["1bbc30d0-b706-4b33-b12e-976929405208","4f363b43-acef-4580-b066-77f6ace3f1a8"]],"client_context_id":"7d01977e-279d-41f1-9dda-dd22fbe0b798","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:15.161+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@709403d5
2025-07-31T22:50:15.163+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:15.164+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"af3ffe40-4e20-4749-a8ba-9a3d31131e54","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:15.172+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4bad70e4
2025-07-31T22:50:15.174+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1eff8fe2
2025-07-31T22:50:15.175+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4ea5ad43
2025-07-31T22:50:15.177+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@188ec9d4
2025-07-31T22:50:15.178+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3884a071
2025-07-31T22:50:15.179+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:50:15.180+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"17770392-af1d-4c17-9240-50407b8140eb","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:15.186+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:50:15.186+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"e84da5cd-05ae-4729-855b-13d4e16d7138","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:15.197+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@7c22d2da
2025-07-31T22:50:15.199+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:15.200+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"4214e131-7caf-49bf-8cef-1c5768ab712b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:15.205+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3e7d6158
2025-07-31T22:50:15.207+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@67175634
2025-07-31T22:50:15.208+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d24cb50
2025-07-31T22:50:15.210+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@27fa642c
2025-07-31T22:50:15.211+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7258a62a
2025-07-31T22:50:15.213+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:50:15.213+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"ed1bffe8-241c-4d34-a272-4803aac185ca","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:15.220+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:50:15.220+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b8c7c2e1-b6e0-4c42-8f68-44c720ae0016","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:17.796+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@6bf0ae1a
2025-07-31T22:50:17.798+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:50:17.799+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"cd05932a-5587-40e2-9652-58310dddfcc9","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:17.812+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@31c09e83
2025-07-31T22:50:17.814+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:50:17.814+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"7ff12ccc-ed2d-43b8-97b9-c04843085c0e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:17.834+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:50:17.835+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@19f923f7
2025-07-31T22:50:17.836+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:17.837+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"32e3a8d4-0824-4d5f-a11b-97e3bcb43e7e","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:17.842+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@28bfd1bf
2025-07-31T22:50:17.843+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6de8e7ce
2025-07-31T22:50:17.844+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@46c1567
2025-07-31T22:50:17.845+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@54da7886
2025-07-31T22:50:17.846+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@23e798b
2025-07-31T22:50:17.847+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:50:17.847+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:50:17.848+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:50:17.849+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"c79235ce-d9d5-4f0c-9266-134ae977f851","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:50:17.930+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : QA stats for document 0743bb0b-1a48-40b6-9526-6c1983ae9853: total=0, pending=0, approved=0, rejected=0
2025-07-31T22:50:17.935+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:50:17.936+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5ae6a81c
2025-07-31T22:50:17.937+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:17.937+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"3e4360d0-6f9d-4d06-a2c4-8f024fda4d59","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:17.942+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@39cad9b6
2025-07-31T22:50:17.943+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@57e46732
2025-07-31T22:50:17.944+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4afec297
2025-07-31T22:50:17.945+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2537359c
2025-07-31T22:50:17.946+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4adf4fe5
2025-07-31T22:50:17.947+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:50:17.947+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:50:17.948+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:50:17.949+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"49b8b672-ea8f-41ae-a6e3-5d6136f2c406","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:50:18.029+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : QA stats for document 0743bb0b-1a48-40b6-9526-6c1983ae9853: total=0, pending=0, approved=0, rejected=0
2025-07-31T22:50:18.962+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2f23f8a3
2025-07-31T22:50:18.964+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:18.964+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"17220917-dc79-4330-ae9a-16d4d1432cda","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:18.969+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@44b6d85c
2025-07-31T22:50:18.971+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@30190fe2
2025-07-31T22:50:18.972+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7c7963d
2025-07-31T22:50:18.973+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@37918086
2025-07-31T22:50:18.974+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4517ca10
2025-07-31T22:50:18.975+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:50:18.975+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"d8b33b3c-6b6b-417b-96bc-e6def1f77ce7","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:18.980+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:50:18.981+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"8cd54c2a-b298-4244-bf50-ab065bdbe42a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:18.988+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@1b027baf
2025-07-31T22:50:18.989+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:50:18.989+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6e8a5557-3412-40f7-bb2d-f5e335ed486f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:18.994+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@53c8eca3
2025-07-31T22:50:18.995+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3da618be
2025-07-31T22:50:18.996+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2c8c02e5
2025-07-31T22:50:18.997+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@24dbdbd8
2025-07-31T22:50:18.998+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@30629614
2025-07-31T22:50:18.999+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT `_class`, META(`dataset`).`id` AS __id, `name`, `description`, `teamId`, `accessType`, `authorizedTeamIds`, `tags`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset" ORDER BY createdDateTime DESC,name ASC LIMIT 12
2025-07-31T22:50:19.000+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"30413ba5-fc6a-45c5-8d0f-96fcbe074f14","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:19.004+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: dataset options: null statement: SELECT COUNT("*") AS `count` FROM `dataset` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Dataset"
2025-07-31T22:50:19.004+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"7f323cc9-8ec8-401e-9995-537a979ec67d","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:50:52.425+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.ai.service.QAGenerationService   : AI Response for Q/A generation (length: 4974): Q1: 如何在 Couchbase 中建立一個新的 Bucket？請描述建立過程及相關設定選項。  
A1: 在 Couchbase 中建立新的 Bucket，使用者需進入 Buckets 頁面，點擊右上方的「ADD BUCKET」按鈕，打開新增 Bucket 的對話框。主要步驟包括：  
1. 輸入 Bucket 名稱（例如：TEST）。  
2. 選擇 Bucket 類型，有三種選項：Couchbase（預設）、Memcached、Ephemeral。  
3. 選擇儲存後端（Storage Backend），可選擇 CouchStore 或 Magma。  
4. 設定每個伺服器節點的記憶體配額（Memory Quota），單位為 MiB（例如：2000 MiB）。  
5. 介面中有記憶體使用狀況條，顯示其他 Buckets 的用量、本 Bucket 的配額及剩餘可用記憶體。  
6. (可選) 展開進階設定以調整更多細節。  
7. 確認所有設定無誤後，點擊「Add Bucket」完成建立，或點擊「Cancel」取消。  
此流程確保使用者明確設定 Bucket 名稱、類型、存儲方式及資源限制，方便管理與監控。

---

Q2: Couchbase 中如何建立 Scopes 與 Collections？請說明操作步驟。  
A2: 在 Couchbase 中建立 Scopes 與 Collections 的步驟如下：  
1. 先點擊已建立的 Bucket 名稱，進入該 Bucket 的設定頁面。  
2. 前往「Scopes & Collections」頁籤。  
3. 建立 Scope：點擊「Add Scope」按鈕，輸入欲新增的 Scope 名稱，然後點擊「Save」。  
4. 建立 Collection：在指定的 Scope 下，點擊「Add Collection」按鈕，輸入 Collection 名稱（例如：TEST），可設定 Max Time-To-Live（TTL，存活時間，預設為0表示無限期）。  
5. 點擊「Save」完成 Collection 建立。  
Scopes 與 Collections 是 Couchbase 中資料的邏輯分層架構，方便組織與管理資料。

---

Q3: 如何使用 Couchbase 的 cbimport 工具匯入 CSV 檔案？包含必要參數及設定。  
A3: 使用 cbimport 工具匯入 CSV 檔案的基本步驟與參數如下：  
1. 準備好包含標題列的 CSV 檔案。  
2. 執行 cbimport 命令，範例如下：  
```
./opt/couchbase/bin/cbimport csv --infer-types -c <HOST>:8091 -u <USERNAME> -p <PASSWORD> -d '<FILE_PATH>' -b '<BUCKET_NAME>' --scope-collection-exp "<SCOPE>.<COLLECTION>" -g %<KEY>% -t 4
```  
其中：  
- `-c` 指定 Couchbase 叢集主機與埠號。  
- `-u` 與 `-p` 分別為使用者名稱與密碼。  
- `-d` 指定檔案路徑（例如：file://couchbase_data.csv）。  
- `-b` 目標 Bucket 名稱。  
- `--scope-collection-exp` 指定 Scope 與 Collection，格式為 `<scope>.<collection>`。  
- `-g` 指定文件 ID 的欄位或格式（例如 `%ID%`）。  
- `-t` 指定執行緒數，提高匯入效率。  
3. 建議檔案大小超過 100MB 或需更高效能時，使用命令行工具 cbimport。  
4. 也可透過 Couchbase Web Console 匯入，但檔案大小限制在 100MB 以內。  
此流程可有效將結構化 CSV 資料匯入指定 Bucket 的 Scope 和 Collection 中。

---

Q4: Couchbase 中匯入 JSON 檔案時，有哪些重要配置選項？  
A4: 匯入 JSON 檔案時，重要配置項目包括：  
1. 選擇要匯入的 JSON 檔案。  
2. 指定解析格式（Parse File As），選擇 JSON。  
3. 選擇目標 Keyspace（Bucket、Scope、Collection）。  
4. 設定文件 ID 的生成方式，有兩種選項：  
   - UUID：系統自動產生唯一 ID。  
   - Value of Field：使用 JSON 文件中指定欄位作為文件 ID。  
5. 透過 Web Console 可檢視原始檔案內容與解析結果，方便確認資料格式。  
6. 對於超大型資料集，建議使用 cbimport 命令行工具進行匯入以提升效能。  
7. 匯入時需確保文件 ID 欄位名稱不可重複，以避免資料覆蓋。  
此配置確保 JSON 資料正確匯入並可在 Couchbase 中有效存取。

---

Q5: 描述 Couchbase 中建立 Full Text Index 的步驟及需填寫的主要資訊。  
A5: 在 Couchbase 中建立 Full Text Index（全文索引）的主要步驟如下：  
1. 登入 Couchbase Web Console。  
2. 從左側選單點選「Search」。  
3. 點擊左上角的「Quick Index」按鈕，開啟建立索引視窗。  
4. 填寫索引名稱（Index Name），用來識別此索引。  
5. 選擇 Keyspace，包括目標 Bucket、Scope 和 Collection。  
6. 設定 Index Partitions，輸入節點數的倍數，影響索引的分區數量與效能。  
7. 指定 Index Replicas（副本數），確保索引容錯與可用性。  
8. 在「Select Fields」中直接點選欲納入全文索引的欄位。  
9. 在 Edit Fields 中可進一步設定索引欄位的屬性，如類型、維度、相似度度量等（尤其用於向量索引）。  
10. 確認設定後，點擊「Create Index」完成索引建立。  
此過程建立了可針對指定 Keyspace 進行全文或向量搜尋的索引結構。

---

Q6: Couchbase 支持哪些向量索引設定參數？請說明其意義與用途。  
A6: Couchbase 向量索引主要參數包括：  
- **Type（類型）**：通常設定為 "vector"，代表索引欄位為向量資料。  
- **Dimension（維度）**：向量的數值維度大小，例如 1536，表示每個向量包含 1536 個數值元素。  
- **Similarity Metric（相似度度量）**：用於計算向量間相似性的函數，例如 dot_product（內積）。  
- **Optimized For（優化目標）**：指索引優先考量的效果，如 recall（召回率）。  
- **Searchable As（搜尋型態）**：定義該欄位在索引中的搜尋類型，通常設定為 "vector"。  
這些設定有助於建立高效的向量搜尋索引，適合機器學習、推薦系統、語意搜尋等應用場景。用戶可根據資料特性與需求調整參數以達最佳搜尋效果。

---

Q7: Couchbase 中如何使用介面查詢及管理文件？請描述操作介面與功能。  
A7: Couchbase 提供文件管理與查詢介面，主要功能包括：  
1. 使用者可選擇 Keyspace，包括 Bucket、Scope、Collection，定義資料範圍。  
2. 設定查詢參數，如結果限制（Limit）與偏移量（Offset），控制分頁與顯示數量。  
3. 查詢結果以表格形式呈現，每筆文件顯示文件 ID 及部分 JSON 內容。  
4. 每筆文件旁有操作按鈕，如編輯（Edit）、複製（Duplicate/Copy）、刪除（Delete）、儲存（Save），方便直接管理資料。  
5. 左側導覽欄包含 Dashboard、Servers、Buckets、Backup、XDCR、Security、Settings 等模組。  
6. 使用者可透過輸入查詢語句或搜尋欄快速尋找特定文件。  
此介面適合資料管理者直接操作或查詢資料庫中文件，支援即時編輯與維護。

---

Q8: Couchbase 如何建立及管理使用者帳號與權限？請列出主要步驟與角色設定。  
A8: 建立與管理使用者帳號與權限的主要流程：  
1. 登入 Couchbase Web Console。  
2. 點擊左側選單的「Security」，進入 Users 頁面。  
3. 點擊「Add User」按鈕，開啟新增使用者視窗。  
4. 輸入使用者名稱（Username）、設定密碼（Password）、可選填完整名稱（Full Name）。  
5. 指定該使用者的角色（Roles），角色分為多個類別，如 Administrative、Bucket、Data、Views、Query & Index、Search、Analytics、Eventing、XDCR、Backup、Mobile 等，授予不同權限。  
6. 也可將使用者加入特定群組（Groups）以套用群組權限。  
7. 點擊「Add User」完成帳號建立。  
8. 使用者列表頁面可查看並管理現有使用者，包含角色、群組、認證域等資訊。  
此外，LDAP、SAML 等外部認證目前未啟用，系統以本地認證為主。此機制確保安全且彈性的存取控制。

---

Q9: 如何在 Couchbase 中建立新的使用者群組？包含該群組的設定項目。  
A9: 建立新的使用者群組流程如下：  
1. 進入 Couchbase Web Console 的 Security > Groups 頁面。  
2. 點擊「Add Group」開啟新增群組視窗。  
3. 輸入群組名稱（Group Name）。  
4. 可輸入群組描述（Description），說明群組用途或相關資訊。  
5. (可選) 設定 LDAP 群組對應（Map to LDAP Group），支援與外部目錄服務整合。  
6. 指定群組角色（Roles），角色分類與使用者角色相同，包括 Administrative、Bucket、Data 等多種類別。角色可展開選擇具體權限。  
7. 按「Save」完成群組建立。  
群組管理方便以群組為單位設定權限，簡化使用者的權限分配與維護。

---

Q10: Couchbase 匯入 CSV/JSON 資料時，如何設定文件 ID？有何注意事項？  
A10: 匯入 CSV 或 JSON 資料時，文件 ID（Document ID）的設定方式有兩種：  
1. **UUID 自動產生**：系統會為每筆文件自動產生一個唯一識別碼，確保文件唯一性。  
2. **使用資料欄位值**：指定文件中某個欄位作為文件 ID，例如欄位名稱為「ID」。此方式可確保匯入資料與 Couchbase 中文件一一對應。  
注意事項：  
- 文件 ID 欄位名稱必須在資料中唯一，避免因重複導致資料覆蓋或匯入失敗。  
- 若檔案較大（超過 100MB），建議使用 cbimport 命令行工具進行匯入，提高效能與穩定性。  
- 在 Web Console 匯入時，檔案有大小限制（100MB 以內）。  
- 文件 ID 設定影響資料存取與更新策略，選擇合適方式有助於維護資料一致性與查詢效率。  
此設定是匯入流程中關鍵步驟，直接影響資料庫中文件的唯一標示與管理。
2025-07-31T22:50:52.431+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.ai.service.QAGenerationService   : Successfully parsed 10 Q/A pairs
2025-07-31T22:50:52.432+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=c1744887-622b-4ecb-a3c9-cf5ff9004675, question=如何在 Couchbase 中建立一個新的 Bucket？請描述建立過程及相關設定選項。, answer=在 Couchbase 中建立新的 Bucket，使用者需進入 Buckets 頁面，點擊右上方的「ADD BUCKET」按鈕，打開新增 Bucket 的對話框。主要步驟包括： 1. 輸入 Bucket 名稱（例如：TEST）。 2. 選擇 Bucket 類型，有三種選項：Couchbase（預設）、Memcached、Ephemeral。 3. 選擇儲存後端（Storage Backend），可選擇 CouchStore 或 Magma。 4. 設定每個伺服器節點的記憶體配額（Memory Quota），單位為 MiB（例如：2000 MiB）。 5. 介面中有記憶體使用狀況條，顯示其他 Buckets 的用量、本 Bucket 的配額及剩餘可用記憶體。 6. (可選) 展開進階設定以調整更多細節。 7. 確認所有設定無誤後，點擊「Add Bucket」完成建立，或點擊「Cancel」取消。 此流程確保使用者明確設定 Bucket 名稱、類型、存儲方式及資源限制，方便管理與監控。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=1, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431911797, updatedAt=2025-07-31T22:50:52.431917382, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:50:52.447+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=c1744887-622b-4ecb-a3c9-cf5ff9004675, question=如何在 Couchbase 中建立一個新的 Bucket？請描述建立過程及相關設定選項。, answer=在 Couchbase 中建立新的 Bucket，使用者需進入 Buckets 頁面，點擊右上方的「ADD BUCKET」按鈕，打開新增 Bucket 的對話框。主要步驟包括： 1. 輸入 Bucket 名稱（例如：TEST）。 2. 選擇 Bucket 類型，有三種選項：Couchbase（預設）、Memcached、Ephemeral。 3. 選擇儲存後端（Storage Backend），可選擇 CouchStore 或 Magma。 4. 設定每個伺服器節點的記憶體配額（Memory Quota），單位為 MiB（例如：2000 MiB）。 5. 介面中有記憶體使用狀況條，顯示其他 Buckets 的用量、本 Bucket 的配額及剩餘可用記憶體。 6. (可選) 展開進階設定以調整更多細節。 7. 確認所有設定無誤後，點擊「Add Bucket」完成建立，或點擊「Cancel」取消。 此流程確保使用者明確設定 Bucket 名稱、類型、存儲方式及資源限制，方便管理與監控。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=1, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431911797, updatedAt=2025-07-31T22:50:52.431917382, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:50:52.450+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:50:52.451+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=2c6bab12-9101-4450-a5a9-7f1dbb64c48f, question=Couchbase 中如何建立 Scopes 與 Collections？請說明操作步驟。, answer=在 Couchbase 中建立 Scopes 與 Collections 的步驟如下： 1. 先點擊已建立的 Bucket 名稱，進入該 Bucket 的設定頁面。 2. 前往「Scopes & Collections」頁籤。 3. 建立 Scope：點擊「Add Scope」按鈕，輸入欲新增的 Scope 名稱，然後點擊「Save」。 4. 建立 Collection：在指定的 Scope 下，點擊「Add Collection」按鈕，輸入 Collection 名稱（例如：TEST），可設定 Max Time-To-Live（TTL，存活時間，預設為0表示無限期）。 5. 點擊「Save」完成 Collection 建立。 Scopes 與 Collections 是 Couchbase 中資料的邏輯分層架構，方便組織與管理資料。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=2, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431953482, updatedAt=2025-07-31T22:50:52.431954052, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:50:52.452+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=2c6bab12-9101-4450-a5a9-7f1dbb64c48f, question=Couchbase 中如何建立 Scopes 與 Collections？請說明操作步驟。, answer=在 Couchbase 中建立 Scopes 與 Collections 的步驟如下： 1. 先點擊已建立的 Bucket 名稱，進入該 Bucket 的設定頁面。 2. 前往「Scopes & Collections」頁籤。 3. 建立 Scope：點擊「Add Scope」按鈕，輸入欲新增的 Scope 名稱，然後點擊「Save」。 4. 建立 Collection：在指定的 Scope 下，點擊「Add Collection」按鈕，輸入 Collection 名稱（例如：TEST），可設定 Max Time-To-Live（TTL，存活時間，預設為0表示無限期）。 5. 點擊「Save」完成 Collection 建立。 Scopes 與 Collections 是 Couchbase 中資料的邏輯分層架構，方便組織與管理資料。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=2, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431953482, updatedAt=2025-07-31T22:50:52.431954052, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:50:52.453+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:50:52.454+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=7928f228-7124-47a8-9b20-7a41bc8917d7, question=如何使用 Couchbase 的 cbimport 工具匯入 CSV 檔案？包含必要參數及設定。, answer=使用 cbimport 工具匯入 CSV 檔案的基本步驟與參數如下： 1. 準備好包含標題列的 CSV 檔案。 2. 執行 cbimport 命令，範例如下： ``` ./opt/couchbase/bin/cbimport csv --infer-types -c <HOST>:8091 -u <USERNAME> -p <PASSWORD> -d '<FILE_PATH>' -b '<BUCKET_NAME>' --scope-collection-exp "<SCOPE>.<COLLECTION>" -g %<KEY>% -t 4 ``` 其中： - `-c` 指定 Couchbase 叢集主機與埠號。 - `-u` 與 `-p` 分別為使用者名稱與密碼。 - `-d` 指定檔案路徑（例如：file://couchbase_data.csv）。 - `-b` 目標 Bucket 名稱。 - `--scope-collection-exp` 指定 Scope 與 Collection，格式為 `<scope>.<collection>`。 - `-g` 指定文件 ID 的欄位或格式（例如 `%ID%`）。 - `-t` 指定執行緒數，提高匯入效率。 3. 建議檔案大小超過 100MB 或需更高效能時，使用命令行工具 cbimport。 4. 也可透過 Couchbase Web Console 匯入，但檔案大小限制在 100MB 以內。 此流程可有效將結構化 CSV 資料匯入指定 Bucket 的 Scope 和 Collection 中。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=3, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431955947, updatedAt=2025-07-31T22:50:52.431956216, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:50:52.455+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=7928f228-7124-47a8-9b20-7a41bc8917d7, question=如何使用 Couchbase 的 cbimport 工具匯入 CSV 檔案？包含必要參數及設定。, answer=使用 cbimport 工具匯入 CSV 檔案的基本步驟與參數如下： 1. 準備好包含標題列的 CSV 檔案。 2. 執行 cbimport 命令，範例如下： ``` ./opt/couchbase/bin/cbimport csv --infer-types -c <HOST>:8091 -u <USERNAME> -p <PASSWORD> -d '<FILE_PATH>' -b '<BUCKET_NAME>' --scope-collection-exp "<SCOPE>.<COLLECTION>" -g %<KEY>% -t 4 ``` 其中： - `-c` 指定 Couchbase 叢集主機與埠號。 - `-u` 與 `-p` 分別為使用者名稱與密碼。 - `-d` 指定檔案路徑（例如：file://couchbase_data.csv）。 - `-b` 目標 Bucket 名稱。 - `--scope-collection-exp` 指定 Scope 與 Collection，格式為 `<scope>.<collection>`。 - `-g` 指定文件 ID 的欄位或格式（例如 `%ID%`）。 - `-t` 指定執行緒數，提高匯入效率。 3. 建議檔案大小超過 100MB 或需更高效能時，使用命令行工具 cbimport。 4. 也可透過 Couchbase Web Console 匯入，但檔案大小限制在 100MB 以內。 此流程可有效將結構化 CSV 資料匯入指定 Bucket 的 Scope 和 Collection 中。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=3, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431955947, updatedAt=2025-07-31T22:50:52.431956216, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:50:52.455+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:50:52.456+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=0ead3ef7-ef2d-4476-8e4d-b2a8ac827f7d, question=Couchbase 中匯入 JSON 檔案時，有哪些重要配置選項？, answer=匯入 JSON 檔案時，重要配置項目包括： 1. 選擇要匯入的 JSON 檔案。 2. 指定解析格式（Parse File As），選擇 JSON。 3. 選擇目標 Keyspace（Bucket、Scope、Collection）。 4. 設定文件 ID 的生成方式，有兩種選項： - UUID：系統自動產生唯一 ID。 - Value of Field：使用 JSON 文件中指定欄位作為文件 ID。 5. 透過 Web Console 可檢視原始檔案內容與解析結果，方便確認資料格式。 6. 對於超大型資料集，建議使用 cbimport 命令行工具進行匯入以提升效能。 7. 匯入時需確保文件 ID 欄位名稱不可重複，以避免資料覆蓋。 此配置確保 JSON 資料正確匯入並可在 Couchbase 中有效存取。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=4, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431957491, updatedAt=2025-07-31T22:50:52.431957762, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:50:52.457+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=0ead3ef7-ef2d-4476-8e4d-b2a8ac827f7d, question=Couchbase 中匯入 JSON 檔案時，有哪些重要配置選項？, answer=匯入 JSON 檔案時，重要配置項目包括： 1. 選擇要匯入的 JSON 檔案。 2. 指定解析格式（Parse File As），選擇 JSON。 3. 選擇目標 Keyspace（Bucket、Scope、Collection）。 4. 設定文件 ID 的生成方式，有兩種選項： - UUID：系統自動產生唯一 ID。 - Value of Field：使用 JSON 文件中指定欄位作為文件 ID。 5. 透過 Web Console 可檢視原始檔案內容與解析結果，方便確認資料格式。 6. 對於超大型資料集，建議使用 cbimport 命令行工具進行匯入以提升效能。 7. 匯入時需確保文件 ID 欄位名稱不可重複，以避免資料覆蓋。 此配置確保 JSON 資料正確匯入並可在 Couchbase 中有效存取。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=4, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431957491, updatedAt=2025-07-31T22:50:52.431957762, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:50:52.457+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:50:52.459+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=4ede9b28-9230-4168-be74-0c1fc3f84b82, question=描述 Couchbase 中建立 Full Text Index 的步驟及需填寫的主要資訊。, answer=在 Couchbase 中建立 Full Text Index（全文索引）的主要步驟如下： 1. 登入 Couchbase Web Console。 2. 從左側選單點選「Search」。 3. 點擊左上角的「Quick Index」按鈕，開啟建立索引視窗。 4. 填寫索引名稱（Index Name），用來識別此索引。 5. 選擇 Keyspace，包括目標 Bucket、Scope 和 Collection。 6. 設定 Index Partitions，輸入節點數的倍數，影響索引的分區數量與效能。 7. 指定 Index Replicas（副本數），確保索引容錯與可用性。 8. 在「Select Fields」中直接點選欲納入全文索引的欄位。 9. 在 Edit Fields 中可進一步設定索引欄位的屬性，如類型、維度、相似度度量等（尤其用於向量索引）。 10. 確認設定後，點擊「Create Index」完成索引建立。 此過程建立了可針對指定 Keyspace 進行全文或向量搜尋的索引結構。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=5, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431958829, updatedAt=2025-07-31T22:50:52.431959094, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:50:52.459+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=4ede9b28-9230-4168-be74-0c1fc3f84b82, question=描述 Couchbase 中建立 Full Text Index 的步驟及需填寫的主要資訊。, answer=在 Couchbase 中建立 Full Text Index（全文索引）的主要步驟如下： 1. 登入 Couchbase Web Console。 2. 從左側選單點選「Search」。 3. 點擊左上角的「Quick Index」按鈕，開啟建立索引視窗。 4. 填寫索引名稱（Index Name），用來識別此索引。 5. 選擇 Keyspace，包括目標 Bucket、Scope 和 Collection。 6. 設定 Index Partitions，輸入節點數的倍數，影響索引的分區數量與效能。 7. 指定 Index Replicas（副本數），確保索引容錯與可用性。 8. 在「Select Fields」中直接點選欲納入全文索引的欄位。 9. 在 Edit Fields 中可進一步設定索引欄位的屬性，如類型、維度、相似度度量等（尤其用於向量索引）。 10. 確認設定後，點擊「Create Index」完成索引建立。 此過程建立了可針對指定 Keyspace 進行全文或向量搜尋的索引結構。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=5, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431958829, updatedAt=2025-07-31T22:50:52.431959094, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:50:52.460+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:50:52.461+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=6d9ecc9e-339c-44e6-87ad-654d9b39c228, question=Couchbase 支持哪些向量索引設定參數？請說明其意義與用途。, answer=Couchbase 向量索引主要參數包括： - **Type（類型）**：通常設定為 "vector"，代表索引欄位為向量資料。 - **Dimension（維度）**：向量的數值維度大小，例如 1536，表示每個向量包含 1536 個數值元素。 - **Similarity Metric（相似度度量）**：用於計算向量間相似性的函數，例如 dot_product（內積）。 - **Optimized For（優化目標）**：指索引優先考量的效果，如 recall（召回率）。 - **Searchable As（搜尋型態）**：定義該欄位在索引中的搜尋類型，通常設定為 "vector"。 這些設定有助於建立高效的向量搜尋索引，適合機器學習、推薦系統、語意搜尋等應用場景。用戶可根據資料特性與需求調整參數以達最佳搜尋效果。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=6, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431959958, updatedAt=2025-07-31T22:50:52.431960219, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:50:52.462+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=6d9ecc9e-339c-44e6-87ad-654d9b39c228, question=Couchbase 支持哪些向量索引設定參數？請說明其意義與用途。, answer=Couchbase 向量索引主要參數包括： - **Type（類型）**：通常設定為 "vector"，代表索引欄位為向量資料。 - **Dimension（維度）**：向量的數值維度大小，例如 1536，表示每個向量包含 1536 個數值元素。 - **Similarity Metric（相似度度量）**：用於計算向量間相似性的函數，例如 dot_product（內積）。 - **Optimized For（優化目標）**：指索引優先考量的效果，如 recall（召回率）。 - **Searchable As（搜尋型態）**：定義該欄位在索引中的搜尋類型，通常設定為 "vector"。 這些設定有助於建立高效的向量搜尋索引，適合機器學習、推薦系統、語意搜尋等應用場景。用戶可根據資料特性與需求調整參數以達最佳搜尋效果。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=6, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431959958, updatedAt=2025-07-31T22:50:52.431960219, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:50:52.462+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:50:52.464+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=339f5866-e54c-4b6a-8763-d3bccf64c167, question=Couchbase 中如何使用介面查詢及管理文件？請描述操作介面與功能。, answer=Couchbase 提供文件管理與查詢介面，主要功能包括： 1. 使用者可選擇 Keyspace，包括 Bucket、Scope、Collection，定義資料範圍。 2. 設定查詢參數，如結果限制（Limit）與偏移量（Offset），控制分頁與顯示數量。 3. 查詢結果以表格形式呈現，每筆文件顯示文件 ID 及部分 JSON 內容。 4. 每筆文件旁有操作按鈕，如編輯（Edit）、複製（Duplicate/Copy）、刪除（Delete）、儲存（Save），方便直接管理資料。 5. 左側導覽欄包含 Dashboard、Servers、Buckets、Backup、XDCR、Security、Settings 等模組。 6. 使用者可透過輸入查詢語句或搜尋欄快速尋找特定文件。 此介面適合資料管理者直接操作或查詢資料庫中文件，支援即時編輯與維護。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=7, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431961159, updatedAt=2025-07-31T22:50:52.431961448, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:50:52.465+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=339f5866-e54c-4b6a-8763-d3bccf64c167, question=Couchbase 中如何使用介面查詢及管理文件？請描述操作介面與功能。, answer=Couchbase 提供文件管理與查詢介面，主要功能包括： 1. 使用者可選擇 Keyspace，包括 Bucket、Scope、Collection，定義資料範圍。 2. 設定查詢參數，如結果限制（Limit）與偏移量（Offset），控制分頁與顯示數量。 3. 查詢結果以表格形式呈現，每筆文件顯示文件 ID 及部分 JSON 內容。 4. 每筆文件旁有操作按鈕，如編輯（Edit）、複製（Duplicate/Copy）、刪除（Delete）、儲存（Save），方便直接管理資料。 5. 左側導覽欄包含 Dashboard、Servers、Buckets、Backup、XDCR、Security、Settings 等模組。 6. 使用者可透過輸入查詢語句或搜尋欄快速尋找特定文件。 此介面適合資料管理者直接操作或查詢資料庫中文件，支援即時編輯與維護。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=7, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431961159, updatedAt=2025-07-31T22:50:52.431961448, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:50:52.465+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:50:52.466+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=a40f013b-2582-4378-9fa4-47b52589caaf, question=Couchbase 如何建立及管理使用者帳號與權限？請列出主要步驟與角色設定。, answer=建立與管理使用者帳號與權限的主要流程： 1. 登入 Couchbase Web Console。 2. 點擊左側選單的「Security」，進入 Users 頁面。 3. 點擊「Add User」按鈕，開啟新增使用者視窗。 4. 輸入使用者名稱（Username）、設定密碼（Password）、可選填完整名稱（Full Name）。 5. 指定該使用者的角色（Roles），角色分為多個類別，如 Administrative、Bucket、Data、Views、Query & Index、Search、Analytics、Eventing、XDCR、Backup、Mobile 等，授予不同權限。 6. 也可將使用者加入特定群組（Groups）以套用群組權限。 7. 點擊「Add User」完成帳號建立。 8. 使用者列表頁面可查看並管理現有使用者，包含角色、群組、認證域等資訊。 此外，LDAP、SAML 等外部認證目前未啟用，系統以本地認證為主。此機制確保安全且彈性的存取控制。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=8, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431962336, updatedAt=2025-07-31T22:50:52.431962600, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:50:52.467+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=a40f013b-2582-4378-9fa4-47b52589caaf, question=Couchbase 如何建立及管理使用者帳號與權限？請列出主要步驟與角色設定。, answer=建立與管理使用者帳號與權限的主要流程： 1. 登入 Couchbase Web Console。 2. 點擊左側選單的「Security」，進入 Users 頁面。 3. 點擊「Add User」按鈕，開啟新增使用者視窗。 4. 輸入使用者名稱（Username）、設定密碼（Password）、可選填完整名稱（Full Name）。 5. 指定該使用者的角色（Roles），角色分為多個類別，如 Administrative、Bucket、Data、Views、Query & Index、Search、Analytics、Eventing、XDCR、Backup、Mobile 等，授予不同權限。 6. 也可將使用者加入特定群組（Groups）以套用群組權限。 7. 點擊「Add User」完成帳號建立。 8. 使用者列表頁面可查看並管理現有使用者，包含角色、群組、認證域等資訊。 此外，LDAP、SAML 等外部認證目前未啟用，系統以本地認證為主。此機制確保安全且彈性的存取控制。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=8, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431962336, updatedAt=2025-07-31T22:50:52.431962600, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:50:52.468+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:50:52.469+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=ddbc777e-c769-487b-a45f-e84093cbd778, question=如何在 Couchbase 中建立新的使用者群組？包含該群組的設定項目。, answer=建立新的使用者群組流程如下： 1. 進入 Couchbase Web Console 的 Security > Groups 頁面。 2. 點擊「Add Group」開啟新增群組視窗。 3. 輸入群組名稱（Group Name）。 4. 可輸入群組描述（Description），說明群組用途或相關資訊。 5. (可選) 設定 LDAP 群組對應（Map to LDAP Group），支援與外部目錄服務整合。 6. 指定群組角色（Roles），角色分類與使用者角色相同，包括 Administrative、Bucket、Data 等多種類別。角色可展開選擇具體權限。 7. 按「Save」完成群組建立。 群組管理方便以群組為單位設定權限，簡化使用者的權限分配與維護。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=9, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431963645, updatedAt=2025-07-31T22:50:52.431963907, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:50:52.470+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=ddbc777e-c769-487b-a45f-e84093cbd778, question=如何在 Couchbase 中建立新的使用者群組？包含該群組的設定項目。, answer=建立新的使用者群組流程如下： 1. 進入 Couchbase Web Console 的 Security > Groups 頁面。 2. 點擊「Add Group」開啟新增群組視窗。 3. 輸入群組名稱（Group Name）。 4. 可輸入群組描述（Description），說明群組用途或相關資訊。 5. (可選) 設定 LDAP 群組對應（Map to LDAP Group），支援與外部目錄服務整合。 6. 指定群組角色（Roles），角色分類與使用者角色相同，包括 Administrative、Bucket、Data 等多種類別。角色可展開選擇具體權限。 7. 按「Save」完成群組建立。 群組管理方便以群組為單位設定權限，簡化使用者的權限分配與維護。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=9, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431963645, updatedAt=2025-07-31T22:50:52.431963907, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:50:52.470+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:50:52.471+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=884e28dd-e651-4ad4-92a0-df4c5b13aa98, question=Couchbase 匯入 CSV/JSON 資料時，如何設定文件 ID？有何注意事項？, answer=匯入 CSV 或 JSON 資料時，文件 ID（Document ID）的設定方式有兩種： 1. **UUID 自動產生**：系統會為每筆文件自動產生一個唯一識別碼，確保文件唯一性。 2. **使用資料欄位值**：指定文件中某個欄位作為文件 ID，例如欄位名稱為「ID」。此方式可確保匯入資料與 Couchbase 中文件一一對應。 注意事項： - 文件 ID 欄位名稱必須在資料中唯一，避免因重複導致資料覆蓋或匯入失敗。 - 若檔案較大（超過 100MB），建議使用 cbimport 命令行工具進行匯入，提高效能與穩定性。 - 在 Web Console 匯入時，檔案有大小限制（100MB 以內）。 - 文件 ID 設定影響資料存取與更新策略，選擇合適方式有助於維護資料一致性與查詢效率。 此設定是匯入流程中關鍵步驟，直接影響資料庫中文件的唯一標示與管理。, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=10, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431964861, updatedAt=2025-07-31T22:50:52.431965122, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:50:52.472+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=884e28dd-e651-4ad4-92a0-df4c5b13aa98, question=Couchbase 匯入 CSV/JSON 資料時，如何設定文件 ID？有何注意事項？, answer=匯入 CSV 或 JSON 資料時，文件 ID（Document ID）的設定方式有兩種： 1. **UUID 自動產生**：系統會為每筆文件自動產生一個唯一識別碼，確保文件唯一性。 2. **使用資料欄位值**：指定文件中某個欄位作為文件 ID，例如欄位名稱為「ID」。此方式可確保匯入資料與 Couchbase 中文件一一對應。 注意事項： - 文件 ID 欄位名稱必須在資料中唯一，避免因重複導致資料覆蓋或匯入失敗。 - 若檔案較大（超過 100MB），建議使用 cbimport 命令行工具進行匯入，提高效能與穩定性。 - 在 Web Console 匯入時，檔案有大小限制（100MB 以內）。 - 文件 ID 設定影響資料存取與更新策略，選擇合適方式有助於維護資料一致性與查詢效率。 此設定是匯入流程中關鍵步驟，直接影響資料庫中文件的唯一標示與管理。, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=10, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431964861, updatedAt=2025-07-31T22:50:52.431965122, verificationStatus=PENDING, verifiedBy=null, verifiedAt=null, verificationNote=null, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:50:52.472+08:00 DEBUG 43661 --- [ecom-assistant] [         task-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:50:52.473+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.db.service.QAPairService         : Saved 10 Q/A pairs
2025-07-31T22:50:52.474+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.db.service.QAPairService         : Saved Q/A pairs for document: 0743bb0b-1a48-40b6-9526-6c1983ae9853 (count: 10)
2025-07-31T22:50:52.474+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.ai.service.QAGenerationService   : Successfully generated and saved 10 Q/A pairs for entire document: Couchbase 使用說明文件 - 1.pdf
2025-07-31T22:50:52.474+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.ai.service.EtlService            : Successfully processed file Couchbase 使用說明文件 - 1.pdf with 15 documents and 10 Q/A pairs
2025-07-31T22:50:52.475+08:00  INFO 43661 --- [ecom-assistant] [         task-1] c.e.a.e.e.listener.AiFileEventListener   : Successfully processed file Couchbase 使用說明文件 - 1.pdf with 10 Q/A pairs generated
2025-07-31T22:51:08.865+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@53cee44a
2025-07-31T22:51:08.867+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:51:08.868+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"11137e65-d4d8-4d09-80be-e99deec20366","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:51:08.878+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@28c23895
2025-07-31T22:51:08.879+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:51:08.880+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"1d31ce42-abb6-42ba-a8ba-0cc14f8f4c7a","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:51:08.887+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:51:08.888+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3e766c7b
2025-07-31T22:51:08.889+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:51:08.889+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"77621581-2417-4cb3-a40d-6e3942914407","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:51:08.893+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2a0fb58
2025-07-31T22:51:08.894+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1e27b545
2025-07-31T22:51:08.895+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2e377103
2025-07-31T22:51:08.896+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@23afc50a
2025-07-31T22:51:08.897+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@26d0801c
2025-07-31T22:51:08.898+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:51:08.898+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:51:08.900+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:51:08.900+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"055d1d88-2656-492e-86df-6cb8f8af9755","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:51:08.980+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : QA stats for document 0743bb0b-1a48-40b6-9526-6c1983ae9853: total=10, pending=10, approved=0, rejected=0
2025-07-31T22:51:08.985+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:51:08.986+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3d89ab4f
2025-07-31T22:51:08.988+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:51:08.988+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f751fee7-b52a-4925-9283-da35bb8449d4","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:51:08.992+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@644a4bd
2025-07-31T22:51:08.993+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3d6a9143
2025-07-31T22:51:08.993+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@46569bb4
2025-07-31T22:51:08.994+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@36f593e2
2025-07-31T22:51:08.995+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1537b8cd
2025-07-31T22:51:08.996+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:51:08.996+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:51:08.997+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:51:08.997+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"72ce5ab8-9709-4b9b-ab11-25144b8a6631","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:51:09.065+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : QA stats for document 0743bb0b-1a48-40b6-9526-6c1983ae9853: total=10, pending=10, approved=0, rejected=0
2025-07-31T22:51:10.593+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:51:10.593+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@b24add8
2025-07-31T22:51:10.595+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:51:10.595+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"36d0265b-4e85-4fa5-a2f9-a25c61a2dc08","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:51:10.604+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@72d9f041
2025-07-31T22:51:10.605+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5ec76117
2025-07-31T22:51:10.614+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@70a34d7a
2025-07-31T22:51:10.615+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d88ed48
2025-07-31T22:51:10.616+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@70ee4740
2025-07-31T22:51:10.617+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:51:10.617+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:51:10.619+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:51:10.620+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"3dde56ba-aca9-4296-99db-aa0e6a375d1c","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:51:10.699+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : Retrieved 10 QA pairs for document: 0743bb0b-1a48-40b6-9526-6c1983ae9853
2025-07-31T22:51:10.706+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:51:10.707+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@348ab357
2025-07-31T22:51:10.708+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:51:10.709+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"fa5cf4e8-ab04-4799-af3c-f51be4fe81ec","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:51:10.713+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@18b07c3
2025-07-31T22:51:10.714+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@25435f0c
2025-07-31T22:51:10.716+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2b5ea3bd
2025-07-31T22:51:10.717+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4a2fad8a
2025-07-31T22:51:10.717+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@13c31e13
2025-07-31T22:51:10.718+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:51:10.719+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:51:10.720+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:51:10.720+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"7246cdf0-e68b-440d-abb4-50d0020f2039","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:51:10.796+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : Retrieved 10 QA pairs for document: 0743bb0b-1a48-40b6-9526-6c1983ae9853
2025-07-31T22:54:15.122+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:54:15.123+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3afb5240
2025-07-31T22:54:15.125+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:54:15.125+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"e457f21a-ac17-49b4-8b72-0c37cc4a3b6f","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:54:15.132+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@4159734a
2025-07-31T22:54:15.133+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4e6a67c4
2025-07-31T22:54:15.134+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2ee3451b
2025-07-31T22:54:15.135+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@b1a8fce
2025-07-31T22:54:15.136+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1d36ec4
2025-07-31T22:54:15.136+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:54:15.137+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:54:15.137+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c1744887-622b-4ecb-a3c9-cf5ff9004675 scope: AI collection: qa options: com.couchbase.client.java.kv.GetOptions@1c1a7d7d
2025-07-31T22:54:15.138+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.d.service.QAVerificationService  : QA approved: c1744887-622b-4ecb-a3c9-cf5ff9004675 by super_admin
2025-07-31T22:54:15.139+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=c1744887-622b-4ecb-a3c9-cf5ff9004675, question=如何在 Couchbase 中建立一個新的 Bucket？請描述建立過程及相關設定選項。, answer=在 Couchbase 中建立新的 Bucket，使用者需進入 Buckets 頁面，點擊右上方的「ADD BUCKET」按鈕，打開新增 Bucket 的對話框。主要步驟包括： 1. 輸入 Bucket 名稱（例如：TEST）。 2. 選擇 Bucket 類型，有三種選項：Couchbase（預設）、Memcached、Ephemeral。 3. 選擇儲存後端（Storage Backend），可選擇 CouchStore 或 Magma。 4. 設定每個伺服器節點的記憶體配額（Memory Quota），單位為 MiB（例如：2000 MiB）。 5. 介面中有記憶體使用狀況條，顯示其他 Buckets 的用量、本 Bucket 的配額及剩餘可用記憶體。 6. (可選) 展開進階設定以調整更多細節。 7. 確認所有設定無誤後，點擊「Add Bucket」完成建立，或點擊「Cancel」取消。 此流程確保使用者明確設定 Bucket 名稱、類型、存儲方式及資源限制，方便管理與監控。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=1, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:15.138621562, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:15.138617877, verificationNote=, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:54:15.140+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=c1744887-622b-4ecb-a3c9-cf5ff9004675, question=如何在 Couchbase 中建立一個新的 Bucket？請描述建立過程及相關設定選項。, answer=在 Couchbase 中建立新的 Bucket，使用者需進入 Buckets 頁面，點擊右上方的「ADD BUCKET」按鈕，打開新增 Bucket 的對話框。主要步驟包括： 1. 輸入 Bucket 名稱（例如：TEST）。 2. 選擇 Bucket 類型，有三種選項：Couchbase（預設）、Memcached、Ephemeral。 3. 選擇儲存後端（Storage Backend），可選擇 CouchStore 或 Magma。 4. 設定每個伺服器節點的記憶體配額（Memory Quota），單位為 MiB（例如：2000 MiB）。 5. 介面中有記憶體使用狀況條，顯示其他 Buckets 的用量、本 Bucket 的配額及剩餘可用記憶體。 6. (可選) 展開進階設定以調整更多細節。 7. 確認所有設定無誤後，點擊「Add Bucket」完成建立，或點擊「Cancel」取消。 此流程確保使用者明確設定 Bucket 名稱、類型、存儲方式及資源限制，方便管理與監控。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=1, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:15.138621562, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:15.138617877, verificationNote=, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:54:15.140+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:54:15.141+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=2c6bab12-9101-4450-a5a9-7f1dbb64c48f scope: AI collection: qa options: com.couchbase.client.java.kv.GetOptions@1dde2771
2025-07-31T22:54:15.142+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.d.service.QAVerificationService  : QA approved: 2c6bab12-9101-4450-a5a9-7f1dbb64c48f by super_admin
2025-07-31T22:54:15.142+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=2c6bab12-9101-4450-a5a9-7f1dbb64c48f, question=Couchbase 中如何建立 Scopes 與 Collections？請說明操作步驟。, answer=在 Couchbase 中建立 Scopes 與 Collections 的步驟如下： 1. 先點擊已建立的 Bucket 名稱，進入該 Bucket 的設定頁面。 2. 前往「Scopes & Collections」頁籤。 3. 建立 Scope：點擊「Add Scope」按鈕，輸入欲新增的 Scope 名稱，然後點擊「Save」。 4. 建立 Collection：在指定的 Scope 下，點擊「Add Collection」按鈕，輸入 Collection 名稱（例如：TEST），可設定 Max Time-To-Live（TTL，存活時間，預設為0表示無限期）。 5. 點擊「Save」完成 Collection 建立。 Scopes 與 Collections 是 Couchbase 中資料的邏輯分層架構，方便組織與管理資料。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=2, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:15.142545498, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:15.142543343, verificationNote=, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:54:15.143+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=2c6bab12-9101-4450-a5a9-7f1dbb64c48f, question=Couchbase 中如何建立 Scopes 與 Collections？請說明操作步驟。, answer=在 Couchbase 中建立 Scopes 與 Collections 的步驟如下： 1. 先點擊已建立的 Bucket 名稱，進入該 Bucket 的設定頁面。 2. 前往「Scopes & Collections」頁籤。 3. 建立 Scope：點擊「Add Scope」按鈕，輸入欲新增的 Scope 名稱，然後點擊「Save」。 4. 建立 Collection：在指定的 Scope 下，點擊「Add Collection」按鈕，輸入 Collection 名稱（例如：TEST），可設定 Max Time-To-Live（TTL，存活時間，預設為0表示無限期）。 5. 點擊「Save」完成 Collection 建立。 Scopes 與 Collections 是 Couchbase 中資料的邏輯分層架構，方便組織與管理資料。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=2, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:15.142545498, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:15.142543343, verificationNote=, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:54:15.144+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:54:15.145+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : Successfully updated 2 QA statuses by user: super_admin
2025-07-31T22:54:15.153+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:54:15.153+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@57e941e
2025-07-31T22:54:15.154+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:54:15.154+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f8318595-0292-4efb-8cbd-a6dec8316484","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:54:15.157+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@10d442db
2025-07-31T22:54:15.158+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4d0e525e
2025-07-31T22:54:15.159+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6f7ceb83
2025-07-31T22:54:15.160+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1e534c16
2025-07-31T22:54:15.160+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@2c23179d
2025-07-31T22:54:15.161+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:54:15.161+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:54:15.162+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.verificationStatus = 'APPROVED' AND qa.vectorized = false ORDER BY qa.createdAt ASC
2025-07-31T22:54:15.163+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"a9cf7989-f618-4968-8d8e-5df77b028a7a","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:54:15.232+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.a.v.CouchbaseSearchVectorStore       : Trying Add
2025-07-31T22:54:15.233+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.a.v.CouchbaseSearchVectorStore       : ECOM
2025-07-31T22:54:15.233+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.a.v.CouchbaseSearchVectorStore       : AI
2025-07-31T22:54:16.163+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=2c6bab12-9101-4450-a5a9-7f1dbb64c48f scope: AI collection: qa options: com.couchbase.client.java.kv.GetOptions@39c1246c
2025-07-31T22:54:16.165+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=2c6bab12-9101-4450-a5a9-7f1dbb64c48f, question=Couchbase 中如何建立 Scopes 與 Collections？請說明操作步驟。, answer=在 Couchbase 中建立 Scopes 與 Collections 的步驟如下： 1. 先點擊已建立的 Bucket 名稱，進入該 Bucket 的設定頁面。 2. 前往「Scopes & Collections」頁籤。 3. 建立 Scope：點擊「Add Scope」按鈕，輸入欲新增的 Scope 名稱，然後點擊「Save」。 4. 建立 Collection：在指定的 Scope 下，點擊「Add Collection」按鈕，輸入 Collection 名稱（例如：TEST），可設定 Max Time-To-Live（TTL，存活時間，預設為0表示無限期）。 5. 點擊「Save」完成 Collection 建立。 Scopes 與 Collections 是 Couchbase 中資料的邏輯分層架構，方便組織與管理資料。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=2, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:16.164957074, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:15.142, verificationNote=, vectorized=true, tags=[用戶指南, 手冊], vectorId=2c6bab12-9101-4450-a5a9-7f1dbb64c48f) scope: AI collection: qa options: null
2025-07-31T22:54:16.166+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=2c6bab12-9101-4450-a5a9-7f1dbb64c48f, question=Couchbase 中如何建立 Scopes 與 Collections？請說明操作步驟。, answer=在 Couchbase 中建立 Scopes 與 Collections 的步驟如下： 1. 先點擊已建立的 Bucket 名稱，進入該 Bucket 的設定頁面。 2. 前往「Scopes & Collections」頁籤。 3. 建立 Scope：點擊「Add Scope」按鈕，輸入欲新增的 Scope 名稱，然後點擊「Save」。 4. 建立 Collection：在指定的 Scope 下，點擊「Add Collection」按鈕，輸入 Collection 名稱（例如：TEST），可設定 Max Time-To-Live（TTL，存活時間，預設為0表示無限期）。 5. 點擊「Save」完成 Collection 建立。 Scopes 與 Collections 是 Couchbase 中資料的邏輯分層架構，方便組織與管理資料。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=2, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:16.164957074, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:15.142, verificationNote=, vectorized=true, tags=[用戶指南, 手冊], vectorId=2c6bab12-9101-4450-a5a9-7f1dbb64c48f)
2025-07-31T22:54:16.166+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:54:16.167+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.d.service.QAVerificationService  : QA marked as vectorized: 2c6bab12-9101-4450-a5a9-7f1dbb64c48f -> 2c6bab12-9101-4450-a5a9-7f1dbb64c48f
2025-07-31T22:54:16.167+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.a.s.QAVectorizationService       : Successfully vectorized QA: 2c6bab12-9101-4450-a5a9-7f1dbb64c48f
2025-07-31T22:54:16.168+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.a.v.CouchbaseSearchVectorStore       : Trying Add
2025-07-31T22:54:16.168+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.a.v.CouchbaseSearchVectorStore       : ECOM
2025-07-31T22:54:16.169+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.a.v.CouchbaseSearchVectorStore       : AI
2025-07-31T22:54:15.846+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c1744887-622b-4ecb-a3c9-cf5ff9004675 scope: AI collection: qa options: com.couchbase.client.java.kv.GetOptions@655ab164
2025-07-31T22:54:15.848+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=c1744887-622b-4ecb-a3c9-cf5ff9004675, question=如何在 Couchbase 中建立一個新的 Bucket？請描述建立過程及相關設定選項。, answer=在 Couchbase 中建立新的 Bucket，使用者需進入 Buckets 頁面，點擊右上方的「ADD BUCKET」按鈕，打開新增 Bucket 的對話框。主要步驟包括： 1. 輸入 Bucket 名稱（例如：TEST）。 2. 選擇 Bucket 類型，有三種選項：Couchbase（預設）、Memcached、Ephemeral。 3. 選擇儲存後端（Storage Backend），可選擇 CouchStore 或 Magma。 4. 設定每個伺服器節點的記憶體配額（Memory Quota），單位為 MiB（例如：2000 MiB）。 5. 介面中有記憶體使用狀況條，顯示其他 Buckets 的用量、本 Bucket 的配額及剩餘可用記憶體。 6. (可選) 展開進階設定以調整更多細節。 7. 確認所有設定無誤後，點擊「Add Bucket」完成建立，或點擊「Cancel」取消。 此流程確保使用者明確設定 Bucket 名稱、類型、存儲方式及資源限制，方便管理與監控。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=1, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:15.848206872, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:15.138, verificationNote=, vectorized=true, tags=[用戶指南, 手冊], vectorId=c1744887-622b-4ecb-a3c9-cf5ff9004675) scope: AI collection: qa options: null
2025-07-31T22:54:15.849+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=c1744887-622b-4ecb-a3c9-cf5ff9004675, question=如何在 Couchbase 中建立一個新的 Bucket？請描述建立過程及相關設定選項。, answer=在 Couchbase 中建立新的 Bucket，使用者需進入 Buckets 頁面，點擊右上方的「ADD BUCKET」按鈕，打開新增 Bucket 的對話框。主要步驟包括： 1. 輸入 Bucket 名稱（例如：TEST）。 2. 選擇 Bucket 類型，有三種選項：Couchbase（預設）、Memcached、Ephemeral。 3. 選擇儲存後端（Storage Backend），可選擇 CouchStore 或 Magma。 4. 設定每個伺服器節點的記憶體配額（Memory Quota），單位為 MiB（例如：2000 MiB）。 5. 介面中有記憶體使用狀況條，顯示其他 Buckets 的用量、本 Bucket 的配額及剩餘可用記憶體。 6. (可選) 展開進階設定以調整更多細節。 7. 確認所有設定無誤後，點擊「Add Bucket」完成建立，或點擊「Cancel」取消。 此流程確保使用者明確設定 Bucket 名稱、類型、存儲方式及資源限制，方便管理與監控。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=1, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:15.848206872, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:15.138, verificationNote=, vectorized=true, tags=[用戶指南, 手冊], vectorId=c1744887-622b-4ecb-a3c9-cf5ff9004675)
2025-07-31T22:54:15.849+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:54:15.850+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.d.service.QAVerificationService  : QA marked as vectorized: c1744887-622b-4ecb-a3c9-cf5ff9004675 -> c1744887-622b-4ecb-a3c9-cf5ff9004675
2025-07-31T22:54:15.850+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.a.s.QAVectorizationService       : Successfully vectorized QA: c1744887-622b-4ecb-a3c9-cf5ff9004675
2025-07-31T22:54:15.850+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Successfully triggered vectorization for 2 QAs in document: 0743bb0b-1a48-40b6-9526-6c1983ae9853
2025-07-31T22:54:23.604+08:00  INFO 43661 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":182,"percentiles_us":{"50.0":3801.087,"90.0":66060.287,"99.0":140509.183,"99.9":143654.911,"100.0":143654.911}}},"kv":{"get":{"total_count":597,"percentiles_us":{"50.0":399.359,"90.0":655.359,"99.0":1105.919,"99.9":42205.183,"100.0":42205.183}},"upsert":{"total_count":34,"percentiles_us":{"50.0":839.679,"90.0":1810.431,"99.0":2473.983,"99.9":2473.983,"100.0":2473.983}}}},"meta":{"emit_interval_s":600}}
2025-07-31T22:54:40.485+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@7cbec3a1
2025-07-31T22:54:40.487+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:54:40.488+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"68371fd0-523a-448a-a6d1-7a88dd9d185b","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:54:40.501+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:54:40.502+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@4057a4cc
2025-07-31T22:54:40.503+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:54:40.504+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"54c7aa7b-b731-4581-b40e-cc99b2c5aacc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:54:40.508+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@fb8e4f2
2025-07-31T22:54:40.509+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@8f7cda0
2025-07-31T22:54:40.509+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@39357210
2025-07-31T22:54:40.510+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@44b9d03e
2025-07-31T22:54:40.511+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@cee332f
2025-07-31T22:54:40.511+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:54:40.511+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:54:40.512+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:54:40.512+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"5916d983-2f98-40e8-837f-462093848a92","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:54:40.580+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : QA stats for document 0743bb0b-1a48-40b6-9526-6c1983ae9853: total=10, pending=8, approved=2, rejected=0
2025-07-31T22:54:42.106+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:54:42.107+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2c478858
2025-07-31T22:54:42.108+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:54:42.109+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"fa73d7c3-795c-44af-a892-03fe389da604","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:54:42.114+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@45ae351a
2025-07-31T22:54:42.115+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4e16883a
2025-07-31T22:54:42.116+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5e83dce8
2025-07-31T22:54:42.117+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@785681bb
2025-07-31T22:54:42.118+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4c646d4e
2025-07-31T22:54:42.119+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:54:42.119+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:54:42.120+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:54:42.121+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"9caffd23-9bad-43c4-8df4-83e80d435ba1","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:54:42.193+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : Retrieved 10 QA pairs for document: 0743bb0b-1a48-40b6-9526-6c1983ae9853
2025-07-31T22:54:42.199+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:54:42.199+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@68f43210
2025-07-31T22:54:42.200+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:54:42.201+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"71440cf1-f829-4344-ae86-7b508f6041dc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:54:42.205+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@66b8343d
2025-07-31T22:54:42.206+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@ab16234
2025-07-31T22:54:42.207+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4c3e0392
2025-07-31T22:54:42.207+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@513ccb7
2025-07-31T22:54:42.208+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@222d19f4
2025-07-31T22:54:42.209+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:54:42.209+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:54:42.210+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:54:42.211+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"0343af03-30b6-4da8-9dbd-3c3cf4d7e896","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:54:42.281+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : Retrieved 10 QA pairs for document: 0743bb0b-1a48-40b6-9526-6c1983ae9853
2025-07-31T22:54:48.502+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:54:48.503+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3a84844
2025-07-31T22:54:48.505+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:54:48.506+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"4bc54104-1baf-445f-994a-76da31310476","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:54:48.512+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@3a505628
2025-07-31T22:54:48.513+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@ab11197
2025-07-31T22:54:48.514+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4b1a92ed
2025-07-31T22:54:48.515+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@560fe2af
2025-07-31T22:54:48.516+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6e561f50
2025-07-31T22:54:48.517+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:54:48.517+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:54:48.518+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c1744887-622b-4ecb-a3c9-cf5ff9004675 scope: AI collection: qa options: com.couchbase.client.java.kv.GetOptions@6ce996a4
2025-07-31T22:54:48.519+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.d.service.QAVerificationService  : QA rejected: c1744887-622b-4ecb-a3c9-cf5ff9004675 by super_admin
2025-07-31T22:54:48.519+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=c1744887-622b-4ecb-a3c9-cf5ff9004675, question=如何在 Couchbase 中建立一個新的 Bucket？請描述建立過程及相關設定選項。, answer=在 Couchbase 中建立新的 Bucket，使用者需進入 Buckets 頁面，點擊右上方的「ADD BUCKET」按鈕，打開新增 Bucket 的對話框。主要步驟包括： 1. 輸入 Bucket 名稱（例如：TEST）。 2. 選擇 Bucket 類型，有三種選項：Couchbase（預設）、Memcached、Ephemeral。 3. 選擇儲存後端（Storage Backend），可選擇 CouchStore 或 Magma。 4. 設定每個伺服器節點的記憶體配額（Memory Quota），單位為 MiB（例如：2000 MiB）。 5. 介面中有記憶體使用狀況條，顯示其他 Buckets 的用量、本 Bucket 的配額及剩餘可用記憶體。 6. (可選) 展開進階設定以調整更多細節。 7. 確認所有設定無誤後，點擊「Add Bucket」完成建立，或點擊「Cancel」取消。 此流程確保使用者明確設定 Bucket 名稱、類型、存儲方式及資源限制，方便管理與監控。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=1, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:48.519103379, verificationStatus=REJECTED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:48.519100714, verificationNote=, vectorized=true, tags=[用戶指南, 手冊], vectorId=c1744887-622b-4ecb-a3c9-cf5ff9004675) scope: AI collection: qa options: null
2025-07-31T22:54:48.520+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=c1744887-622b-4ecb-a3c9-cf5ff9004675, question=如何在 Couchbase 中建立一個新的 Bucket？請描述建立過程及相關設定選項。, answer=在 Couchbase 中建立新的 Bucket，使用者需進入 Buckets 頁面，點擊右上方的「ADD BUCKET」按鈕，打開新增 Bucket 的對話框。主要步驟包括： 1. 輸入 Bucket 名稱（例如：TEST）。 2. 選擇 Bucket 類型，有三種選項：Couchbase（預設）、Memcached、Ephemeral。 3. 選擇儲存後端（Storage Backend），可選擇 CouchStore 或 Magma。 4. 設定每個伺服器節點的記憶體配額（Memory Quota），單位為 MiB（例如：2000 MiB）。 5. 介面中有記憶體使用狀況條，顯示其他 Buckets 的用量、本 Bucket 的配額及剩餘可用記憶體。 6. (可選) 展開進階設定以調整更多細節。 7. 確認所有設定無誤後，點擊「Add Bucket」完成建立，或點擊「Cancel」取消。 此流程確保使用者明確設定 Bucket 名稱、類型、存儲方式及資源限制，方便管理與監控。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=1, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:48.519103379, verificationStatus=REJECTED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:48.519100714, verificationNote=, vectorized=true, tags=[用戶指南, 手冊], vectorId=c1744887-622b-4ecb-a3c9-cf5ff9004675)
2025-07-31T22:54:48.521+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:54:48.522+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=2c6bab12-9101-4450-a5a9-7f1dbb64c48f scope: AI collection: qa options: com.couchbase.client.java.kv.GetOptions@73fbec2e
2025-07-31T22:54:48.524+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.d.service.QAVerificationService  : QA rejected: 2c6bab12-9101-4450-a5a9-7f1dbb64c48f by super_admin
2025-07-31T22:54:48.524+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=2c6bab12-9101-4450-a5a9-7f1dbb64c48f, question=Couchbase 中如何建立 Scopes 與 Collections？請說明操作步驟。, answer=在 Couchbase 中建立 Scopes 與 Collections 的步驟如下： 1. 先點擊已建立的 Bucket 名稱，進入該 Bucket 的設定頁面。 2. 前往「Scopes & Collections」頁籤。 3. 建立 Scope：點擊「Add Scope」按鈕，輸入欲新增的 Scope 名稱，然後點擊「Save」。 4. 建立 Collection：在指定的 Scope 下，點擊「Add Collection」按鈕，輸入 Collection 名稱（例如：TEST），可設定 Max Time-To-Live（TTL，存活時間，預設為0表示無限期）。 5. 點擊「Save」完成 Collection 建立。 Scopes 與 Collections 是 Couchbase 中資料的邏輯分層架構，方便組織與管理資料。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=2, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:48.524144631, verificationStatus=REJECTED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:48.524139923, verificationNote=, vectorized=true, tags=[用戶指南, 手冊], vectorId=2c6bab12-9101-4450-a5a9-7f1dbb64c48f) scope: AI collection: qa options: null
2025-07-31T22:54:48.525+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=2c6bab12-9101-4450-a5a9-7f1dbb64c48f, question=Couchbase 中如何建立 Scopes 與 Collections？請說明操作步驟。, answer=在 Couchbase 中建立 Scopes 與 Collections 的步驟如下： 1. 先點擊已建立的 Bucket 名稱，進入該 Bucket 的設定頁面。 2. 前往「Scopes & Collections」頁籤。 3. 建立 Scope：點擊「Add Scope」按鈕，輸入欲新增的 Scope 名稱，然後點擊「Save」。 4. 建立 Collection：在指定的 Scope 下，點擊「Add Collection」按鈕，輸入 Collection 名稱（例如：TEST），可設定 Max Time-To-Live（TTL，存活時間，預設為0表示無限期）。 5. 點擊「Save」完成 Collection 建立。 Scopes 與 Collections 是 Couchbase 中資料的邏輯分層架構，方便組織與管理資料。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=2, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:54:48.524144631, verificationStatus=REJECTED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:54:48.524139923, verificationNote=, vectorized=true, tags=[用戶指南, 手冊], vectorId=2c6bab12-9101-4450-a5a9-7f1dbb64c48f)
2025-07-31T22:54:48.526+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:54:48.527+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Successfully updated 2 QA statuses by user: super_admin
2025-07-31T22:54:48.537+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:54:48.538+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6af8d344
2025-07-31T22:54:48.540+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:54:48.540+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"6a25fb44-9f1c-4270-9b09-06839b18eb04","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:54:48.545+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6fe8cbb2
2025-07-31T22:54:48.546+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3e0c806b
2025-07-31T22:54:48.547+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7f276e67
2025-07-31T22:54:48.548+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5369e034
2025-07-31T22:54:48.549+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7a7514b0
2025-07-31T22:54:48.549+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:54:48.550+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:54:48.569+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.a.s.QAVectorizationService       : Removed vectorized QA: c1744887-622b-4ecb-a3c9-cf5ff9004675
2025-07-31T22:54:48.570+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : Successfully deleted vector for QA: c1744887-622b-4ecb-a3c9-cf5ff9004675 by user: super_admin
2025-07-31T22:54:48.578+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:54:48.579+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3ac275df
2025-07-31T22:54:48.580+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:54:48.581+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"9c3fe132-3d37-4a62-986c-01b805ffe298","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:54:48.585+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@28752565
2025-07-31T22:54:48.586+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@22c73875
2025-07-31T22:54:48.587+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5f4d1049
2025-07-31T22:54:48.587+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@7608faf2
2025-07-31T22:54:48.588+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@77d7a75b
2025-07-31T22:54:48.589+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:54:48.590+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:54:48.591+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.a.s.QAVectorizationService       : Removed vectorized QA: 2c6bab12-9101-4450-a5a9-7f1dbb64c48f
2025-07-31T22:54:48.591+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : Successfully deleted vector for QA: 2c6bab12-9101-4450-a5a9-7f1dbb64c48f by user: super_admin
2025-07-31T22:55:10.015+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=ab928e07-6097-4a93-8f13-1db082dfb681 scope: AI collection: dataset options: com.couchbase.client.java.kv.GetOptions@36496ba0
2025-07-31T22:55:10.017+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: document options: null statement: SELECT `_class`, META(`document`).`id` AS __id, `datasetId`, `fileName`, `fullPath`, `storageType`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `document` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.Document" AND `datasetId` = $1
2025-07-31T22:55:10.018+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["ab928e07-6097-4a93-8f13-1db082dfb681"],"client_context_id":"73add944-22ac-48d6-aa2c-ce9d4ebeb340","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:55:10.033+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:55:10.033+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@230c6f47
2025-07-31T22:55:10.035+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:55:10.035+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"df899117-466d-440e-8496-5537c7acdb95","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:55:10.039+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1f12da27
2025-07-31T22:55:10.041+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@47fdb06
2025-07-31T22:55:10.042+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4e5780c4
2025-07-31T22:55:10.043+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@e61b81e
2025-07-31T22:55:10.043+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@72b8817
2025-07-31T22:55:10.044+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:55:10.044+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:55:10.045+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:55:10.045+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"9d362186-385e-4ab2-a2d0-6273382b1571","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:55:10.119+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-1] c.e.a.e.controller.QAController          : QA stats for document 0743bb0b-1a48-40b6-9526-6c1983ae9853: total=10, pending=8, approved=0, rejected=2
2025-07-31T22:55:13.669+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:55:13.669+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@5ac87264
2025-07-31T22:55:13.671+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:55:13.672+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"f8dd492c-2dd4-4786-b208-6a1b1ec059bc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:55:13.678+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2446a067
2025-07-31T22:55:13.679+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@8f0b25d
2025-07-31T22:55:13.680+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1132aa75
2025-07-31T22:55:13.681+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@47898f6b
2025-07-31T22:55:13.682+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@565d5a65
2025-07-31T22:55:13.682+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:55:13.683+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:55:13.684+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:55:13.684+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-8] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"75583d98-204a-4d64-b7eb-d6d29476112b","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:55:13.757+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-8] c.e.a.e.controller.QAController          : Retrieved 10 QA pairs for document: 0743bb0b-1a48-40b6-9526-6c1983ae9853
2025-07-31T22:55:13.764+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:55:13.767+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@d94c4e1
2025-07-31T22:55:13.768+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:55:13.769+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"adbac4e8-b5d1-4969-83fa-657868fa3b68","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:55:13.774+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@2fee54d7
2025-07-31T22:55:13.775+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@3c8a8a56
2025-07-31T22:55:13.776+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@6c417aeb
2025-07-31T22:55:13.777+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@4759184e
2025-07-31T22:55:13.777+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@1a4cb49e
2025-07-31T22:55:13.778+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:55:13.778+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:55:13.779+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.documentId = $1 ORDER BY qa.questionIndex ASC
2025-07-31T22:55:13.780+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-7] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["0743bb0b-1a48-40b6-9526-6c1983ae9853"],"client_context_id":"3d0e37e8-84f4-4b89-8561-a7383fb41630","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:55:13.864+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-7] c.e.a.e.controller.QAController          : Retrieved 10 QA pairs for document: 0743bb0b-1a48-40b6-9526-6c1983ae9853
2025-07-31T22:55:17.676+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:55:17.677+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@6c482d44
2025-07-31T22:55:17.678+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:55:17.679+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"dabd99e1-aaf7-43ef-8cbd-02fc891aad84","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:55:17.684+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@6a5e0932
2025-07-31T22:55:17.686+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@20f9965d
2025-07-31T22:55:17.687+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@df6bd0b
2025-07-31T22:55:17.687+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5326e53e
2025-07-31T22:55:17.688+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@49ab71f1
2025-07-31T22:55:17.689+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:55:17.689+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:55:17.690+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=7928f228-7124-47a8-9b20-7a41bc8917d7 scope: AI collection: qa options: com.couchbase.client.java.kv.GetOptions@250c4de7
2025-07-31T22:55:17.691+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.d.service.QAVerificationService  : QA approved: 7928f228-7124-47a8-9b20-7a41bc8917d7 by super_admin
2025-07-31T22:55:17.691+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=7928f228-7124-47a8-9b20-7a41bc8917d7, question=如何使用 Couchbase 的 cbimport 工具匯入 CSV 檔案？包含必要參數及設定。, answer=使用 cbimport 工具匯入 CSV 檔案的基本步驟與參數如下： 1. 準備好包含標題列的 CSV 檔案。 2. 執行 cbimport 命令，範例如下： ``` ./opt/couchbase/bin/cbimport csv --infer-types -c <HOST>:8091 -u <USERNAME> -p <PASSWORD> -d '<FILE_PATH>' -b '<BUCKET_NAME>' --scope-collection-exp "<SCOPE>.<COLLECTION>" -g %<KEY>% -t 4 ``` 其中： - `-c` 指定 Couchbase 叢集主機與埠號。 - `-u` 與 `-p` 分別為使用者名稱與密碼。 - `-d` 指定檔案路徑（例如：file://couchbase_data.csv）。 - `-b` 目標 Bucket 名稱。 - `--scope-collection-exp` 指定 Scope 與 Collection，格式為 `<scope>.<collection>`。 - `-g` 指定文件 ID 的欄位或格式（例如 `%ID%`）。 - `-t` 指定執行緒數，提高匯入效率。 3. 建議檔案大小超過 100MB 或需更高效能時，使用命令行工具 cbimport。 4. 也可透過 Couchbase Web Console 匯入，但檔案大小限制在 100MB 以內。 此流程可有效將結構化 CSV 資料匯入指定 Bucket 的 Scope 和 Collection 中。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=3, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:55:17.691032913, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:55:17.691030579, verificationNote=, vectorized=false, tags=[用戶指南, 手冊], vectorId=null) scope: AI collection: qa options: null
2025-07-31T22:55:17.692+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=7928f228-7124-47a8-9b20-7a41bc8917d7, question=如何使用 Couchbase 的 cbimport 工具匯入 CSV 檔案？包含必要參數及設定。, answer=使用 cbimport 工具匯入 CSV 檔案的基本步驟與參數如下： 1. 準備好包含標題列的 CSV 檔案。 2. 執行 cbimport 命令，範例如下： ``` ./opt/couchbase/bin/cbimport csv --infer-types -c <HOST>:8091 -u <USERNAME> -p <PASSWORD> -d '<FILE_PATH>' -b '<BUCKET_NAME>' --scope-collection-exp "<SCOPE>.<COLLECTION>" -g %<KEY>% -t 4 ``` 其中： - `-c` 指定 Couchbase 叢集主機與埠號。 - `-u` 與 `-p` 分別為使用者名稱與密碼。 - `-d` 指定檔案路徑（例如：file://couchbase_data.csv）。 - `-b` 目標 Bucket 名稱。 - `--scope-collection-exp` 指定 Scope 與 Collection，格式為 `<scope>.<collection>`。 - `-g` 指定文件 ID 的欄位或格式（例如 `%ID%`）。 - `-t` 指定執行緒數，提高匯入效率。 3. 建議檔案大小超過 100MB 或需更高效能時，使用命令行工具 cbimport。 4. 也可透過 Couchbase Web Console 匯入，但檔案大小限制在 100MB 以內。 此流程可有效將結構化 CSV 資料匯入指定 Bucket 的 Scope 和 Collection 中。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=3, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:55:17.691032913, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:55:17.691030579, verificationNote=, vectorized=false, tags=[用戶指南, 手冊], vectorId=null)
2025-07-31T22:55:17.693+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-6] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:55:17.694+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-6] c.e.a.e.controller.QAController          : Successfully updated 1 QA statuses by user: super_admin
2025-07-31T22:55:17.701+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : Checking QA verification permission for user: super_admin
2025-07-31T22:55:17.702+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=super_admin scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3afa9932
2025-07-31T22:55:17.703+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-31T22:55:17.703+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["super_admin"],"client_context_id":"2d9cb6f5-73ac-473b-874e-0f94b3a62abc","metrics":false,"scan_consistency":"request_plus"}
2025-07-31T22:55:17.708+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@559b9d3e
2025-07-31T22:55:17.709+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-contributor scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@28f2f846
2025-07-31T22:55:17.710+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-member scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@322d5538
2025-07-31T22:55:17.711+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=dataset-manager scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@5c707946
2025-07-31T22:55:17.712+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=team-admin scope: AI collection: team-role options: com.couchbase.client.java.kv.GetOptions@550b7d9b
2025-07-31T22:55:17.712+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : User super_admin has roles: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫管理者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:知識庫貢獻者, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊成員, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:團隊管理者, system:SUPER_ADMIN] and permissions: [team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:team:view, system:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:view, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:*, team:c79e8f7a-7d4d-47d7-982e-e87b69df5ab5:dataset:file:upload]
2025-07-31T22:55:17.713+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : User super_admin has admin role access
2025-07-31T22:55:17.714+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: qa options: null statement: SELECT `_class`, META(`qa`).`id` AS __id, `question`, `answer`, `datasetId`, `datasetName`, `documentName`, `fileName`, `documentId`, `questionIndex`, `contentType`, `createdAt`, `updatedAt`, `verificationStatus`, `verifiedBy`, `verifiedAt`, `verificationNote`, `vectorized`, `tags`, `vectorId` FROM `ECOM`.`AI`.`qa` qa WHERE qa.verificationStatus = 'APPROVED' AND qa.vectorized = false ORDER BY qa.createdAt ASC
2025-07-31T22:55:17.714+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : query options: {"client_context_id":"b897502e-929c-417c-9104-224355d7869a","metrics":false,"scan_consistency":"not_bounded"}
2025-07-31T22:55:17.797+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.a.v.CouchbaseSearchVectorStore       : Trying Add
2025-07-31T22:55:17.798+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.a.v.CouchbaseSearchVectorStore       : ECOM
2025-07-31T22:55:17.798+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.a.v.CouchbaseSearchVectorStore       : AI
2025-07-31T22:55:18.585+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=7928f228-7124-47a8-9b20-7a41bc8917d7 scope: AI collection: qa options: com.couchbase.client.java.kv.GetOptions@32589359
2025-07-31T22:55:18.587+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] d.c.c.ReactiveUpsertByIdOperationSupport : upsertById object=QAPair(id=7928f228-7124-47a8-9b20-7a41bc8917d7, question=如何使用 Couchbase 的 cbimport 工具匯入 CSV 檔案？包含必要參數及設定。, answer=使用 cbimport 工具匯入 CSV 檔案的基本步驟與參數如下： 1. 準備好包含標題列的 CSV 檔案。 2. 執行 cbimport 命令，範例如下： ``` ./opt/couchbase/bin/cbimport csv --infer-types -c <HOST>:8091 -u <USERNAME> -p <PASSWORD> -d '<FILE_PATH>' -b '<BUCKET_NAME>' --scope-collection-exp "<SCOPE>.<COLLECTION>" -g %<KEY>% -t 4 ``` 其中： - `-c` 指定 Couchbase 叢集主機與埠號。 - `-u` 與 `-p` 分別為使用者名稱與密碼。 - `-d` 指定檔案路徑（例如：file://couchbase_data.csv）。 - `-b` 目標 Bucket 名稱。 - `--scope-collection-exp` 指定 Scope 與 Collection，格式為 `<scope>.<collection>`。 - `-g` 指定文件 ID 的欄位或格式（例如 `%ID%`）。 - `-t` 指定執行緒數，提高匯入效率。 3. 建議檔案大小超過 100MB 或需更高效能時，使用命令行工具 cbimport。 4. 也可透過 Couchbase Web Console 匯入，但檔案大小限制在 100MB 以內。 此流程可有效將結構化 CSV 資料匯入指定 Bucket 的 Scope 和 Collection 中。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=3, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:55:18.586901716, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:55:17.691, verificationNote=, vectorized=true, tags=[用戶指南, 手冊], vectorId=7928f228-7124-47a8-9b20-7a41bc8917d7) scope: AI collection: qa options: null
2025-07-31T22:55:18.588+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] c.c.m.e.ValidatingCouchbaseEventListener : Validating object: QAPair(id=7928f228-7124-47a8-9b20-7a41bc8917d7, question=如何使用 Couchbase 的 cbimport 工具匯入 CSV 檔案？包含必要參數及設定。, answer=使用 cbimport 工具匯入 CSV 檔案的基本步驟與參數如下： 1. 準備好包含標題列的 CSV 檔案。 2. 執行 cbimport 命令，範例如下： ``` ./opt/couchbase/bin/cbimport csv --infer-types -c <HOST>:8091 -u <USERNAME> -p <PASSWORD> -d '<FILE_PATH>' -b '<BUCKET_NAME>' --scope-collection-exp "<SCOPE>.<COLLECTION>" -g %<KEY>% -t 4 ``` 其中： - `-c` 指定 Couchbase 叢集主機與埠號。 - `-u` 與 `-p` 分別為使用者名稱與密碼。 - `-d` 指定檔案路徑（例如：file://couchbase_data.csv）。 - `-b` 目標 Bucket 名稱。 - `--scope-collection-exp` 指定 Scope 與 Collection，格式為 `<scope>.<collection>`。 - `-g` 指定文件 ID 的欄位或格式（例如 `%ID%`）。 - `-t` 指定執行緒數，提高匯入效率。 3. 建議檔案大小超過 100MB 或需更高效能時，使用命令行工具 cbimport。 4. 也可透過 Couchbase Web Console 匯入，但檔案大小限制在 100MB 以內。 此流程可有效將結構化 CSV 資料匯入指定 Bucket 的 Scope 和 Collection 中。 ---, datasetId=ab928e07-6097-4a93-8f13-1db082dfb681, datasetName=public_test, documentName=Couchbase 使用說明文件 - 1.pdf, fileName=Couchbase 使用說明文件 - 1.pdf, documentId=0743bb0b-1a48-40b6-9526-6c1983ae9853, questionIndex=3, contentType=qa_pair, createdAt=2025-07-31T22:50:52.431, updatedAt=2025-07-31T22:55:18.586901716, verificationStatus=APPROVED, verifiedBy=super_admin, verifiedAt=2025-07-31T22:55:17.691, verificationNote=, vectorized=true, tags=[用戶指南, 手冊], vectorId=7928f228-7124-47a8-9b20-7a41bc8917d7)
2025-07-31T22:55:18.588+08:00 DEBUG 43661 --- [ecom-assistant] [nio-8080-exec-4] o.s.d.c.core.query.OptionsBuilder        : upsert options: {}{durabilityLevel: Optional.empty, persistTo: NONE, replicateTo: NONE, timeout: Optional.empty, retryStrategy: Optional.empty, clientContext: null, parentSpan: Optional.empty}
2025-07-31T22:55:18.589+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.d.service.QAVerificationService  : QA marked as vectorized: 7928f228-7124-47a8-9b20-7a41bc8917d7 -> 7928f228-7124-47a8-9b20-7a41bc8917d7
2025-07-31T22:55:18.590+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.a.s.QAVectorizationService       : Successfully vectorized QA: 7928f228-7124-47a8-9b20-7a41bc8917d7
2025-07-31T22:55:18.590+08:00  INFO 43661 --- [ecom-assistant] [nio-8080-exec-4] c.e.a.e.controller.QAController          : Successfully triggered vectorization for 1 QAs in document: 0743bb0b-1a48-40b6-9526-6c1983ae9853
2025-07-31T23:04:04.389+08:00  INFO 43661 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"query":{"query":{"total_count":20,"percentiles_us":{"50.0":4816.895,"90.0":71827.455,"99.0":82837.503,"99.9":82837.503,"100.0":82837.503}}},"kv":{"get":{"total_count":72,"percentiles_us":{"50.0":348.159,"90.0":573.439,"99.0":761.855,"99.9":761.855,"100.0":761.855}},"upsert":{"total_count":5,"percentiles_us":{"50.0":786.431,"90.0":1171.455,"99.0":1171.455,"99.9":1171.455,"100.0":1171.455}},"remove":{"total_count":2,"percentiles_us":{"50.0":540.671,"90.0":7536.639,"99.0":7536.639,"99.9":7536.639,"100.0":7536.639}}}},"meta":{"emit_interval_s":600}}
