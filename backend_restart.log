[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------< com.ecom.ai:ecom-assistant-api >-------------------
[INFO] Building ecom-assistant-api 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.4.5:run (default-cli) > test-compile @ ecom-assistant-api >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ ecom-assistant-api ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ ecom-assistant-api ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ ecom-assistant-api ---
[INFO] skip non existing resourceDirectory /mnt/e/work/Couchbase/ecom_ai/ecom-assistant/ecom-assistant-api/src/test/resources
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ ecom-assistant-api ---
[INFO] No sources to compile
[INFO] 
[INFO] <<< spring-boot:3.4.5:run (default-cli) < test-compile @ ecom-assistant-api <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.4.5:run (default-cli) @ ecom-assistant-api ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.5)

2025-07-30T23:47:09.974+08:00  INFO 4961 --- [ecom-assistant] [           main] c.e.a.e.EcomAssistantApplication         : Starting EcomAssistantApplication using Java 21.0.8 with PID 4961 (/mnt/e/work/Couchbase/ecom_ai/ecom-assistant/ecom-assistant-api/target/classes started by sam in /mnt/e/work/Couchbase/ecom_ai/ecom-assistant/ecom-assistant-api)
2025-07-30T23:47:09.978+08:00  INFO 4961 --- [ecom-assistant] [           main] c.e.a.e.EcomAssistantApplication         : No active profile set, falling back to 1 default profile: "default"
2025-07-30T23:47:12.892+08:00  INFO 4961 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Couchbase repositories in DEFAULT mode.
2025-07-30T23:47:12.946+08:00  INFO 4961 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Couchbase repository interfaces.
2025-07-30T23:47:14.853+08:00  INFO 4961 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Couchbase repositories in DEFAULT mode.
2025-07-30T23:47:16.430+08:00  INFO 4961 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1573 ms. Found 0 Couchbase repository interfaces.
2025-07-30T23:47:16.440+08:00  INFO 4961 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Couchbase repositories in DEFAULT mode.
2025-07-30T23:47:17.171+08:00  INFO 4961 --- [ecom-assistant] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 726 ms. Found 11 Couchbase repository interfaces.
2025-07-30T23:47:17.895+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'shiroConfig' of type [com.ecom.ai.ecomassistant.auth.config.ShiroConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lifecycleBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-07-30T23:47:18.109+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseConfig' of type [com.ecom.ai.ecomassistant.db.config.CouchbaseConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:20.004+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseClusterEnvironment' of type [com.couchbase.client.java.env.ClusterEnvironment] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:20.008+08:00  INFO 4961 --- [ecom-assistant] [           main] c.e.a.e.db.config.CouchbaseConfig        : Connecting to Couchbase cluster at 127.0.0.1
2025-07-30T23:47:20.578+08:00  INFO 4961 --- [ecom-assistant] [oundedElastic-1] c.c.c.c.c.DefaultConfigurationProvider   : Resolved seed nodes: [SeedNode{address='127.0.0.1'}]
2025-07-30T23:47:21.783+08:00  INFO 4961 --- [ecom-assistant] [   cb-io-kv-9-1] c.c.c.c.compression.snappy.SnappyHelper  : Using fast Snappy compression codec because this is little-endian hardware and `sun.misc.Unsafe` is accessible.
2025-07-30T23:47:21.854+08:00  INFO 4961 --- [ecom-assistant] [      cb-events] com.couchbase.core                       : [com.couchbase.core][CoreCreatedEvent] {"clientVersion":"3.7.9","clientGitHash":"b5ce2184","coreVersion":"3.7.9","coreGitHash":"b5ce2184","userAgent":"couchbase-java/3.7.9 (Linux 6.6.87.2-microsoft-standard-WSL2 amd64; OpenJDK 64-Bit Server VM 21.0.8+9-Ubuntu-0ubuntu124.04.1)","maxNumRequestsInRetry":32768,"ioEnvironment":{"nativeIoEnabled":true,"eventLoopThreadCount":8,"eventLoopGroups":["EpollEventLoopGroup"]},"ioConfig":{"captureTraffic":[],"mutationTokensEnabled":true,"networkResolution":"auto","dnsSrvEnabled":true,"tcpKeepAlivesEnabled":true,"tcpKeepAliveTimeMs":60000,"configPollIntervalMs":2500,"kvCircuitBreakerConfig":"disabled","queryCircuitBreakerConfig":"disabled","viewCircuitBreakerConfig":"disabled","searchCircuitBreakerConfig":"disabled","analyticsCircuitBreakerConfig":"disabled","managerCircuitBreakerConfig":"disabled","eventingCircuitBreakerConfig":"disabled","backupCircuitBreakerConfig":"disabled","numKvConnections":1,"maxHttpConnections":12,"idleHttpConnectionTimeoutMs":1000,"configIdleRedialTimeoutMs":300000,"memcachedHashingStrategy":"StandardMemcachedHashingStrategy","timerConfig":{"numTimers":1,"tickDurationMs":10,"numBuckets":512},"lowWaterMark":"32 KiB","highWaterMark":"64 KiB","sendBuffer":null,"receiveBuffer":null},"compressionConfig":{"enabled":true,"minRatio":0.83,"minSize":32},"securityConfig":{"tlsEnabled":false,"nativeTlsEnabled":true,"hostnameVerificationEnabled":true,"trustCertificates":null,"trustManagerFactory":null,"ciphers":[]},"timeoutConfig":{"kvMs":2500,"kvDurableMs":10000,"kvScanMs":75000,"managementMs":75000,"queryMs":75000,"viewMs":75000,"searchMs":75000,"analyticsMs":75000,"connectMs":10000,"disconnectMs":10000,"eventingMs":75000,"backupMs":75000},"loggerConfig":{"diagnosticContextEnabled":false},"orphanReporterConfig":{"emitIntervalMs":10000,"sampleSize":10,"queueLength":1024,"enabled":true},"thresholdLoggingTracerConfig":{"enabled":true,"emitIntervalMs":10000,"sampleSize":10,"queueLength":1024,"kvThresholdMs":500,"queryThresholdMs":1000,"searchThresholdMs":1000,"analyticsThresholdMs":1000,"viewThresholdMs":1000,"transactionsThresholdMs":5000},"loggingMeterConfig":{"enabled":true,"emitIntervalMs":600000},"retryStrategy":"BestEffortRetryStrategy","requestTracer":"ThresholdLoggingTracer","meter":"LoggingMeter","numRequestCallbacks":0,"scheduler":"ParallelScheduler","schedulerThreadCount":16,"transactionsConfig":{"durabilityLevel":"MAJORITY","timeoutMs":15000,"cleanupConfig":{"runLostAttemptsCleanupThread":true,"runRegularAttemptsCleanupThread":true,"cleanupWindowMs":60000,"cleanupSet":""},"numAtrs":1024,"metadataCollection":"none","scanConsistency":"none"},"preferredServerGroup":"null"} {"connectionString":"couchbase://127.0.0.1","coreId":"0x586c0b7600000001","numCoreInstances":1}
2025-07-30T23:47:21.856+08:00  INFO 4961 --- [ecom-assistant] [      cb-events] com.couchbase.transactions               : [com.couchbase.transactions][TransactionsStartedEvent] Transactions successfully initialised, regular cleanup enabled=true, lost cleanup enabled=true
2025-07-30T23:47:21.857+08:00  INFO 4961 --- [ecom-assistant] [      cb-events] com.couchbase.node                       : [com.couchbase.node][NodeCreatedEvent] Node created {"coreId":"0x586c0b7600000001","managerPort":"8091","remote":"127.0.0.1"}
2025-07-30T23:47:23.825+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseCluster' of type [com.couchbase.client.java.Cluster] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:23.902+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseClientFactory' of type [org.springframework.data.couchbase.SimpleCouchbaseClientFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:24.047+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseCustomConversions' of type [org.springframework.data.couchbase.core.convert.CouchbaseCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:24.068+08:00  INFO 4961 --- [ecom-assistant] [      cb-events] com.couchbase.core                       : [com.couchbase.core][BucketOpenedEvent][141ms] Opened bucket "ECOM" {"coreId":"0x586c0b7600000001"}
2025-07-30T23:47:24.130+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseMappingContext' of type [org.springframework.data.couchbase.core.mapping.CouchbaseMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:24.221+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#a03529c' of type [org.springframework.beans.factory.config.ObjectFactoryCreatingFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:24.222+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#a03529c' of type [org.springframework.beans.factory.config.ObjectFactoryCreatingFactoryBean$TargetBeanObjectFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:24.245+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingCouchbaseConverter' of type [org.springframework.data.couchbase.core.convert.MappingCouchbaseConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:24.326+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseTranslationService' of type [org.springframework.data.couchbase.core.convert.translation.JacksonTranslationService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:24.570+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseTemplate' of type [org.springframework.data.couchbase.core.CouchbaseTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:24.571+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseRepositoryOperationsMapping' of type [org.springframework.data.couchbase.repository.config.RepositoryOperationsMapping] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:24.580+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#4' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:24.580+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#4' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.229+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.229+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userRepository' of type [jdk.proxy2.$Proxy104] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.230+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userService' of type [com.ecom.ai.ecomassistant.db.service.auth.UserService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.268+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#10' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.269+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#10' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.275+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.276+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRepository' of type [jdk.proxy2.$Proxy106] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.277+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamService' of type [com.ecom.ai.ecomassistant.db.service.auth.TeamService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.284+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#9' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.285+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#9' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.326+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamMembershipRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.327+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamMembershipRepository' of type [jdk.proxy2.$Proxy107] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.328+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamMembershipService' of type [com.ecom.ai.ecomassistant.db.service.auth.TeamMembershipService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.333+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#8' of type [org.springframework.data.repository.config.PropertiesBasedNamedQueriesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.334+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbase.named-queries#8' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.356+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRoleRepository' of type [org.springframework.data.couchbase.repository.support.CouchbaseRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.356+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRoleRepository' of type [jdk.proxy2.$Proxy108] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.357+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'teamRoleService' of type [com.ecom.ai.ecomassistant.db.service.auth.TeamRoleService] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.367+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userManager' of type [com.ecom.ai.ecomassistant.core.service.UserManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.385+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'couchbaseRealm' of type [com.ecom.ai.ecomassistant.auth.realm.CouchbaseRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.569+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.573+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'shiroFilterChainDefinition' of type [org.apache.shiro.spring.web.config.DefaultShiroFilterChainDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:25.813+08:00  WARN 4961 --- [ecom-assistant] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-30T23:47:27.936+08:00  INFO 4961 --- [ecom-assistant] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-30T23:47:27.990+08:00  INFO 4961 --- [ecom-assistant] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-30T23:47:27.991+08:00  INFO 4961 --- [ecom-assistant] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-07-30T23:47:28.180+08:00  INFO 4961 --- [ecom-assistant] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-30T23:47:28.183+08:00  INFO 4961 --- [ecom-assistant] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18024 ms
2025-07-30T23:47:31.052+08:00  INFO 4961 --- [ecom-assistant] [           main] o.s.a.v.CouchbaseSearchVectorStore       : Init Cluster Called
2025-07-30T23:47:31.252+08:00  INFO 4961 --- [ecom-assistant] [           main] o.s.a.v.CouchbaseSearchVectorStore       : Created bucket
2025-07-30T23:47:31.319+08:00  INFO 4961 --- [ecom-assistant] [           main] o.s.a.v.CouchbaseSearchVectorStore       : Opened Bucket
2025-07-30T23:47:31.478+08:00  INFO 4961 --- [ecom-assistant] [           main] c.c.client.core.util.ConsistencyUtil     : Waiting for config
2025-07-30T23:47:31.479+08:00  INFO 4961 --- [ecom-assistant] [           main] c.c.client.core.util.ConsistencyUtil     : Adding nodes from global config: [NodeIdentifier{canonical=127.0.0.1:8091, hostForNetworkConnections='127.0.0.1'}]
2025-07-30T23:47:31.479+08:00  INFO 4961 --- [ecom-assistant] [           main] c.c.client.core.util.ConsistencyUtil     : Adding nodes from bucket configs: [NodeIdentifier{canonical=127.0.0.1:8091, hostForNetworkConnections='127.0.0.1'}]
QA VectorStore configured:
  - Bucket: ECOM
  - Scope: AI
  - Collection: qa-vector
  - Expected Index: spring-ai-qa-vector-index
2025-07-30T23:47:32.155+08:00  INFO 4961 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      : 🔧 Tiered RAG Configuration:
2025-07-30T23:47:32.156+08:00  INFO 4961 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Enabled: true
2025-07-30T23:47:32.156+08:00  INFO 4961 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Priority: QA_FIRST
2025-07-30T23:47:32.156+08:00  INFO 4961 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - QA Vector: enabled=true, topK=3, strategy=DIRECT_FTS_FIRST
2025-07-30T23:47:32.157+08:00  INFO 4961 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Document Vector: enabled=true, topK=6, threshold=0.7
2025-07-30T23:47:32.157+08:00  INFO 4961 --- [ecom-assistant] [           main] c.e.a.e.ai.service.TieredRAGService      :   - Max Results: 8, Fallback: true
2025-07-30T23:47:33.468+08:00  INFO 4961 --- [ecom-assistant] [           main] o.s.d.c.c.m.event.AuditingEventListener  : auditingHandler IS an IsNewAwareAuditingHandler: org.springframework.data.auditing.IsNewAwareAuditingHandler@2a6ad48
2025-07-30T23:47:35.753+08:00  INFO 4961 --- [ecom-assistant] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-30T23:47:35.760+08:00  INFO 4961 --- [ecom-assistant] [           main] c.e.a.e.EcomAssistantApplication         : Started EcomAssistantApplication in 28.489 seconds (process running for 31.989)
2025-07-30T23:49:11.107+08:00  INFO 4961 --- [ecom-assistant] [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-30T23:49:11.108+08:00  INFO 4961 --- [ecom-assistant] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-30T23:49:11.110+08:00  INFO 4961 --- [ecom-assistant] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-30T23:49:11.951+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: user options: null statement: SELECT `_class`, META(`user`).`id` AS __id, `name`, `email`, `password`, `status`, `systemRoles`, `teamMembershipIds`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `user` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.User" AND `email` = $1
2025-07-30T23:49:12.017+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["sam0219mm@ecom.com"],"client_context_id":"968bfb1a-f883-474f-9045-8ed11073f2cf","metrics":false,"scan_consistency":"request_plus"}
2025-07-30T23:49:12.475+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-1] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-30T23:49:12.478+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-1] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"e1b516b1-53e1-4299-a8df-c26d0da22cc8","metrics":false,"scan_consistency":"request_plus"}
2025-07-30T23:49:12.537+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-1] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@10b3fa9a
2025-07-30T23:49:53.339+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@3a680124
2025-07-30T23:49:53.346+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-30T23:49:53.347+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"745ae755-e7d0-44bd-a0be-4de1fb3f897c","metrics":false,"scan_consistency":"request_plus"}
2025-07-30T23:49:53.353+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@186814dc
2025-07-30T23:49:53.355+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@2f5c2c68
2025-07-30T23:49:53.358+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-30T23:49:53.359+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"2b23d3fa-30e9-4de7-9325-ca862e0d2a20","metrics":false,"scan_consistency":"request_plus"}
2025-07-30T23:49:53.363+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@38d9ea16
2025-07-30T23:49:53.365+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=8e5a59f8-cef9-435d-9271-4ba92a70906e scope: AI collection: user options: com.couchbase.client.java.kv.GetOptions@59c0f2a2
2025-07-30T23:49:53.367+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] .c.c.ReactiveFindByQueryOperationSupport : findByQuery scope: AI collection: team-membership options: null statement: SELECT `_class`, META(`team-membership`).`id` AS __id, `userId`, `teamId`, `teamRoles`, `createdBy`, `createdDateTime`, `lastModifiedBy`, `lastModifiedDateTime` FROM `team-membership` WHERE `_class` = "com.ecom.ai.ecomassistant.db.model.auth.TeamMembership" AND `userId` = $1
2025-07-30T23:49:53.368+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] o.s.d.c.core.query.OptionsBuilder        : query options: {"args":["8e5a59f8-cef9-435d-9271-4ba92a70906e"],"client_context_id":"81fc74c7-d20e-43d6-aec5-cae2e6a845b8","metrics":false,"scan_consistency":"request_plus"}
2025-07-30T23:49:53.374+08:00 DEBUG 4961 --- [ecom-assistant] [nio-8080-exec-2] s.d.c.c.ReactiveFindByIdOperationSupport : findById key=c79e8f7a-7d4d-47d7-982e-e87b69df5ab5 scope: AI collection: team options: com.couchbase.client.java.kv.GetOptions@1d6d3b2
2025-07-30T23:50:02.888+08:00 ERROR 4961 --- [ecom-assistant] [nio-8080-exec-3] c.e.a.e.auth.filter.JwtFilter            : Unexpected error during login

java.lang.StringIndexOutOfBoundsException: Range [7, 6) out of bounds for length 6
	at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:55) ~[na:na]
	at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:52) ~[na:na]
	at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:213) ~[na:na]
	at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:210) ~[na:na]
	at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98) ~[na:na]
	at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckFromToIndex(Preconditions.java:112) ~[na:na]
	at java.base/jdk.internal.util.Preconditions.checkFromToIndex(Preconditions.java:349) ~[na:na]
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:4865) ~[na:na]
	at java.base/java.lang.String.substring(String.java:2834) ~[na:na]
	at java.base/java.lang.String.substring(String.java:2807) ~[na:na]
	at com.ecom.ai.ecomassistant.auth.util.JwtUtil.getTokenFromHeader(JwtUtil.java:56) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.auth.filter.JwtFilter.executeLogin(JwtFilter.java:32) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at com.ecom.ai.ecomassistant.auth.filter.JwtFilter.isAccessAllowed(JwtFilter.java:44) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at org.apache.shiro.web.filter.AccessControlFilter.onPreHandle(AccessControlFilter.java:163) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.filter.PathMatchingFilter.isFilterChainContinued(PathMatchingFilter.java:225) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.filter.PathMatchingFilter.preHandle(PathMatchingFilter.java:199) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at com.ecom.ai.ecomassistant.auth.filter.JwtFilter.preHandle(JwtFilter.java:89) ~[ecom-assistant-core-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:132) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:109) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:138) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:70) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:463) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.lambda$doFilterInternal$0(AbstractShiroFilter.java:378) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:91) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:84) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:389) ~[shiro-core-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:376) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:156) ~[shiro-web-2.0.4-jakarta.jar:2.0.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-30T23:56:33.955+08:00  INFO 4961 --- [ecom-assistant] [      cb-events] com.couchbase.metrics                    : [com.couchbase.metrics][LatencyMetricsAggregatedEvent][600s] Aggregated Latency Metrics: {"operations":{"analytics":{"corehttp":{"total_count":2,"percentiles_us":{"50.0":5898.239,"90.0":387973.119,"99.0":387973.119,"99.9":387973.119,"100.0":387973.119}}},"search":{"manager_search_get_all_indexes":{"total_count":1,"percentiles_us":{"50.0":1466.367,"90.0":1466.367,"99.0":1466.367,"99.9":1466.367,"100.0":1466.367}},"corehttp":{"total_count":2,"percentiles_us":{"50.0":5865.471,"90.0":392167.423,"99.0":392167.423,"99.9":392167.423,"100.0":392167.423}}},"management":{"manager_collections_get_all_scopes":{"total_count":2,"percentiles_us":{"50.0":2637.823,"90.0":3850.239,"99.0":3850.239,"99.9":3850.239,"100.0":3850.239}},"corehttp":{"total_count":1,"percentiles_us":{"50.0":2195.455,"90.0":2195.455,"99.0":2195.455,"99.9":2195.455,"100.0":2195.455}},"manager_buckets_get_all_buckets":{"total_count":1,"percentiles_us":{"50.0":41943.039,"90.0":41943.039,"99.0":41943.039,"99.9":41943.039,"100.0":41943.039}}},"query":{"query":{"total_count":5,"percentiles_us":{"50.0":4521.983,"90.0":103809.023,"99.0":103809.023,"99.9":103809.023,"100.0":103809.023}},"corehttp":{"total_count":2,"percentiles_us":{"50.0":6881.279,"90.0":404750.335,"99.0":404750.335,"99.9":404750.335,"100.0":404750.335}}},"kv":{"ping":{"total_count":1,"percentiles_us":{"50.0":1028.095,"90.0":1028.095,"99.0":1028.095,"99.9":1028.095,"100.0":1028.095}},"get":{"total_count":7,"percentiles_us":{"50.0":569.343,"90.0":10944.511,"99.0":10944.511,"99.9":10944.511,"100.0":10944.511}}},"views":{"corehttp":{"total_count":1,"percentiles_us":{"50.0":44826.623,"90.0":44826.623,"99.0":44826.623,"99.9":44826.623,"100.0":44826.623}}}},"meta":{"emit_interval_s":600}}
